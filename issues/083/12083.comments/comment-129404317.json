{
	"id": 129404317,
	"body": "\u003e In hindsight, calling log.Fatal in a test is just a bad idea.\r\n\r\nWell, if I will test go, I probably shouldn't care about installed gccgo in the first place.\r\nIn that hindsight running gccgo tests (from src/all.bash) doesn't look entirely sane for me:\r\nhttps://github.com/golang/go/blob/master/misc/cgo/testshared/shared_test.go#L470\r\n\r\nIf you are fine with that (As I said, this gccgo build is old and/or may be broken. Obviously, removing it from the PATH solves the problem):\r\n\r\n```\r\ngccgo -v\r\nUsing built-in specs.\r\nCOLLECT_GCC=gccgo\r\nCOLLECT_LTO_WRAPPER=/opt/gccgo/libexec/gcc/x86_64-unknown-linux-gnu/4.9.0/lto-wrapper\r\nTarget: x86_64-unknown-linux-gnu\r\nConfigured with: /repo/go/gccgo-git/configure --disable-multilib --enable-languages=go --prefix=/opt/gccgo --with-ld=/usr/bin/ld.gold --disable-nls --disable-bootstrap\r\nThread model: posix\r\ngcc version 4.9.0 20130823 (experimental) (GCC)\r\n```\r\n\r\n```\r\n/opt/gotip/misc/cgo/testshared$ go test -work\r\n\r\n$WORK/_/opt/gotip/misc/cgo/testshared/_test/testshared.test -test.v\r\n+ go install -installsuffix=4751997750760398084 -v -buildmode=shared runtime sync/atomic\r\nruntime\r\nsync/atomic\r\nruntime/cgo\r\n=== RUN   TestSOBuilt\r\n--- PASS: TestSOBuilt (0.00s)\r\n=== RUN   TestShlibnameFiles\r\n--- PASS: TestShlibnameFiles (0.00s)\r\n=== RUN   TestTrivialExecutable\r\n+ go install -installsuffix=4751997750760398084 -v -linkshared trivial\r\ntrivial\r\n--- PASS: TestTrivialExecutable (0.13s)\r\n=== RUN   TestCgoExecutable\r\n+ go install -installsuffix=4751997750760398084 -v -linkshared execgo\r\nsync\r\nsyscall\r\nexecgo\r\n--- PASS: TestCgoExecutable (1.43s)\r\n=== RUN   TestGopathShlib\r\n+ go install -installsuffix=4751997750760398084 -v -buildmode=shared -linkshared dep\r\ndep\r\n+ go install -installsuffix=4751997750760398084 -v -linkshared exe\r\nexe\r\n--- PASS: TestGopathShlib (0.32s)\r\n=== RUN   TestNotes\r\n+ go install -installsuffix=4751997750760398084 -v -buildmode=shared -linkshared dep\r\n--- PASS: TestNotes (0.04s)\r\n=== RUN   TestTwoGopathShlibs\r\n+ go install -installsuffix=4751997750760398084 -v -buildmode=shared -linkshared dep\r\n+ go install -installsuffix=4751997750760398084 -v -buildmode=shared -linkshared dep2\r\ndep2\r\n+ go install -installsuffix=4751997750760398084 -v -linkshared exe2\r\nexe2\r\n--- PASS: TestTwoGopathShlibs (0.34s)\r\n=== RUN   TestGoPathShlibGccgo\r\n+ go install -installsuffix=4751997750760398084 -v -compiler=gccgo -buildmode=shared -linkshared dep\r\ndep\r\n# dep\r\n/opt/gccgo/libexec/gcc/x86_64-unknown-linux-gnu/4.9.0/go1: error while loading shared libraries: libmpc.so.2: cannot open shared object file: No such file or directory\r\n2015/08/09 15:32:52 elf.Open failed: open /tmp/testshared690071565/pkg/gccgo_linux_amd64_4751997750760398084_fPIC/shlibs/libdep.so: no such file or directory\r\n```",
	"user": {
		"login": "capnm",
		"id": 4047289,
		"type": "User",
		"site_admin": false
	},
	"created_at": "2015-08-10T10:44:11Z",
	"updated_at": "2015-08-10T10:44:11Z"
}
