{
	"id": 66075766,
	"body": "\u003ca id=\"c7\"\u003e\u003c/a\u003eComment 7:\n\n\u003cpre\u003eMy latest crash was a little different, but clearly related.\nThis time it's stalling in the umtx call (0% CPU). GDB gives the following:\n\n(gdb) thread apply all bt\n\nThread 1 (process 55918):\n#0  runtime.sys_umtx_op ()\n    at /usr/local/go/src/pkg/runtime/sys_freebsd_amd64.s:19\n#1  0x000000000043ca62 in runtime.futexsleep (addr=void, val=void, ns=void)\n    at /usr/local/go/src/pkg/runtime/thread_freebsd.c:56\n#2  0x000000000042c089 in runtime.notesleep (n=void)\n    at /usr/local/go/src/pkg/runtime/lock_futex.c:125\n#3  0x00000000004355d0 in runtime.stoptheworld ()\n    at /usr/local/go/src/pkg/runtime/proc.c:372\n#4  0x00000000004307da in gc (args=void)\n    at /usr/local/go/src/pkg/runtime/mgc0.c:1765\n#5  0x0000000000441ff0 in ?? ()\n    at /usr/local/go/src/pkg/runtime/asm_amd64.s:265\n#6  0x0000000811162f8c in ?? ()\n#7  0x0000000811162100 in ?? ()\n#8  0x0000000811162fb8 in ?? ()\n#9  0x0000000811162f60 in ?? ()\n#10 0x000000000043072e in runtime.gc (force=void)\n    at /usr/local/go/src/pkg/runtime/mgc0.c:1736\n#11 0x0000000000000000 in ?? ()\n\nktrace gives a much shorter trace (this time I'm posting the complete trace):\n\n 55918 redwood  CALL  _umtx_op(0xa6c3b8,0x2,0,0,0)\n 55918 redwood  RET   _umtx_op -1 errno 4 Interrupted system call\n 55918 redwood  CALL  _umtx_op(0xa6c3b8,0x2,0,0,0)\n 55918 redwood  RET   _umtx_op -1 errno 4 Interrupted system call\n 55918 redwood  CALL  _umtx_op(0xa6c3b8,0x2,0,0,0)\n 55918 redwood  RET   _umtx_op -1 errno 4 Interrupted system call\n 55918 redwood  PSIG  SIGTERM caught handler=0x4425a0 mask=0x0 code=0x10001\n 55918 redwood  CALL  exit(0x2)\n 55918 redwood  RET   _umtx_op -1 errno 4 Interrupted system call\n 55918 redwood  RET   _umtx_op -1 errno 4 Interrupted system call\n 55918 redwood  RET   _umtx_op -1 errno 4 Interrupted system call\n 55918 redwood  RET   _umtx_op -1 errno 4 Interrupted system call\n 55918 redwood  RET   _umtx_op -1 errno 4 Interrupted system call\n 55918 redwood  RET   _umtx_op -1 errno 4 Interrupted system call\n 55918 redwood  RET   _umtx_op -1 errno 4 Interrupted system call\n 55918 redwood  RET   _umtx_op -1 errno 4 Interrupted system call\n 55918 redwood  RET   _umtx_op -1 errno 4 Interrupted system call\n 55918 redwood  RET   _umtx_op -1 errno 4 Interrupted system call\n\nThe interrupted system calls before SIGTERM are times I pressed control-C in gdb. Then I\nsent the process SIGTERM to kill it. Do the lines after exit mean that 10 threads were\nin calls to _umtx_op when I killed the process? But if so, why did thread apply all bt\nonly trace one thread?\u003c/pre\u003e",
	"user": {
		"login": "andybalholm",
		"id": 868908,
		"type": "User",
		"site_admin": false
	},
	"created_at": "2013-03-06T18:35:10Z",
	"updated_at": "2014-12-08T10:26:31Z"
}
