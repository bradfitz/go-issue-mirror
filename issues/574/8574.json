{
	"id": 51288390,
	"number": 8574,
	"state": "open",
	"title": "runtime: netbsd hangs during testing.Skipf",
	"body": "\u003cpre\u003e\u003ca href=\"http://build.golang.org/log/5fa874aa9491709d111a582f2d1deb08191888b0\"\u003ehttp://build.golang.org/log/5fa874aa9491709d111a582f2d1deb08191888b0\u003c/a\u003e\n\nThe runtime/pprof test usually takes ~15s, and it only takes that long because each\ntests run for a minimum length of time. The test or scheduler is thus likely hung at the\nstack trace below.\n\n\nSIGQUIT: quit\nPC=0x43128a\n\ngoroutine 8 [running]:\nruntime.lwp_park(0xc208045ae8, 0x0, 0xc20801e9b8, 0x0)\n\t/usr/local/go/src/pkg/runtime/sys_netbsd_amd64.s:55 +0x1a fp=0xc208045ac8 sp=0xc208045ac0\nruntime.semasleep(0x138ccaaad512aae0)\n\t/usr/local/go/src/pkg/runtime/os_netbsd.c:105 +0x238 fp=0xc208045b00 sp=0xc208045ac8\nnotetsleep(0x64bdf0, 0x186a0, 0x138ccaaad512a8bb, 0x0)\n\t/usr/local/go/src/pkg/runtime/lock_sema.c:196 +0xe1 fp=0xc208045b20 sp=0xc208045b00\nruntime.notetsleep(0x64bdf0, 0x186a0)\n\t/usr/local/go/src/pkg/runtime/lock_sema.c:245 +0xb8 fp=0xc208045b50 sp=0xc208045b20\nruntime.stoptheworld()\n\t/usr/local/go/src/pkg/runtime/proc.c:541 +0x1b6 fp=0xc208045b80 sp=0xc208045b50\nruntime.gomaxprocsfunc(0xc200000001)\n\t/usr/local/go/src/pkg/runtime/proc.c:2092 +0x9e fp=0xc208045ba0 sp=0xc208045b80\nruntime.GOMAXPROCS(0x1, 0x0)\n\t/usr/local/go/src/pkg/runtime/runtime1.goc:11 +0x31 fp=0xc208045bb0 sp=0xc208045ba0\nruntime.call16(0x5affe0, 0xc208036468, 0x1000000010)\n\t/usr/local/go/src/pkg/runtime/asm_amd64.s:416 +0x32 fp=0xc208045bc8 sp=0xc208045bb0\nrundefer()\n\t/usr/local/go/src/pkg/runtime/panic.c:186 +0x67 fp=0xc208045bf0 sp=0xc208045bc8\nruntime.Goexit()\n\t/usr/local/go/src/pkg/runtime/panic.c:560 +0x1a fp=0xc208045bf8 sp=0xc208045bf0\ntesting.(*common).SkipNow(0xc20800e120)\n\t/usr/local/go/src/pkg/testing/testing.go:373 +0x3c fp=0xc208045c08 sp=0xc208045bf8\ntesting.(*common).Skipf(0xc20800e120, 0x5a1d30, 0x31, 0xc208045d98, 0x1, 0x1)\n\t/usr/local/go/src/pkg/testing/testing.go:362 +0x89 fp=0xc208045c58 sp=0xc208045c08\nruntime/pprof_test.testCPUProfile(0xc20800e120, 0xc208045f40, 0x2, 0x2, 0xc208045f18)\n\t/tmp/gobuilder/netbsd-amd64-bsiegert-f05a93afebee/go/src/pkg/runtime/pprof/pprof_test.go:157 +0xb61 fp=0xc208045ed8 sp=0xc208045c58\nruntime/pprof_test.TestCPUProfileMultithreaded(0xc20800e120)\n\t/tmp/gobuilder/netbsd-amd64-bsiegert-f05a93afebee/go/src/pkg/runtime/pprof/pprof_test.go:55 +0x121 fp=0xc208045f68 sp=0xc208045ed8\ntesting.tRunner(0xc20800e120, 0x646a38)\n\t/usr/local/go/src/pkg/testing/testing.go:427 +0x8b fp=0xc208045f98 sp=0xc208045f68\nruntime.goexit()\n\t/usr/local/go/src/pkg/runtime/proc.c:1490 fp=0xc208045fa0 sp=0xc208045f98\ncreated by testing.RunTests\n\t/usr/local/go/src/pkg/testing/testing.go:509 +0x8f7\n\ngoroutine 1 [chan receive]:\nruntime.park(0x41ebc0, 0xc208032238, 0x64826c, 0xc)\n\t/usr/local/go/src/pkg/runtime/proc.c:1421 +0xa7 fp=0xc20801bbf0 sp=0xc20801bbe0\nruntime.parkunlock(0xc208032238, 0x64826c, 0xc)\n\t/usr/local/go/src/pkg/runtime/proc.c:1437 +0x47 fp=0xc20801bc18 sp=0xc20801bbf0\nchanrecv(0x5020c0, 0xc2080321e0, 0xc20801bde0, 0x445501, 0x0)\n\t/usr/local/go/src/pkg/runtime/chan.goc:301 +0x591 fp=0xc20801bc98 sp=0xc20801bc18\nruntime.chanrecv1(0x5020c0, 0xc2080321e0, 0xc20801bde0)\n\t/usr/local/go/src/pkg/runtime/chan.goc:385 +0x38 fp=0xc20801bcc8 sp=0xc20801bc98\ntesting.RunTests(0x5afe80, 0x646a20, 0x6, 0x6, 0xb906fd549c596001)\n\t/usr/local/go/src/pkg/testing/testing.go:510 +0x942 fp=0xc20801be68 sp=0xc20801bcc8\ntesting.Main(0x5afe80, 0x646a20, 0x6, 0x6, 0x64f0e0, 0x0, 0x0, 0x64f0e0, 0x0, 0x0)\n\t/usr/local/go/src/pkg/testing/testing.go:440 +0x83 fp=0xc20801bee8 sp=0xc20801be68\nmain.main()\n\truntime/pprof/_test/_testmain.go:57 +0x95 fp=0xc20801bf40 sp=0xc20801bee8\nruntime.main()\n\t/usr/local/go/src/pkg/runtime/proc.c:259 +0x137 fp=0xc20801bfa8 sp=0xc20801bf40\nruntime.goexit()\n\t/usr/local/go/src/pkg/runtime/proc.c:1490 fp=0xc20801bfb0 sp=0xc20801bfa8\n\ngoroutine 2 [runnable]:\nruntime.notetsleepg(0xc208017f70, 0xdf8475800)\n\t/usr/local/go/src/pkg/runtime/lock_sema.c:263 +0x88 fp=0xc208017f48 sp=0xc208017f18\nruntime.MHeap_Scavenger()\n\t/usr/local/go/src/pkg/runtime/mheap.c:668 +0x99 fp=0xc208017fa8 sp=0xc208017f48\nruntime.goexit()\n\t/usr/local/go/src/pkg/runtime/proc.c:1490 fp=0xc208017fb0 sp=0xc208017fa8\ncreated by runtime.main\n\t/usr/local/go/src/pkg/runtime/proc.c:219\n\ngoroutine 3 [GC sweep wait]:\nruntime.park(0x41ebc0, 0x64b320, 0x64a43b, 0xd)\n\t/usr/local/go/src/pkg/runtime/proc.c:1421 +0xa7 fp=0xc208019f50 sp=0xc208019f40\nruntime.parkunlock(0x64b320, 0x64a43b, 0xd)\n\t/usr/local/go/src/pkg/runtime/proc.c:1437 +0x47 fp=0xc208019f78 sp=0xc208019f50\nbgsweep()\n\t/usr/local/go/src/pkg/runtime/mgc0.c:1114 +0xd2 fp=0xc208019fa8 sp=0xc208019f78\nruntime.goexit()\n\t/usr/local/go/src/pkg/runtime/proc.c:1490 fp=0xc208019fb0 sp=0xc208019fa8\ncreated by runtime.gc\n\t/usr/local/go/src/pkg/runtime/mgc0.c:1332\n\ngoroutine 4 [finalizer wait, 3 minutes]:\nruntime.park(0x41ebc0, 0x64b2f8, 0x64a594, 0xe)\n\t/usr/local/go/src/pkg/runtime/proc.c:1421 +0xa7 fp=0xc208049f08 sp=0xc208049ef8\nruntime.parkunlock(0x64b2f8, 0x64a594, 0xe)\n\t/usr/local/go/src/pkg/runtime/proc.c:1437 +0x47 fp=0xc208049f30 sp=0xc208049f08\nrunfinq()\n\t/usr/local/go/src/pkg/runtime/mgc0.c:1667 +0xf4 fp=0xc208049fa8 sp=0xc208049f30\nruntime.goexit()\n\t/usr/local/go/src/pkg/runtime/proc.c:1490 fp=0xc208049fb0 sp=0xc208049fa8\ncreated by runtime.gc\n\t/usr/local/go/src/pkg/runtime/mgc0.c:1332\n\ngoroutine 5 [runnable]:\nruntime.notetsleepg(0x64baf8, 0x1bf08cdd53)\n\t/usr/local/go/src/pkg/runtime/lock_sema.c:263 +0x88 fp=0xc20804bf48 sp=0xc20804bf18\ntimerproc()\n\t/usr/local/go/src/pkg/runtime/time.goc:257 +0x11e fp=0xc20804bfa8 sp=0xc20804bf48\nruntime.goexit()\n\t/usr/local/go/src/pkg/runtime/proc.c:1490 fp=0xc20804bfb0 sp=0xc20804bfa8\ncreated by addtimer\n\t/usr/local/go/src/pkg/runtime/time.goc:111\n\nrax     0x4\nrbx     0xc20801e9bc\nrcx     0xffffffff80102160\nrdx     0xc20801e9b8\nrdi     0xc208045ae8\nrsi     0x0\nrbp     0xc208045af0\nrsp     0xc208045ac0\nr8      0x131\nr9      0x4a\nr10     0x0\nr11     0x206\nr12     0x0\nr13     0xc20802c140\nr14     0x0\nr15     0x9d\nrip     0x43128a\nrflags  0x207\ncs      0xe033\nfs      0xffffa000a9fc0000\ngs      0x0\n*** Test killed with quit: ran too long (3m0s).\nFAIL\truntime/pprof\t180.072s\u003c/pre\u003e",
	"user": {
		"login": "josharian",
		"id": 67496,
		"type": "User",
		"site_admin": false
	},
	"labels": [
		{
			"name": "OS-NetBSD"
		}
	],
	"comments": 4,
	"created_at": "2014-08-22T21:23:35Z",
	"updated_at": "2016-01-26T02:52:13Z",
	"milestone": {
		"id": 1055141,
		"number": 6,
		"title": "Unplanned"
	}
}
