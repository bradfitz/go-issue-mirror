{
	"id": 161635240,
	"body": "With same code/line-numbers as in email, using master (assuming master == tip):\r\n\r\n````\r\n$ go version\r\ngo version devel +bb6fb92 Thu Dec 3 03:53:35 2015 +0000 linux/amd64\r\n$ go build -race golang_crash.go \r\n$ ./golang_crash \r\n2015/12/03 14:03:06 RoundTrip [url] 200 OK HTTP/1.1\r\n2015/12/03 14:03:06 RoundTrip [url] 204 Request format is unrecognized for URL unexpectedly ending in '/'. HTTP/1.1\r\n==================\r\nWARNING: DATA RACE\r\nRead by goroutine 9:\r\n  bufio.(*Reader).ReadSlice()\r\n      /home/sebastian/go-tip/src/bufio/bufio.go:306 +0x75\r\n  net/http/internal.readChunkLine()\r\n      /home/sebastian/go-tip/src/net/http/internal/chunked.go:110 +0x60\r\n  net/http/internal.(*chunkedReader).beginChunk()\r\n      /home/sebastian/go-tip/src/net/http/internal/chunked.go:47 +0x5a\r\n  net/http/internal.(*chunkedReader).Read()\r\n      /home/sebastian/go-tip/src/net/http/internal/chunked.go:77 +0x11a\r\n  net/http.(*body).readLocked()\r\n      /home/sebastian/go-tip/src/net/http/transfer.go:642 +0x113\r\n  net/http.(*body).Read()\r\n      /home/sebastian/go-tip/src/net/http/transfer.go:634 +0x157\r\n  net/http.(*bodyEOFSignal).Read()\r\n      /home/sebastian/go-tip/src/net/http/transport.go:1480 +0x2df\r\n  io.(*LimitedReader).Read()\r\n      /home/sebastian/go-tip/src/io/io.go:426 +0x15d\r\n  bytes.(*Buffer).ReadFrom()\r\n      /home/sebastian/go-tip/src/bytes/buffer.go:173 +0x414\r\n  io/ioutil.readAll()\r\n      /home/sebastian/go-tip/src/io/ioutil/ioutil.go:33 +0x1a2\r\n  io/ioutil.ReadAll()\r\n      /home/sebastian/go-tip/src/io/ioutil/ioutil.go:42 +0x71\r\n  main.main.func1()\r\n      /home/sebastian/src/golang_crash.go:75 +0x8bb\r\n\r\nPrevious write by goroutine 51:\r\n  bufio.(*Reader).fill()\r\n      /home/sebastian/go-tip/src/bufio/bufio.go:88 +0x1cf\r\n  bufio.(*Reader).Peek()\r\n      /home/sebastian/go-tip/src/bufio/bufio.go:132 +0x186\r\n  net/http.(*persistConn).readLoop()\r\n      /home/sebastian/go-tip/src/net/http/transport.go:995 +0x13e\r\n\r\nGoroutine 9 (running) created at:\r\n  main.main()\r\n      /home/sebastian/src/golang_crash.go:84 +0x2eb\r\n\r\nGoroutine 51 (running) created at:\r\n  net/http.(*Transport).dialConn()\r\n      /home/sebastian/go-tip/src/net/http/transport.go:790 +0x14c0\r\n  net/http.(*Transport).getConn.func4()\r\n      /home/sebastian/go-tip/src/net/http/transport.go:648 +0x73\r\n==================\r\n==================\r\nWARNING: DATA RACE\r\nRead by goroutine 9:\r\n  bufio.(*Reader).ReadSlice()\r\n      /home/sebastian/go-tip/src/bufio/bufio.go:306 +0x94\r\n  net/http/internal.readChunkLine()\r\n      /home/sebastian/go-tip/src/net/http/internal/chunked.go:110 +0x60\r\n  net/http/internal.(*chunkedReader).beginChunk()\r\n      /home/sebastian/go-tip/src/net/http/internal/chunked.go:47 +0x5a\r\n  net/http/internal.(*chunkedReader).Read()\r\n      /home/sebastian/go-tip/src/net/http/internal/chunked.go:77 +0x11a\r\n  net/http.(*body).readLocked()\r\n      /home/sebastian/go-tip/src/net/http/transfer.go:642 +0x113\r\n  net/http.(*body).Read()\r\n      /home/sebastian/go-tip/src/net/http/transfer.go:634 +0x157\r\n2015/12/03 14:03:06 RoundTrip [url] 403 Forbidden HTTP/1.1\r\n  net/http.(*bodyEOFSignal).Read()\r\n      /home/sebastian/go-tip/src/net/http/transport.go:1480 +0x2df\r\n  io.(*LimitedReader).Read()\r\n      /home/sebastian/go-tip/src/io/io.go:426 +0x15d\r\n  bytes.(*Buffer).ReadFrom()\r\n      /home/sebastian/go-tip/src/bytes/buffer.go:173 +0x414\r\n  io/ioutil.readAll()\r\n      /home/sebastian/go-tip/src/io/ioutil/ioutil.go:33 +0x1a2\r\n  io/ioutil.ReadAll()\r\n      /home/sebastian/go-tip/src/io/ioutil/ioutil.go:42 +0x71\r\n  main.main.func1()\r\n      /home/sebastian/src/golang_crash.go:75 +0x8bb\r\n\r\nPrevious write by goroutine 51:\r\n  bufio.(*Reader).fill()\r\n      /home/sebastian/go-tip/src/bufio/bufio.go:87 +0x189\r\n  bufio.(*Reader).Peek()\r\n      /home/sebastian/go-tip/src/bufio/bufio.go:132 +0x186\r\n  net/http.(*persistConn).readLoop()\r\n      /home/sebastian/go-tip/src/net/http/transport.go:995 +0x13e\r\n\r\nGoroutine 9 (running) created at:\r\n  main.main()\r\n      /home/sebastian/src/golang_crash.go:84 +0x2eb\r\n\r\nGoroutine 51 (running) created at:\r\n  net/http.(*Transport).dialConn()\r\n      /home/sebastian/go-tip/src/net/http/transport.go:790 +0x14c0\r\n  net/http.(*Transport).getConn.func4()\r\n      /home/sebastian/go-tip/src/net/http/transport.go:648 +0x73\r\n==================\r\n2015/12/03 14:03:06 RoundTrip [url] 403 Forbidden HTTP/1.1\r\n2015/12/03 14:03:06 RoundTrip [url] 200 OK HTTP/1.1\r\n2015/12/03 14:03:06 RoundTrip [url] 403 Forbidden HTTP/1.1\r\n2015/12/03 14:03:06 RoundTrip [url] 403 Forbidden HTTP/1.1\r\n2015/12/03 14:03:06 RoundTrip [url] 404 Not Found HTTP/1.1\r\n2015/12/03 14:03:06 RoundTrip [url] 403 Forbidden HTTP/1.1\r\n==================\r\nWARNING: DATA RACE\r\nRead by goroutine 51:\r\n  bufio.(*Reader).ReadSlice()\r\n      /home/sebastian/go-tip/src/bufio/bufio.go:333 +0x281\r\n  bufio.(*Reader).ReadLine()\r\n      /home/sebastian/go-tip/src/bufio/bufio.go:357 +0x6c\r\n  net/textproto.(*Reader).readLineSlice()\r\n      /home/sebastian/go-tip/src/net/textproto/reader.go:55 +0xa2\r\n  net/textproto.(*Reader).ReadLine()\r\n      /home/sebastian/go-tip/src/net/textproto/reader.go:36 +0x4d\r\n  net/http.ReadResponse()\r\n      /home/sebastian/go-tip/src/net/http/response.go:128 +0x182\r\n  net/http.(*persistConn).readLoop()\r\n      /home/sebastian/go-tip/src/net/http/transport.go:1018 +0x675\r\n\r\nPrevious write by goroutine 9:\r\n  runtime.slicecopy()\r\n      /home/sebastian/go-tip/src/runtime/slice.go:113 +0x0\r\n  crypto/tls.(*Conn).Read()\r\n      /home/sebastian/go-tip/src/crypto/tls/conn.go:928 +0x39f\r\n  net/http.noteEOFReader.Read()\r\n      /home/sebastian/go-tip/src/net/http/transport.go:1554 +0x74\r\n  net/http.(*noteEOFReader).Read()\r\n      \u003cautogenerated\u003e:260 +0xf7\r\n  bufio.(*Reader).fill()\r\n      /home/sebastian/go-tip/src/bufio/bufio.go:97 +0x364\r\n  bufio.(*Reader).ReadSlice()\r\n      /home/sebastian/go-tip/src/bufio/bufio.go:328 +0x5a8\r\n  net/http/internal.readChunkLine()\r\n      /home/sebastian/go-tip/src/net/http/internal/chunked.go:110 +0x60\r\n  net/http/internal.(*chunkedReader).beginChunk()\r\n      /home/sebastian/go-tip/src/net/http/internal/chunked.go:47 +0x5a\r\n  net/http/internal.(*chunkedReader).Read()\r\n      /home/sebastian/go-tip/src/net/http/internal/chunked.go:77 +0x11a\r\n  net/http.(*body).readLocked()\r\n      /home/sebastian/go-tip/src/net/http/transfer.go:642 +0x113\r\n  net/http.(*body).Read()\r\n      /home/sebastian/go-tip/src/net/http/transfer.go:634 +0x157\r\n  net/http.(*bodyEOFSignal).Read()\r\n      /home/sebastian/go-tip/src/net/http/transport.go:1480 +0x2df\r\n  io.(*LimitedReader).Read()\r\n      /home/sebastian/go-tip/src/io/io.go:426 +0x15d\r\n  bytes.(*Buffer).ReadFrom()\r\n      /home/sebastian/go-tip/src/bytes/buffer.go:173 +0x414\r\n  io/ioutil.readAll()\r\n      /home/sebastian/go-tip/src/io/ioutil/ioutil.go:33 +0x1a2\r\n  io/ioutil.ReadAll()\r\n      /home/sebastian/go-tip/src/io/ioutil/ioutil.go:42 +0x71\r\n  main.main.func1()\r\n      /home/sebastian/src/golang_crash.go:75 +0x8bb\r\n\r\nGoroutine 51 (running) created at:\r\n  net/http.(*Transport).dialConn()\r\n      /home/sebastian/go-tip/src/net/http/transport.go:790 +0x14c0\r\n  net/http.(*Transport).getConn.func4()\r\n      /home/sebastian/go-tip/src/net/http/transport.go:648 +0x73\r\n\r\nGoroutine 9 (running) created at:\r\n  main.main()\r\n      /home/sebastian/src/golang_crash.go:84 +0x2eb\r\n==================\r\npanic: runtime error: slice bounds out of range [recovered]\r\n\tpanic: runtime error: slice bounds out of range\r\n\r\ngoroutine 22 [running]:\r\nio/ioutil.readAll.func1(0xc82004bd78)\r\n\t/home/sebastian/go-tip/src/io/ioutil/ioutil.go:30 +0x17d\r\nbufio.(*Reader).ReadSlice(0xc8202d6060, 0xc82010f40a, 0x0, 0x0, 0x0, 0x0, 0x0)\r\n\t/home/sebastian/go-tip/src/bufio/bufio.go:306 +0x5b3\r\nnet/http/internal.readChunkLine(0xc8202d6060, 0x0, 0x0, 0x0, 0x0, 0x0)\r\n\t/home/sebastian/go-tip/src/net/http/internal/chunked.go:110 +0x61\r\nnet/http/internal.(*chunkedReader).beginChunk(0xc8202fafc0)\r\n\t/home/sebastian/go-tip/src/net/http/internal/chunked.go:47 +0x5b\r\nnet/http/internal.(*chunkedReader).Read(0xc8202fafc0, 0xc8202a8600, 0x200, 0x200, 0x0, 0x0, 0x0)\r\n\t/home/sebastian/go-tip/src/net/http/internal/chunked.go:77 +0x11b\r\nnet/http.(*body).readLocked(0xc820075f80, 0xc8202a8600, 0x200, 0x200, 0xc820075fd0, 0x0, 0x0)\r\n\t/home/sebastian/go-tip/src/net/http/transfer.go:642 +0x114\r\nnet/http.(*body).Read(0xc820075f80, 0xc8202a8600, 0x200, 0x200, 0x0, 0x0, 0x0)\r\n\t/home/sebastian/go-tip/src/net/http/transfer.go:634 +0x158\r\nnet/http.(*bodyEOFSignal).Read(0xc820075fc0, 0xc8202a8600, 0x200, 0x200, 0x0, 0x0, 0x0)\r\n\t/home/sebastian/go-tip/src/net/http/transport.go:1480 +0x2e0\r\nio.(*LimitedReader).Read(0xc82032ad80, 0xc8202a8600, 0x200, 0x200, 0x774360, 0x0, 0x0)\r\n\t/home/sebastian/go-tip/src/io/io.go:426 +0x15e\r\nbytes.(*Buffer).ReadFrom(0xc82004bcd0, 0x7f4eaf2538c0, 0xc82032ad80, 0x0, 0x0, 0x0)\r\n\t/home/sebastian/go-tip/src/bytes/buffer.go:173 +0x415\r\nio/ioutil.readAll(0x7f4eaf2538c0, 0xc82032ad80, 0x200, 0x0, 0x0, 0x0, 0x0, 0x0)\r\n\t/home/sebastian/go-tip/src/io/ioutil/ioutil.go:33 +0x1a3\r\nio/ioutil.ReadAll(0x7f4eaf2538c0, 0xc82032ad80, 0x0, 0x0, 0x0, 0x0, 0x0)\r\n\t/home/sebastian/go-tip/src/io/ioutil/ioutil.go:42 +0x72\r\nmain.main.func1(0xc820072180, 0xc8200ec210, 0xc820076c70)\r\n\t/home/sebastian/src/golang_crash.go:75 +0x8bc\r\ncreated by main.main\r\n\t/home/sebastian/src/golang_crash.go:84 +0x2ec\r\n````",
	"user": {
		"login": "sebcat",
		"id": 2697829,
		"type": "User",
		"site_admin": false
	},
	"created_at": "2015-12-03T13:13:52Z",
	"updated_at": "2015-12-03T13:13:52Z"
}
