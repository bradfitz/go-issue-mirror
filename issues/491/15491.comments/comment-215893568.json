{
	"id": 215893568,
	"body": "I can reproduce this. It appears to happen when the std lib is compiled with `-newexport=0` but `go get` is run without `-gcflags=\"-newexport=0\"` (and thus uses the new export format). It does not happen when the new (or old, for that matter) export format is used throughout.\r\n```\r\ngri-macmini:x gri$ go get -u golang.org/x/tools/...\r\n# golang.org/x/tools/blog\r\ntools/blog/blog.go:24: inconsistent definition for type reflect.rtype during import\r\n\tstruct { size uintptr; ptrdata uintptr; hash uint32; tflag reflect.tflag; align uint8; fieldAlign uint8; kind uint8; alg *reflect.typeAlg; gcdata *byte; str reflect.nameOff; _ int32 } (in \"encoding/json\")\r\n\tstruct { size uintptr; ptrdata uintptr; hash uint32; tflag reflect.tflag; align uint8; fieldAlign uint8; kind uint8; alg *reflect.typeAlg; gcdata *byte; str reflect.nameOff; _ int32 } (in \"golang.org/x/tools/present\")\r\n# golang.org/x/tools/cmd/eg\r\ntools/cmd/eg/eg.go:18: internal compiler error: importer: empty package name in import\r\n\r\ngoroutine 1 [running]:\r\nruntime/debug.Stack(0x0, 0x0, 0x0)\r\n\t/Users/gri/go/src/runtime/debug/stack.go:24 +0x6f\r\ncmd/compile/internal/gc.Fatalf(0x4c6464, 0x26, 0x0, 0x0, 0x0)\r\n\t/Users/gri/go/src/cmd/compile/internal/gc/subr.go:158 +0x236\r\ncmd/compile/internal/gc.(*importer).pkg(0xc8208998c0, 0xc820a3a17c)\r\n\t/Users/gri/go/src/cmd/compile/internal/gc/bimport.go:204 +0x68a\r\ncmd/compile/internal/gc.(*importer).param(0xc8208998c0, 0x1, 0x1)\r\n\t/Users/gri/go/src/cmd/compile/internal/gc/bimport.go:572 +0x15a\r\ncmd/compile/internal/gc.(*importer).paramList(0xc8208998c0, 0xc820a402c0, 0x3, 0x3)\r\n\t/Users/gri/go/src/cmd/compile/internal/gc/bimport.go:546 +0xa0\r\ncmd/compile/internal/gc.(*importer).typ(0xc8208998c0, 0xffffffffffffff12)\r\n\t/Users/gri/go/src/cmd/compile/internal/gc/bimport.go:363 +0x242\r\ncmd/compile/internal/gc.(*importer).typ(0xc8208998c0, 0xc8209e6150)\r\n\t/Users/gri/go/src/cmd/compile/internal/gc/bimport.go:410 +0xedb\r\ncmd/compile/internal/gc.(*importer).field(0xc8208998c0, 0xc8209e4990)\r\n\t/Users/gri/go/src/cmd/compile/internal/gc/bimport.go:469 +0x4b\r\ncmd/compile/internal/gc.(*importer).fieldList(0xc8208998c0, 0xffffffffffffff16, 0xc8209e2690, 0x0)\r\n\t/Users/gri/go/src/cmd/compile/internal/gc/bimport.go:459 +0x85\r\ncmd/compile/internal/gc.(*importer).typ(0xc8208998c0, 0xc8209e25f0)\r\n\t/Users/gri/go/src/cmd/compile/internal/gc/bimport.go:406 +0xb74\r\ncmd/compile/internal/gc.(*importer).typ(0xc8208998c0, 0xffffffffffffff12)\r\n\t/Users/gri/go/src/cmd/compile/internal/gc/bimport.go:341 +0x138\r\ncmd/compile/internal/gc.(*importer).typ(0xc8208998c0, 0x0)\r\n\t/Users/gri/go/src/cmd/compile/internal/gc/bimport.go:410 +0xedb\r\ncmd/compile/internal/gc.(*importer).param(0xc8208998c0, 0x1, 0x2)\r\n\t/Users/gri/go/src/cmd/compile/internal/gc/bimport.go:553 +0x30\r\ncmd/compile/internal/gc.(*importer).paramList(0xc8208998c0, 0xffffffffffffff13, 0xc8209e2550, 0xefa5)\r\n\t/Users/gri/go/src/cmd/compile/internal/gc/bimport.go:546 +0xa0\r\ncmd/compile/internal/gc.(*importer).typ(0xc8208998c0, 0xc820959dc0)\r\n\t/Users/gri/go/src/cmd/compile/internal/gc/bimport.go:414 +0xe09\r\ncmd/compile/internal/gc.(*importer).field(0xc8208998c0, 0xc8209dfef0)\r\n\t/Users/gri/go/src/cmd/compile/internal/gc/bimport.go:469 +0x4b\r\ncmd/compile/internal/gc.(*importer).fieldList(0xc8208998c0, 0xffffffffffffff16, 0xc8208d3ef0, 0x0)\r\n\t/Users/gri/go/src/cmd/compile/internal/gc/bimport.go:459 +0x85\r\ncmd/compile/internal/gc.(*importer).typ(0xc8208998c0, 0xc8203d41e0)\r\n\t/Users/gri/go/src/cmd/compile/internal/gc/bimport.go:406 +0xb74\r\ncmd/compile/internal/gc.(*importer).typ(0xc8208998c0, 0x0)\r\n\t/Users/gri/go/src/cmd/compile/internal/gc/bimport.go:341 +0x138\r\ncmd/compile/internal/gc.(*importer).obj(0xc8208998c0, 0xfffffffffffffffd)\r\n\t/Users/gri/go/src/cmd/compile/internal/gc/bimport.go:250 +0x903\r\ncmd/compile/internal/gc.Import(0xc82009c480)\r\n\t/Users/gri/go/src/cmd/compile/internal/gc/bimport.go:88 +0x338\r\ncmd/compile/internal/gc.importfile(0xc82043c790, 0x0, 0x0, 0x0)\r\n\t/Users/gri/go/src/cmd/compile/internal/gc/main.go:825 +0x902\r\ncmd/compile/internal/gc.(*parser).importdcl(0xc82043c770)\r\n\t/Users/gri/go/src/cmd/compile/internal/gc/parser.go:341 +0x160\r\ncmd/compile/internal/gc.(*parser).import_(0xc82043c770)\r\n\t/Users/gri/go/src/cmd/compile/internal/gc/parser.go:300 +0x67\r\ncmd/compile/internal/gc.(*parser).file(0xc82043c770)\r\n\t/Users/gri/go/src/cmd/compile/internal/gc/parser.go:268 +0x54\r\ncmd/compile/internal/gc.parse_file(0xc82009c180)\r\n\t/Users/gri/go/src/cmd/compile/internal/gc/parser.go:31 +0x4a\r\ncmd/compile/internal/gc.Main()\r\n\t/Users/gri/go/src/cmd/compile/internal/gc/main.go:331 +0x144e\r\ncmd/compile/internal/amd64.Main()\r\n\t/Users/gri/go/src/cmd/compile/internal/amd64/galign.go:96 +0x381\r\nmain.main()\r\n\t/Users/gri/go/src/cmd/compile/main.go:33 +0x286\r\n\r\n```\r\nAnalysis: The original error report (inconsistent definition...) is likely due to incorrect *Symbol setup in the compiler (wrong package). The 2nd error (empty package...) may be related.",
	"user": {
		"login": "griesemer",
		"id": 8528975,
		"type": "User",
		"site_admin": false
	},
	"reactions": {
		"total_count": 1,
		"+1": 1
	},
	"created_at": "2016-04-29T22:01:49Z",
	"updated_at": "2016-04-29T22:01:49Z"
}
