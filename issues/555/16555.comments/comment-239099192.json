{
	"id": 239099192,
	"body": "I did a fresh install of go1.6.3 with the provided installer, here is the output of the stacktrace:\r\n\r\n```\r\nD:\\Eigene Dateien\\Coding\\go\\src\\issues\\issue16555\u003ego version\r\ngo version go1.6.3 windows/amd64\r\n\r\nD:\\Eigene Dateien\\Coding\\go\\src\\issues\\issue16555\u003ego env\r\nset GOARCH=amd64\r\nset GOBIN=\r\nset GOEXE=.exe\r\nset GOHOSTARCH=amd64\r\nset GOHOSTOS=windows\r\nset GOOS=windows\r\nset GOPATH=D:\\Eigene Dateien\\Coding\\go\r\nset GORACE=\r\nset GOROOT=D:\\go\\go163\r\nset GOTOOLDIR=D:\\go\\go163\\pkg\\tool\\windows_amd64\r\nset GO15VENDOREXPERIMENT=1\r\nset CC=gcc\r\nset GOGCCFLAGS=-m64 -mthreads -fmessage-length=0\r\nset CXX=g++\r\nset CGO_ENABLED=1\r\n\r\nD:\\Eigene Dateien\\Coding\\go\\src\\issues\\issue16555\u003eset GOTRACEBACK=all\r\n\r\nD:\\Eigene Dateien\\Coding\\go\\src\\issues\\issue16555\u003ego run -a main.go\r\nHello, client\r\npanic: AAAA\r\n\r\ngoroutine 17 [running]:\r\npanic(0x6a2e40, 0xc0820c2000)\r\n        D:/go/go163/src/runtime/panic.go:481 +0x3f4\r\nnet/http/httptest.(*Server).logCloseHangDebugInfo(0xc082032360)\r\n        D:/go/go163/src/net/http/httptest/server.go:193 +0x6c\r\nnet/http/httptest.(*Server).(net/http/httptest.logCloseHangDebugInfo)-fm()\r\n        D:/go/go163/src/net/http/httptest/server.go:177 +0x27\r\ncreated by time.goFunc\r\n        D:/go/go163/src/time/sleep.go:129 +0x41\r\n\r\ngoroutine 1 [semacquire]:\r\nsync.runtime_Semacquire(0xc08203239c)\r\n        D:/go/go163/src/runtime/sema.go:47 +0x2d\r\nsync.(*WaitGroup).Wait(0xc082032390)\r\n        D:/go/go163/src/sync/waitgroup.go:127 +0xbb\r\nnet/http/httptest.(*Server).Close(0xc082032360)\r\n        D:/go/go163/src/net/http/httptest/server.go:189 +0x264\r\nmain.main()\r\n        D:/Eigene Dateien/Coding/go/src/issues/issue16555/main.go:28 +0x431\r\n\r\ngoroutine 5 [IO wait]:\r\nnet.runtime_pollWaitCanceled(0x3855e0, 0x72)\r\n        D:/go/go163/src/runtime/netpoll.go:176 +0x38\r\nnet.(*pollDesc).WaitCanceled(0xc082018d70, 0x72)\r\n        D:/go/go163/src/net/fd_poll_runtime.go:86 +0x35\r\nnet.(*ioSrv).ExecIO(0xc082022028, 0xc082018c60, 0x793fb0, 0x8, 0xc08209d2e0, 0xc082019800, 0x0, 0x0)\r\n        D:/go/go163/src/net/fd_windows.go:213 +0x37f\r\nnet.(*netFD).acceptOne(0xc082018c00, 0xc0820a61c0, 0x2, 0x2, 0xc082018c60, 0xd0, 0x0, 0x0)\r\n        D:/go/go163/src/net/fd_windows.go:583 +0x26c\r\nnet.(*netFD).accept(0xc082018c00, 0x0, 0x0, 0x0)\r\n        D:/go/go163/src/net/fd_windows.go:613 +0x173\r\nnet.(*TCPListener).AcceptTCP(0xc082022038, 0xc08201de90, 0x0, 0x0)\r\n        D:/go/go163/src/net/tcpsock_posix.go:254 +0x54\r\nnet.(*TCPListener).Accept(0xc082022038, 0x0, 0x0, 0x0, 0x0)\r\n        D:/go/go163/src/net/tcpsock_posix.go:264 +0x44\r\nnet/http.(*Server).Serve(0xc082008100, 0x384638, 0xc082022038, 0x0, 0x0)\r\n        D:/go/go163/src/net/http/server.go:2117 +0x130\r\nnet/http/httptest.(*Server).goServe.func1(0xc082032360)\r\n        D:/go/go163/src/net/http/httptest/server.go:238 +0x7c\r\ncreated by net/http/httptest.(*Server).goServe\r\n        D:/go/go163/src/net/http/httptest/server.go:239 +0x5f\r\n\r\ngoroutine 10 [IO wait]:\r\nnet.runtime_pollWaitCanceled(0x385460, 0x72)\r\n        D:/go/go163/src/runtime/netpoll.go:176 +0x38\r\nnet.(*pollDesc).WaitCanceled(0xc0820194f0, 0x72)\r\n        D:/go/go163/src/net/fd_poll_runtime.go:86 +0x35\r\nnet.(*ioSrv).ExecIO(0xc082022028, 0xc0820193e0, 0x78f948, 0x7, 0x827918, 0xc082004780, 0x0, 0x0)\r\n        D:/go/go163/src/net/fd_windows.go:213 +0x37f\r\nnet.(*netFD).Read(0xc082019380, 0xc0820b4000, 0x1000, 0x1000, 0x0, 0x0, 0x0)\r\n        D:/go/go163/src/net/fd_windows.go:482 +0x17e\r\nnet.(*conn).Read(0xc082022050, 0xc0820b4000, 0x1000, 0x1000, 0x0, 0x0, 0x0)\r\n        D:/go/go163/src/net/net.go:172 +0xeb\r\nnet/http.(*connReader).Read(0xc08209d300, 0xc0820b4000, 0x1000, 0x1000, 0x0, 0x0, 0x0)\r\n        D:/go/go163/src/net/http/server.go:526 +0x19d\r\nbufio.(*Reader).fill(0xc0820328a0)\r\n        D:/go/go163/src/bufio/bufio.go:97 +0x1f0\r\nbufio.(*Reader).ReadSlice(0xc0820328a0, 0xa, 0x0, 0x0, 0x0, 0x0, 0x0)\r\n        D:/go/go163/src/bufio/bufio.go:328 +0x221\r\nbufio.(*Reader).ReadLine(0xc0820328a0, 0x0, 0x0, 0x0, 0x775700, 0x0, 0x0)\r\n        D:/go/go163/src/bufio/bufio.go:357 +0x5a\r\nnet/textproto.(*Reader).readLineSlice(0xc082050ed0, 0x0, 0x0, 0x0, 0x0, 0x0)\r\n        D:/go/go163/src/net/textproto/reader.go:55 +0x88\r\nnet/textproto.(*Reader).ReadLine(0xc082050ed0, 0x0, 0x0, 0x0, 0x0)\r\n        D:/go/go163/src/net/textproto/reader.go:36 +0x47\r\nnet/http.readRequest(0xc0820328a0, 0x0, 0xc0820a6380, 0x0, 0x0)\r\n        D:/go/go163/src/net/http/request.go:721 +0xbd\r\nnet/http.(*conn).readRequest(0xc082008280, 0x0, 0x0, 0x0)\r\n        D:/go/go163/src/net/http/server.go:705 +0x360\r\nnet/http.(*conn).serve(0xc082008280)\r\n        D:/go/go163/src/net/http/server.go:1425 +0x94e\r\ncreated by net/http.(*Server).Serve\r\n        D:/go/go163/src/net/http/server.go:2137 +0x455\r\n\r\ngoroutine 8 [IO wait]:\r\nnet.runtime_pollWaitCanceled(0x385520, 0x72)\r\n        D:/go/go163/src/runtime/netpoll.go:176 +0x38\r\nnet.(*pollDesc).WaitCanceled(0xc0820191f0, 0x72)\r\n        D:/go/go163/src/net/fd_poll_runtime.go:86 +0x35\r\nnet.(*ioSrv).ExecIO(0xc082022028, 0xc0820190e0, 0x78f948, 0x7, 0x827918, 0x4114e8, 0x0, 0x0)\r\n        D:/go/go163/src/net/fd_windows.go:213 +0x37f\r\nnet.(*netFD).Read(0xc082019080, 0xc0820b2000, 0x1000, 0x1000, 0x0, 0x0, 0x0)\r\n        D:/go/go163/src/net/fd_windows.go:482 +0x17e\r\nnet.(*conn).Read(0xc082022048, 0xc0820b2000, 0x1000, 0x1000, 0x0, 0x0, 0x0)\r\n        D:/go/go163/src/net/net.go:172 +0xeb\r\nnet/http.noteEOFReader.Read(0x385758, 0xc082022048, 0xc082039728, 0xc0820b2000, 0x1000, 0x1000, 0x40449a, 0x0, 0x0)\r\n        D:/go/go163/src/net/http/transport.go:1690 +0x6e\r\nnet/http.(*noteEOFReader).Read(0xc08209d1c0, 0xc0820b2000, 0x1000, 0x1000, 0xc0820afd0d, 0x0, 0x0)\r\n        \u003cautogenerated\u003e:284 +0xd7\r\nbufio.(*Reader).fill(0xc0820326c0)\r\n        D:/go/go163/src/bufio/bufio.go:97 +0x1f0\r\nbufio.(*Reader).Peek(0xc0820326c0, 0x1, 0x0, 0x0, 0x0, 0x0, 0x0)\r\n        D:/go/go163/src/bufio/bufio.go:132 +0xd3\r\nnet/http.(*persistConn).readLoop(0xc0820396c0)\r\n        D:/go/go163/src/net/http/transport.go:1076 +0x17e\r\ncreated by net/http.(*Transport).dialConn\r\n        D:/go/go163/src/net/http/transport.go:860 +0x10ad\r\nexit status 2\r\n\r\nD:\\Eigene Dateien\\Coding\\go\\src\\issues\\issue16555\u003e\r\n```\r\n\r\nNext i installed go1.7rc6 with the provided installer. I ran it without the modification in `server.go` file (panic(...)). After that i put the panic call in function logCloseHangDebugInfo at line 193. I canceled the running programm wit CTRL-C, therefore `exit status 2` occurs.\r\n\r\n```\r\nD:\\Eigene Dateien\\Coding\\go\\src\\issues\\issue16555\u003ego version\r\ngo version go1.7rc6 windows/amd64\r\n\r\nD:\\Eigene Dateien\\Coding\\go\\src\\issues\\issue16555\u003ego env\r\nset GOARCH=amd64\r\nset GOBIN=\r\nset GOEXE=.exe\r\nset GOHOSTARCH=amd64\r\nset GOHOSTOS=windows\r\nset GOOS=windows\r\nset GOPATH=D:\\Eigene Dateien\\Coding\\go\r\nset GORACE=\r\nset GOROOT=D:\\go\\go17rc6\r\nset GOTOOLDIR=D:\\go\\go17rc6\\pkg\\tool\\windows_amd64\r\nset CC=gcc\r\nset GOGCCFLAGS=-m64 -mthreads -fmessage-length=0 -fdebug-prefix-map=C:\\Users\\Frank\\AppData\\Local\\Temp\\go-build585817646=/tmp/go-build -gno-record-gcc-switches\r\nset CXX=g++\r\nset CGO_ENABLED=1\r\n\r\nD:\\Eigene Dateien\\Coding\\go\\src\\issues\\issue16555\u003ego run -a main.go\r\nHello, client\r\n2016/08/11 10:05:51 httptest.Server blocked in Close after 5 seconds, waiting for connections:\r\n  *net.TCPConn 0xc042066050 127.0.0.1:1270 in state idle\r\nexit status 2\r\n\r\nD:\\Eigene Dateien\\Coding\\go\\src\\issues\\issue16555\u003eset GOTRACEBACK=all\r\n\r\nD:\\Eigene Dateien\\Coding\\go\\src\\issues\\issue16555\u003ego run -a main.go\r\nHello, client\r\npanic: AAAA\r\n\r\ngoroutine 8 [running]:\r\npanic(0x605ca0, 0xc04200c2b0)\r\n        D:/go/go17rc6/src/runtime/panic.go:500 +0x1af\r\nnet/http/httptest.(*Server).logCloseHangDebugInfo(0xc042036360)\r\n        D:/go/go17rc6/src/net/http/httptest/server.go:193 +0x74\r\nnet/http/httptest.(*Server).(net/http/httptest.logCloseHangDebugInfo)-fm()\r\n        D:/go/go17rc6/src/net/http/httptest/server.go:177 +0x31\r\ncreated by time.goFunc\r\n        D:/go/go17rc6/src/time/sleep.go:154 +0x4b\r\n\r\ngoroutine 1 [semacquire]:\r\nsync.runtime_Semacquire(0xc04203639c)\r\n        D:/go/go17rc6/src/runtime/sema.go:47 +0x37\r\nsync.(*WaitGroup).Wait(0xc042036390)\r\n        D:/go/go17rc6/src/sync/waitgroup.go:131 +0x9e\r\nnet/http/httptest.(*Server).Close(0xc042036360)\r\n        D:/go/go17rc6/src/net/http/httptest/server.go:189 +0x234\r\nmain.main()\r\n        D:/Eigene Dateien/Coding/go/src/issues/issue16555/main.go:28 +0x219\r\n\r\ngoroutine 18 [IO wait]:\r\nnet.runtime_pollWaitCanceled(0x809060, 0x72)\r\n        D:/go/go17rc6/src/runtime/netpoll.go:176 +0x40\r\nnet.(*pollDesc).waitCanceled(0xc0420682f0, 0x72)\r\n        D:/go/go17rc6/src/net/fd_poll_runtime.go:86 +0x3f\r\nnet.(*ioSrv).ExecIO(0xc042064020, 0xc0420681e0, 0x65c889, 0x8, 0xc0420d2140, 0xc0420e4180, 0x0, 0x0)\r\n        D:/go/go17rc6/src/net/fd_windows.go:201 +0x2a3\r\nnet.(*netFD).acceptOne(0xc042068180, 0xc0420d80e0, 0x2, 0x2, 0xc0420681e0, 0x4cd437, 0xc0420363a0, 0xc0420d60f0)\r\n        D:/go/go17rc6/src/net/fd_windows.go:529 +0x1f8\r\nnet.(*netFD).accept(0xc042068180, 0x0, 0x0, 0x0)\r\n        D:/go/go17rc6/src/net/fd_windows.go:559 +0x131\r\nnet.(*TCPListener).accept(0xc042064030, 0x43381e, 0xc04201fe70, 0x4a5654)\r\n        D:/go/go17rc6/src/net/tcpsock_posix.go:132 +0x35\r\nnet.(*TCPListener).Accept(0xc042064030, 0x67c4d8, 0xc0420f6000, 0x752700, 0xc0420d6060)\r\n        D:/go/go17rc6/src/net/tcpsock.go:222 +0x50\r\nnet/http.(*Server).Serve(0xc042074200, 0x752140, 0xc042064030, 0x0, 0x0)\r\n        D:/go/go17rc6/src/net/http/server.go:2273 +0x1d5\r\nnet/http/httptest.(*Server).goServe.func1(0xc042036360)\r\n        D:/go/go17rc6/src/net/http/httptest/server.go:236 +0x74\r\ncreated by net/http/httptest.(*Server).goServe\r\n        D:/go/go17rc6/src/net/http/httptest/server.go:237 +0x63\r\n\r\ngoroutine 6 [IO wait]:\r\nnet.runtime_pollWaitCanceled(0x808ee0, 0x72)\r\n        D:/go/go17rc6/src/runtime/netpoll.go:176 +0x40\r\nnet.(*pollDesc).waitCanceled(0xc0420e8170, 0x72)\r\n        D:/go/go17rc6/src/net/fd_poll_runtime.go:86 +0x3f\r\nnet.(*ioSrv).ExecIO(0xc042064020, 0xc0420e8060, 0x65c6c4, 0x7, 0x67c368, 0xc04200c290, 0x404671, 0xc0420c4020)\r\n        D:/go/go17rc6/src/net/fd_windows.go:201 +0x2a3\r\nnet.(*netFD).Read(0xc0420e8000, 0xc0420ec000, 0x1000, 0x1000, 0x0, 0x0, 0x0)\r\n        D:/go/go17rc6/src/net/fd_windows.go:426 +0x14a\r\nnet.(*conn).Read(0xc042024010, 0xc0420ec000, 0x1000, 0x1000, 0x0, 0x0, 0x0)\r\n        D:/go/go17rc6/src/net/net.go:173 +0x77\r\nnet/http.(*persistConn).Read(0xc042000500, 0xc0420ec000, 0x1000, 0x1000, 0x4bb257, 0xc0420ddb48, 0x4038ad)\r\n        D:/go/go17rc6/src/net/http/transport.go:1256 +0x15b\r\nbufio.(*Reader).fill(0xc0420e6360)\r\n        D:/go/go17rc6/src/bufio/bufio.go:97 +0x113\r\nbufio.(*Reader).Peek(0xc0420e6360, 0x1, 0xc0420ddbad, 0x1, 0x0, 0xc0420e63c0, 0x0)\r\n        D:/go/go17rc6/src/bufio/bufio.go:129 +0x69\r\nnet/http.(*persistConn).readLoop(0xc042000500)\r\n        D:/go/go17rc6/src/net/http/transport.go:1413 +0x1a8\r\ncreated by net/http.(*Transport).dialConn\r\n        D:/go/go17rc6/src/net/http/transport.go:1057 +0x4f0\r\n\r\ngoroutine 33 [IO wait]:\r\nnet.runtime_pollWaitCanceled(0x808fa0, 0x72)\r\n        D:/go/go17rc6/src/runtime/netpoll.go:176 +0x40\r\nnet.(*pollDesc).waitCanceled(0xc0420e4170, 0x72)\r\n        D:/go/go17rc6/src/net/fd_poll_runtime.go:86 +0x3f\r\nnet.(*ioSrv).ExecIO(0xc042064020, 0xc0420e4060, 0x65c6c4, 0x7, 0x67c368, 0x0, 0x0, 0xc0420ef8c8)\r\n        D:/go/go17rc6/src/net/fd_windows.go:201 +0x2a3\r\nnet.(*netFD).Read(0xc0420e4000, 0xc04210c000, 0x1000, 0x1000, 0x0, 0x0, 0x0)\r\n        D:/go/go17rc6/src/net/fd_windows.go:426 +0x14a\r\nnet.(*conn).Read(0xc0420ea000, 0xc04210c000, 0x1000, 0x1000, 0x0, 0x0, 0x0)\r\n        D:/go/go17rc6/src/net/net.go:173 +0x77\r\nnet/http.(*connReader).Read(0xc0420c0c00, 0xc04210c000, 0x1000, 0x1000, 0xc04200c260, 0xc0420ef9b0, 0x8)\r\n        D:/go/go17rc6/src/net/http/server.go:586 +0x14b\r\nbufio.(*Reader).fill(0xc0420364e0)\r\n        D:/go/go17rc6/src/bufio/bufio.go:97 +0x113\r\nbufio.(*Reader).ReadSlice(0xc0420364e0, 0xa, 0x0, 0x1e, 0x6, 0x0, 0x0)\r\n        D:/go/go17rc6/src/bufio/bufio.go:330 +0xbc\r\nbufio.(*Reader).ReadLine(0xc0420364e0, 0xc0420c42d0, 0xf0, 0xf0, 0x652980, 0xc0420c2b00, 0x120490)\r\n        D:/go/go17rc6/src/bufio/bufio.go:359 +0x3e\r\nnet/textproto.(*Reader).readLineSlice(0xc042080a80, 0xc0420efa98, 0xc0420efa98, 0x40f72f, 0xf0, 0x652980)\r\n        D:/go/go17rc6/src/net/textproto/reader.go:55 +0x65\r\nnet/textproto.(*Reader).ReadLine(0xc042080a80, 0xc0420c42d0, 0xc, 0x401a7a, 0xc0420efc68)\r\n        D:/go/go17rc6/src/net/textproto/reader.go:36 +0x36\r\nnet/http.readRequest(0xc0420364e0, 0xc0420efc00, 0xc0420c42d0, 0x0, 0x0)\r\n        D:/go/go17rc6/src/net/http/request.go:793 +0xac\r\nnet/http.(*conn).readRequest(0xc0420f6000, 0x752640, 0xc042040380, 0x0, 0x0, 0x0)\r\n        D:/go/go17rc6/src/net/http/server.go:765 +0x114\r\nnet/http.(*conn).serve(0xc0420f6000, 0x752640, 0xc042040380)\r\n        D:/go/go17rc6/src/net/http/server.go:1532 +0x3da\r\ncreated by net/http.(*Server).Serve\r\n        D:/go/go17rc6/src/net/http/server.go:2293 +0x454\r\nexit status 2\r\n\r\nD:\\Eigene Dateien\\Coding\\go\\src\\issues\\issue16555\u003e\r\n```\r\n Is there a difference to install go from installer or from zip-Package? Maybe the lines changed because i installed go previously by zip...?",
	"user": {
		"login": "fraenky8",
		"id": 4038800,
		"type": "User",
		"site_admin": false
	},
	"created_at": "2016-08-11T08:17:25Z",
	"updated_at": "2016-08-11T08:17:25Z"
}
