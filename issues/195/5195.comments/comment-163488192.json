{
	"id": 163488192,
	"body": "@bradfitz I was just looking through this issue and decided to re-run your initial test, there was one crash\r\n```shell\r\n$ git log | head -n 1 \u0026\u0026 go version\r\ncommit c2ef005486fa05cbeddc74c7faac8f6a867703d4\r\ngo version devel +c2ef005 Thu Dec 10 04:43:08 2015 +0000 darwin/amd64\r\n$ ./http.test -test.v -test.run=none -test.bench=ServerHandler -test.cpuprofile=prof.cpu -test.benchtime=4s\r\nPASS\r\nBenchmarkServerHandlerTypeLen-4 \t 1000000\t      5549 ns/op\t    1858 B/op\t      17 allocs/op\r\nBenchmarkServerHandlerNoLen-4   \t 1000000\t      5385 ns/op\t    1826 B/op\t      14 allocs/op\r\nBenchmarkServerHandlerNoType-4  \t 1000000\t      5148 ns/op\t    1826 B/op\t      15 allocs/op\r\nBenchmarkServerHandlerNoHeader-4\t 2000000\t      4358 ns/op\t    1041 B/op\t       9 allocs/op\r\n$\r\n$ # Second run because ./http.test -test.v -test.run=none -test.bench=ServerHandler -test.cpuprofile=prof.cpu -test.benchtime=4s only runs clause with `-test.v -test.run=none -test.bench=ServerHandler`\r\n$ ./http.test -test.cpuprofile=prof.cpu -test.benchtime=4s\r\n--- FAIL: TestTransportConcurrency (0.11s)\r\n\ttransport_test.go:1216: error on req request-465: Get http://127.0.0.1:55568/?echo=request-465: write tcp 127.0.0.1:55825-\u003e127.0.0.1:55568: write: socket is not connected\r\nFAIL\r\n```\r\n\r\nOtherwise this looks like an improvement\r\n### Old\r\n```shell\r\nBenchmarkServerHandlerTypeLen    1000000         11098 ns/op        1878 B/op         19 allocs/op\r\nBenchmarkServerHandlerNoLen      1000000         10249 ns/op        1843 B/op         17 allocs/op\r\nBenchmarkServerHandlerNoType     1000000         10620 ns/op        1844 B/op         17 allocs/op\r\nBenchmarkServerHandlerNoHeader   1000000         8674 ns/op         1051 B/op         12 allocs/op\r\n```\r\n\r\n### New\r\n```shell\r\nBenchmarkServerHandlerTypeLen-4 \t 1000000\t      5549 ns/op\t    1858 B/op\t      17 allocs/op\r\nBenchmarkServerHandlerNoLen-4   \t 1000000\t      5385 ns/op\t    1826 B/op\t      14 allocs/op\r\nBenchmarkServerHandlerNoType-4  \t 1000000\t      5148 ns/op\t    1826 B/op\t      15 allocs/op\r\nBenchmarkServerHandlerNoHeader-4\t 2000000\t      4358 ns/op\t    1041 B/op\t       9 allocs/op\r\n```",
	"user": {
		"login": "odeke-em",
		"id": 4898263,
		"type": "User",
		"site_admin": false
	},
	"created_at": "2015-12-10T05:03:02Z",
	"updated_at": "2015-12-10T05:11:26Z"
}
