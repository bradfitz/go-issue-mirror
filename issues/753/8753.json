{
	"id": 51288646,
	"number": 8753,
	"state": "closed",
	"title": "sync/atomic: untyped args ",
	"body": "\u003cpre\u003eFew builders are broken with:\n\nruntime: frame sync/atomic.StoreUint32 untyped args 0xc2081a4370+0xc\nfatal error: missing stackmap\n\nruntime stack:\nruntime.throw(0x72e1c0)\n\t/tmp/gobuilder/freebsd-amd64-91f53e24babd/go/src/runtime/panic.go:419 +0xad fp=0xc20808dbe8 sp=0xc20808dbb8\nscanframe(0xc20808dc80, 0x0, 0x1)\n\t/tmp/gobuilder/freebsd-amd64-91f53e24babd/go/src/runtime/mgc0.c:667 +0x308 fp=0xc20808dc58 sp=0xc20808dbe8\nruntime.tracebackdefers(0xc2080d3e60, 0xc20808dd30, 0x0)\n\t/tmp/gobuilder/freebsd-amd64-91f53e24babd/go/src/runtime/traceback.go:73 +0xab fp=0xc20808dcd8 sp=0xc20808dc58\nscanstack(0xc2080d3e60)\n\t/tmp/gobuilder/freebsd-amd64-91f53e24babd/go/src/runtime/mgc0.c:715 +0x239 fp=0xc20808dd48 sp=0xc20808dcd8\nmarkroot(0xc20800e000, 0x209)\n\t/tmp/gobuilder/freebsd-amd64-91f53e24babd/go/src/runtime/mgc0.c:490 +0xe7 fp=0xc20808dda8 sp=0xc20808dd48\nruntime.parfordo(0xc20800e000)\n\t/tmp/gobuilder/freebsd-amd64-91f53e24babd/go/src/runtime/parfor.c:91 +0x13b fp=0xc20808de28 sp=0xc20808dda8\nruntime.gchelper()\n\t/tmp/gobuilder/freebsd-amd64-91f53e24babd/go/src/runtime/mgc0.c:1121 +0x4a fp=0xc20808de50 sp=0xc20808de28\nstopm()\n\t/tmp/gobuilder/freebsd-amd64-91f53e24babd/go/src/runtime/proc.c:1203 +0x158 fp=0xc20808de70 sp=0xc20808de50\ngcstopm()\n\t/tmp/gobuilder/freebsd-amd64-91f53e24babd/go/src/runtime/proc.c:1373 +0xed fp=0xc20808de98 sp=0xc20808de70\nfindrunnable(0xc208012000)\n\t/tmp/gobuilder/freebsd-amd64-91f53e24babd/go/src/runtime/proc.c:1410 +0x2e fp=0xc20808ded0 sp=0xc20808de98\nschedule()\n\t/tmp/gobuilder/freebsd-amd64-91f53e24babd/go/src/runtime/proc.c:1597 +0x151 fp=0xc20808df00 sp=0xc20808ded0\nruntime.gosched_m(0xc20809cc60)\n\t/tmp/gobuilder/freebsd-amd64-91f53e24babd/go/src/runtime/proc.c:1696 +0xac fp=0xc20808df20 sp=0xc20808df00\nruntime.newstack()\n\t/tmp/gobuilder/freebsd-amd64-91f53e24babd/go/src/runtime/stack.c:741 +0x4d7 fp=0xc20808dfd0 sp=0xc20808df20\nruntime.morestack()\n\t/tmp/gobuilder/freebsd-amd64-91f53e24babd/go/src/runtime/asm_amd64.s:324 +0x7e fp=0xc20808dfd8 sp=0xc20808dfd0\n\ngoroutine 1 [chan receive]:\nruntime.gopark(0x434260, 0xc208744958, 0x61e230, 0xc)\n\t/tmp/gobuilder/freebsd-amd64-91f53e24babd/go/src/runtime/proc.go:131 +0x10f fp=0xc20801bc18 sp=0xc20801bbd8\nruntime.goparkunlock(0xc208744958, 0x61e230, 0xc)\n\t/tmp/gobuilder/freebsd-amd64-91f53e24babd/go/src/runtime/proc.go:136 +0x48 fp=0xc20801bc40 sp=0xc20801bc18\nruntime.chanrecv(0x5791c0, 0xc208744900, 0xc20801be20, 0x455201, 0x0)\n\t/tmp/gobuilder/freebsd-amd64-91f53e24babd/go/src/runtime/chan.go:405 +0x440 fp=0xc20801bcd8 sp=0xc20801bc40\nruntime.chanrecv1(0x5791c0, 0xc208744900, 0xc20801be20)\n\t/tmp/gobuilder/freebsd-amd64-91f53e24babd/go/src/runtime/chan.go:307 +0x2b fp=0xc20801bd08 sp=0xc20801bcd8\ntesting.RunTests(0x677690, 0x72e780, 0x75, 0x75, 0x581c01)\n\t/usr/local/go/src/testing/testing.go:510 +0xac6 fp=0xc20801beb8 sp=0xc20801bd08\ntesting.Main(0x677690, 0x72e780, 0x75, 0x75, 0x72fde0, 0xc5, 0xc5, 0x738de0, 0x0, 0x0)\n\t/usr/local/go/src/testing/testing.go:440 +0x82 fp=0xc20801bf40 sp=0xc20801beb8\nmain.main()\n\truntime/_test/_testmain.go:673 +0x96 fp=0xc20801bf98 sp=0xc20801bf40\nruntime.main()\n\t/tmp/gobuilder/freebsd-amd64-91f53e24babd/go/src/runtime/proc.go:63 +0xf3 fp=0xc20801bfe0 sp=0xc20801bf98\nruntime.goexit()\n\t/tmp/gobuilder/freebsd-amd64-91f53e24babd/go/src/runtime/proc.c:1705 fp=0xc20801bfe8 sp=0xc20801bfe0\n\ngoroutine 2 [force gc (idle)]:\nruntime.gopark(0x434260, 0x731940, 0x61f510, 0xf)\n\t/tmp/gobuilder/freebsd-amd64-91f53e24babd/go/src/runtime/proc.go:131 +0x10f fp=0xc208017f98 sp=0xc208017f58\nruntime.goparkunlock(0x731940, 0x61f510, 0xf)\n\t/tmp/gobuilder/freebsd-amd64-91f53e24babd/go/src/runtime/proc.go:136 +0x48 fp=0xc208017fc0 sp=0xc208017f98\nruntime.forcegchelper()\n\t/tmp/gobuilder/freebsd-amd64-91f53e24babd/go/src/runtime/proc.go:99 +0xce fp=0xc208017fe0 sp=0xc208017fc0\nruntime.goexit()\n\t/tmp/gobuilder/freebsd-amd64-91f53e24babd/go/src/runtime/proc.c:1705 fp=0xc208017fe8 sp=0xc208017fe0\ncreated by runtime.init·4\n\t/tmp/gobuilder/freebsd-amd64-91f53e24babd/go/src/runtime/proc.go:87 +0x25\n\ngoroutine 3 [GC sweep wait]:\nruntime.gopark(0x434260, 0x731298, 0x6199d0, 0xd)\n\t/tmp/gobuilder/freebsd-amd64-91f53e24babd/go/src/runtime/proc.go:131 +0x10f fp=0xc208019f98 sp=0xc208019f58\nruntime.goparkunlock(0x731298, 0x6199d0, 0xd)\n\t/tmp/gobuilder/freebsd-amd64-91f53e24babd/go/src/runtime/proc.go:136 +0x48 fp=0xc208019fc0 sp=0xc208019f98\nruntime.bgsweep()\n\t/tmp/gobuilder/freebsd-amd64-91f53e24babd/go/src/runtime/mgc0.go:82 +0xbc fp=0xc208019fe0 sp=0xc208019fc0\nruntime.goexit()\n\t/tmp/gobuilder/freebsd-amd64-91f53e24babd/go/src/runtime/proc.c:1705 fp=0xc208019fe8 sp=0xc208019fe0\ncreated by gc\n\t/tmp/gobuilder/freebsd-amd64-91f53e24babd/go/src/runtime/mgc0.c:1310\n\ngoroutine 4 [finalizer wait]:\nruntime.gopark(0x434260, 0x731288, 0x61ef70, 0xe)\n\t/tmp/gobuilder/freebsd-amd64-91f53e24babd/go/src/runtime/proc.go:131 +0x10f fp=0xc20803bf30 sp=0xc20803bef0\nruntime.goparkunlock(0x731288, 0x61ef70, 0xe)\n\t/tmp/gobuilder/freebsd-amd64-91f53e24babd/go/src/runtime/proc.go:136 +0x48 fp=0xc20803bf58 sp=0xc20803bf30\nruntime.runfinq()\n\t/tmp/gobuilder/freebsd-amd64-91f53e24babd/go/src/runtime/malloc.go:711 +0xba fp=0xc20803bfe0 sp=0xc20803bf58\nruntime.goexit()\n\t/tmp/gobuilder/freebsd-amd64-91f53e24babd/go/src/runtime/proc.c:1705 fp=0xc20803bfe8 sp=0xc20803bfe0\ncreated by runtime.createfing\n\t/tmp/gobuilder/freebsd-amd64-91f53e24babd/go/src/runtime/malloc.go:691 +0x5e\n\ngoroutine 5 [syscall]:\nruntime.notetsleepg(0x731c98, 0x9378835b, 0x0)\n\t/tmp/gobuilder/freebsd-amd64-91f53e24babd/go/src/runtime/lock_futex.go:202 +0x52 fp=0xc208039f60 sp=0xc208039f38\nruntime.timerproc()\n\t/tmp/gobuilder/freebsd-amd64-91f53e24babd/go/src/runtime/time.go:207 +0x120 fp=0xc208039fe0 sp=0xc208039f60\nruntime.goexit()\n\t/tmp/gobuilder/freebsd-amd64-91f53e24babd/go/src/runtime/proc.c:1705 fp=0xc208039fe8 sp=0xc208039fe0\ncreated by runtime.addtimerLocked\n\t/tmp/gobuilder/freebsd-amd64-91f53e24babd/go/src/runtime/time.go:113 +0x1ba\n\ngoroutine 538 [syscall]:\nruntime_test.func·042(0x0, 0x1dcd65174876e800, 0x630170, 0x13, 0xc20803e0c0)\n\t/tmp/gobuilder/freebsd-amd64-91f53e24babd/go/src/runtime/futex_test.go:47 +0x4d fp=0xc20819dfb8 sp=0xc20819df68\nruntime.goexit()\n\t/tmp/gobuilder/freebsd-amd64-91f53e24babd/go/src/runtime/proc.c:1705 fp=0xc20819dfc0 sp=0xc20819dfb8\ncreated by runtime_test.TestFutexsleep\n\t/tmp/gobuilder/freebsd-amd64-91f53e24babd/go/src/runtime/futex_test.go:51 +0x219\n\ngoroutine 537 [syscall]:\nruntime_test.func·042(0x0, 0x4e94914f0000, 0x6305b0, 0x14, 0xc20803e060)\n\t/tmp/gobuilder/freebsd-amd64-91f53e24babd/go/src/runtime/futex_test.go:47 +0x4d fp=0xc20817bfb8 sp=0xc20817bf68\nruntime.goexit()\n\t/tmp/gobuilder/freebsd-amd64-91f53e24babd/go/src/runtime/proc.c:1705 fp=0xc20817bfc0 sp=0xc20817bfb8\ncreated by runtime_test.TestFutexsleep\n\t/tmp/gobuilder/freebsd-amd64-91f53e24babd/go/src/runtime/futex_test.go:51 +0x219\n\ngoroutine 80698 [runnable]:\nruntime_test.func·100()\n\t/tmp/gobuilder/freebsd-amd64-91f53e24babd/go/src/runtime/runtime_unix_test.go:33 fp=0xc208367fe0 sp=0xc208367fd8\nruntime.goexit()\n\t/tmp/gobuilder/freebsd-amd64-91f53e24babd/go/src/runtime/proc.c:1705 fp=0xc208367fe8 sp=0xc208367fe0\ncreated by runtime_test.TestGoroutineProfile\n\t/tmp/gobuilder/freebsd-amd64-91f53e24babd/go/src/runtime/runtime_unix_test.go:38 +0x17d\n\ngoroutine 80696 [runnable]:\nruntime_test.func·100()\n\t/tmp/gobuilder/freebsd-amd64-91f53e24babd/go/src/runtime/runtime_unix_test.go:33 fp=0xc208523fe0 sp=0xc208523fd8\nruntime.goexit()\n\t/tmp/gobuilder/freebsd-amd64-91f53e24babd/go/src/runtime/proc.c:1705 fp=0xc208523fe8 sp=0xc208523fe0\ncreated by runtime_test.TestGoroutineProfile\n\t/tmp/gobuilder/freebsd-amd64-91f53e24babd/go/src/runtime/runtime_unix_test.go:38 +0x17d\n\ngoroutine 80695 [runnable]:\nruntime.GoroutineProfile(0xc20880db50, 0x64, 0x64, 0xc, 0x1)\n\t/tmp/gobuilder/freebsd-amd64-91f53e24babd/go/src/runtime/mprof.go:528 fp=0xc20880db08 sp=0xc20880db00\nruntime_test.TestGoroutineProfile(0xc208061440)\n\t/tmp/gobuilder/freebsd-amd64-91f53e24babd/go/src/runtime/runtime_unix_test.go:47 +0x23e fp=0xc208813f88 sp=0xc20880db08\ntesting.tRunner(0xc208061440, 0x72f0e0)\n\t/usr/local/go/src/testing/testing.go:427 +0xc0 fp=0xc208813fd0 sp=0xc208813f88\nruntime.goexit()\n\t/tmp/gobuilder/freebsd-amd64-91f53e24babd/go/src/runtime/proc.c:1705 fp=0xc208813fd8 sp=0xc208813fd0\ncreated by testing.RunTests\n\t/usr/local/go/src/testing/testing.go:509 +0xa7b\n\ngoroutine 80699 [garbage collection]:\nruntime.switchtoM()\n\t/tmp/gobuilder/freebsd-amd64-91f53e24babd/go/src/runtime/asm_amd64.s:198 fp=0xc20862be10 sp=0xc20862be08\nruntime.gogc(0x800000000)\n\t/tmp/gobuilder/freebsd-amd64-91f53e24babd/go/src/runtime/malloc.go:469 +0x1cf fp=0xc20862be48 sp=0xc20862be10\nruntime.mallocgc(0x10, 0x5df9a0, 0x1, 0x431ca0)\n\t/tmp/gobuilder/freebsd-amd64-91f53e24babd/go/src/runtime/malloc.go:341 +0x38f fp=0xc20862bef8 sp=0xc20862be48\nruntime.newobject(0x5df9a0, 0x80072b538)\n\t/tmp/gobuilder/freebsd-amd64-91f53e24babd/go/src/runtime/malloc.go:353 +0x4b fp=0xc20862bf20 sp=0xc20862bef8\nruntime.convT2I(0x5df9a0, 0x5baf40, 0x7390a0, 0xc20862bfa0, 0x0, 0x0)\n\t/tmp/gobuilder/freebsd-amd64-91f53e24babd/go/src/runtime/iface.go:163 +0x130 fp=0xc20862bf68 sp=0xc20862bf20\nsyscall.Close(0xffffffffffffffff, 0x0, 0x0)\n\t/usr/local/go/src/syscall/zsyscall_freebsd_amd64.go:384 +0x97 fp=0xc20862bfb0 sp=0xc20862bf68\nruntime_test.func·100()\n\t/tmp/gobuilder/freebsd-amd64-91f53e24babd/go/src/runtime/runtime_unix_test.go:35 +0x50 fp=0xc20862bfe0 sp=0xc20862bfb0\nruntime.goexit()\n\t/tmp/gobuilder/freebsd-amd64-91f53e24babd/go/src/runtime/proc.c:1705 fp=0xc20862bfe8 sp=0xc20862bfe0\ncreated by runtime_test.TestGoroutineProfile\n\t/tmp/gobuilder/freebsd-amd64-91f53e24babd/go/src/runtime/runtime_unix_test.go:38 +0x17d\n\ngoroutine 80697 [runnable]:\nruntime.gogc(0x800000000)\n\t/tmp/gobuilder/freebsd-amd64-91f53e24babd/go/src/runtime/malloc.go:413 fp=0xc20864de48 sp=0xc20864de40\nruntime.mallocgc(0x10, 0x5df9a0, 0x1, 0x431ca0)\n\t/tmp/gobuilder/freebsd-amd64-91f53e24babd/go/src/runtime/malloc.go:341 +0x38f fp=0xc20864def8 sp=0xc20864de48\nruntime.newobject(0x5df9a0, 0x80072b538)\n\t/tmp/gobuilder/freebsd-amd64-91f53e24babd/go/src/runtime/malloc.go:353 +0x4b fp=0xc20864df20 sp=0xc20864def8\nruntime.convT2I(0x5df9a0, 0x5baf40, 0x7390a0, 0xc20864dfa0, 0x0, 0x0)\n\t/tmp/gobuilder/freebsd-amd64-91f53e24babd/go/src/runtime/iface.go:163 +0x130 fp=0xc20864df68 sp=0xc20864df20\nsyscall.Close(0xffffffffffffffff, 0x0, 0x0)\n\t/usr/local/go/src/syscall/zsyscall_freebsd_amd64.go:384 +0x97 fp=0xc20864dfb0 sp=0xc20864df68\nruntime_test.func·100()\n\t/tmp/gobuilder/freebsd-amd64-91f53e24babd/go/src/runtime/runtime_unix_test.go:35 +0x50 fp=0xc20864dfe0 sp=0xc20864dfb0\nruntime.goexit()\n\t/tmp/gobuilder/freebsd-amd64-91f53e24babd/go/src/runtime/proc.c:1705 fp=0xc20864dfe8 sp=0xc20864dfe0\ncreated by runtime_test.TestGoroutineProfile\n\t/tmp/gobuilder/freebsd-amd64-91f53e24babd/go/src/runtime/runtime_unix_test.go:38 +0x17d\nFAIL\truntime\t26.333s\n?   \truntime/cgo\t[no test files]\u003c/pre\u003e",
	"user": {
		"login": "bradfitz",
		"id": 2621,
		"type": "User",
		"site_admin": false
	},
	"labels": [
		{
			"name": "FrozenDueToAge"
		}
	],
	"assignee": {
		"login": "rsc",
		"id": 104030,
		"type": "User",
		"site_admin": false
	},
	"comments": 3,
	"closed_at": "2014-12-08T10:48:28Z",
	"created_at": "2014-09-16T16:58:27Z",
	"updated_at": "2016-06-25T01:41:41Z",
	"milestone": {
		"id": 1067218,
		"number": 21,
		"title": "Go1.4"
	}
}
