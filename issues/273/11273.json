{
	"id": 89351055,
	"number": 11273,
	"state": "closed",
	"title": "build: elf.Open failed: open ./bin/trivial: no such file or directory",
	"body": "Appears to be triggered when GOROOT and/or GOBIN are set and the user executes ./all.bash in the 1.5 tree.\r\n\r\n```bash\r\nScript started on Thu 18 Jun 2015 09:43:12 AM PDT\r\njbuberel@nosajun:~$ which go\r\n/usr/lib/google-golang/bin//go\r\njbuberel@nosajun:~$ set | grep GO\r\nGOPATH=/usr/local/google/home/jbuberel/gosrc\r\nGOROOT=/usr/lib/google-golang/\r\njbuberel@nosajun:~$ go version\r\ngo version go1.4.2 linux/amd64\r\njbuberel@nosajun:~$ rm -rf ~/go14 ~/go15\r\njbuberel@nosajun:~$ mkdir ~/go14 ~/go15\r\njbuberel@nosajun:~$ git clone https://go.googlesource.com/go ~/go15/\r\nCloning into 'go15'...\r\nremote: Sending approximately 67.05 MiB ...\r\nReceiving objects: 100% (216483/216483), 67.05 MiB | 13.99 MiB/s, done.\r\nResolving deltas: 100% (178256/178256), done.\r\njbuberel@nosajun:~/go15$ git rev-parse HEAD\r\n01187f756e26c80af83ec13b3ebdfe3bcd2d0a46\r\njbuberel@nosajun:~/go15$ cd src\r\njbuberel@nosajun:~/go15/src$ ./all.bash \r\n##### Building Go bootstrap tool.\r\ncmd/dist\r\nERROR: Cannot find /usr/local/google/home/jbuberel/go1.4/bin/go.\r\nSet $GOROOT_BOOTSTRAP to a working Go tree \u003e= Go 1.4.\r\n./make.bash: line 121: /usr/local/google/home/jbuberel/go1.4/bin/go: No such file or directory\r\njbuberel@nosajun:~/go15/src$ export GOROOT_BOOTSTRAP=/usr/lib/google-golang/\r\njbuberel@nosajun:~/go15/src$ set | grep GO\r\nGOPATH=/usr/local/google/home/jbuberel/gosrc\r\nGOROOT=/usr/lib/google-golang/\r\nGOROOT_BOOTSTRAP=/usr/lib/google-golang/\r\njbuberel@nosajun:~/go15/src$ export GOBIN=/usr/local/google/home/jbuberel/gosrc/bin\r\njbuberel@nosajun:~/go15/src$ ./all.bash \r\n##### Building Go bootstrap tool.\r\ncmd/dist\r\n\r\n##### Building Go toolchain using /usr/lib/google-golang/.\r\nbootstrap/internal/obj\r\nbootstrap/asm/internal/flags\r\nbootstrap/compile/internal/big\r\nbootstrap/internal/gcprog\r\nbootstrap/internal/obj/arm\r\nbootstrap/internal/obj/arm64\r\nbootstrap/internal/obj/ppc64\r\nbootstrap/internal/obj/x86\r\nbootstrap/asm/internal/lex\r\nbootstrap/compile/internal/gc\r\nbootstrap/internal/asm\r\nbootstrap/link/internal/ld\r\nbootstrap/old5a\r\nbootstrap/old9a\r\nbootstrap/asm/internal/arch\r\nbootstrap/old6a\r\nbootstrap/asm/internal/asm\r\nbootstrap/asm\r\nbootstrap/old8a\r\nbootstrap/link/internal/amd64\r\nbootstrap/link/internal/arm\r\nbootstrap/link/internal/arm64\r\nbootstrap/link/internal/ppc64\r\nbootstrap/link/internal/x86\r\nbootstrap/link\r\nbootstrap/compile/internal/amd64\r\nbootstrap/compile/internal/arm\r\nbootstrap/compile/internal/arm64\r\nbootstrap/compile/internal/ppc64\r\nbootstrap/compile/internal/x86\r\nbootstrap/compile\r\n\r\n##### Building compilers and go_bootstrap for host, linux/amd64.\r\nruntime\r\nerrors\r\nsync/atomic\r\nsync\r\ninternal/singleflight\r\nio\r\nunicode\r\nunicode/utf8\r\nunicode/utf16\r\nbytes\r\nmath\r\nstrings\r\nstrconv\r\nbufio\r\nsort\r\ncontainer/heap\r\nencoding/base64\r\nsyscall\r\ninternal/syscall/windows/registry\r\ntime\r\ninternal/syscall/windows\r\nos\r\nreflect\r\nfmt\r\nencoding\r\nencoding/binary\r\nencoding/json\r\nflag\r\npath/filepath\r\npath\r\nio/ioutil\r\nlog\r\nregexp/syntax\r\nregexp\r\ngo/token\r\ngo/scanner\r\ngo/ast\r\ngo/parser\r\nos/exec\r\nos/signal\r\nnet/url\r\ntext/template/parse\r\ntext/template\r\ngo/doc\r\ngo/build\r\nhash\r\ncrypto\r\ncrypto/sha1\r\ndebug/dwarf\r\ndebug/elf\r\ncmd/go\r\n\r\n##### Building packages and commands for linux/amd64.\r\nruntime\r\nunicode\r\nsync/atomic\r\nerrors\r\nunicode/utf8\r\nmath\r\nsort\r\ncontainer/list\r\ncontainer/ring\r\ncontainer/heap\r\ncrypto/subtle\r\nencoding\r\nsync\r\nunicode/utf16\r\nimage/color\r\nruntime/race\r\ncmd/vet/whitelist\r\nio\r\nsyscall\r\ninternal/singleflight\r\nimage/color/palette\r\nhash\r\ncrypto/cipher\r\nbytes\r\nstrings\r\nhash/crc32\r\nhash/adler32\r\nbufio\r\ntext/tabwriter\r\ncrypto/hmac\r\nhash/crc64\r\nhash/fnv\r\npath\r\nhtml\r\ncompress/bzip2\r\ntime\r\ninternal/syscall/unix\r\nmath/rand\r\nmath/cmplx\r\nstrconv\r\nreflect\r\nregexp/syntax\r\ncrypto\r\ncrypto/aes\r\ncrypto/rc4\r\nos\r\ncrypto/sha512\r\ncrypto/md5\r\ncrypto/sha1\r\ncrypto/sha256\r\nencoding/base64\r\nencoding/ascii85\r\nencoding/pem\r\nencoding/base32\r\nnet/url\r\nregexp\r\npath/filepath\r\nimage\r\nos/signal\r\nio/ioutil\r\nos/exec\r\nimage/internal/imageutil\r\nimage/draw\r\nimage/jpeg\r\ncmd/pprof/internal/svg\r\nencoding/binary\r\nfmt\r\ncrypto/des\r\nindex/suffixarray\r\nflag\r\nlog\r\ncmd/internal/rsc.io/arm/armasm\r\ncmd/internal/rsc.io/x86/x86asm\r\ndebug/dwarf\r\ndebug/gosym\r\ndebug/plan9obj\r\ncmd/internal/obj\r\narchive/tar\r\ncompress/flate\r\ncompress/lzw\r\ndebug/elf\r\ndebug/macho\r\ndebug/pe\r\narchive/zip\r\ncompress/gzip\r\ncompress/zlib\r\nmath/big\r\nencoding/hex\r\ngo/token\r\ncmd/internal/goobj\r\ndatabase/sql/driver\r\ndatabase/sql\r\nencoding/csv\r\ncmd/internal/objfile\r\nencoding/gob\r\ngo/scanner\r\nencoding/json\r\ngo/ast\r\nencoding/xml\r\ncmd/addr2line\r\ncrypto/dsa\r\ncrypto/elliptic\r\nencoding/asn1\r\ncrypto/rand\r\ncrypto/rsa\r\ncrypto/ecdsa\r\ncrypto/x509/pkix\r\ngo/parser\r\ngo/printer\r\nmime\r\nmime/quotedprintable\r\nnet/http/internal\r\ntext/template/parse\r\ngo/constant\r\ntext/scanner\r\nimage/gif\r\nimage/png\r\nruntime/pprof\r\ngo/types\r\ninternal/trace\r\ntext/template\r\ncmd/cgo\r\ninternal/format\r\ntesting\r\ngo/format\r\nnet/internal/socktest\r\nruntime/debug\r\ninternal/testenv\r\ntesting/iotest\r\ngo/doc\r\nhtml/template\r\ntesting/quick\r\ncmd/internal/obj/arm\r\ncmd/internal/obj/arm64\r\ngo/build\r\ncmd/internal/obj/ppc64\r\ncmd/internal/obj/x86\r\ncmd/asm/internal/flags\r\ncmd/asm/internal/lex\r\ncmd/compile/internal/big\r\ncmd/internal/gcprog\r\ngo/internal/gccgoimporter\r\ngo/internal/gcimporter\r\ncmd/api\r\ncmd/cover\r\ncmd/asm/internal/arch\r\ncmd/compile/internal/gc\r\ngo/importer\r\ncmd/dist\r\ncmd/asm/internal/asm\r\nruntime/cgo\r\ncmd/asm\r\nnet\r\nos/user\r\ncmd/doc\r\ncmd/fix\r\ncmd/gofmt\r\ncmd/internal/asm\r\ncmd/link/internal/ld\r\ncmd/newlink\r\ncmd/nm\r\ncmd/objdump\r\ncmd/old5a\r\ncmd/old6a\r\ncrypto/x509\r\nnet/textproto\r\nlog/syslog\r\nmime/multipart\r\ncrypto/tls\r\nnet/mail\r\ncmd/link/internal/amd64\r\ncmd/link/internal/arm\r\ncmd/link/internal/arm64\r\ncmd/link/internal/ppc64\r\ncmd/link/internal/x86\r\ncmd/old8a\r\ncmd/old9a\r\ncmd/pack\r\ncmd/link\r\nnet/http\r\nnet/smtp\r\ncmd/pprof/internal/profile\r\ncmd/pprof/internal/tempfile\r\ncmd/vet\r\ncmd/yacc\r\ncmd/compile/internal/amd64\r\ncmd/compile/internal/arm\r\ncmd/compile/internal/arm64\r\nexpvar\r\nnet/http/cgi\r\nnet/http/cookiejar\r\nnet/http/httptest\r\nnet/http/httputil\r\nnet/http/pprof\r\nnet/http/fcgi\r\nnet/rpc\r\ncmd/compile/internal/ppc64\r\ncmd/compile/internal/x86\r\ncmd/go\r\ncmd/pprof/internal/plugin\r\ncmd/pprof/internal/symbolz\r\ncmd/pprof/internal/report\r\nnet/rpc/jsonrpc\r\ncmd/pprof/internal/fetch\r\ncmd/pprof/internal/symbolizer\r\ncmd/trace\r\ncmd/compile\r\ncmd/pprof/internal/commands\r\ncmd/pprof/internal/driver\r\ncmd/pprof\r\n\r\n\r\n##### Testing packages.\r\nok  \tarchive/tar\t0.060s\r\nok  \tarchive/zip\t0.713s\r\nok  \tbufio\t0.176s\r\nok  \tbytes\t0.175s\r\nok  \tcompress/bzip2\t0.187s\r\nok  \tcompress/flate\t0.882s\r\nok  \tcompress/gzip\t0.095s\r\nok  \tcompress/lzw\t0.130s\r\nok  \tcompress/zlib\t1.919s\r\nok  \tcontainer/heap\t0.050s\r\nok  \tcontainer/list\t0.035s\r\nok  \tcontainer/ring\t0.133s\r\nok  \tcrypto/aes\t0.058s\r\nok  \tcrypto/cipher\t0.073s\r\nok  \tcrypto/des\t0.038s\r\nok  \tcrypto/dsa\t0.079s\r\nok  \tcrypto/ecdsa\t0.110s\r\nok  \tcrypto/elliptic\t0.075s\r\nok  \tcrypto/hmac\t0.040s\r\nok  \tcrypto/md5\t0.030s\r\nok  \tcrypto/rand\t0.059s\r\nok  \tcrypto/rc4\t0.156s\r\nok  \tcrypto/rsa\t0.164s\r\nok  \tcrypto/sha1\t0.043s\r\nok  \tcrypto/sha256\t0.034s\r\nok  \tcrypto/sha512\t0.029s\r\nok  \tcrypto/subtle\t0.043s\r\nok  \tcrypto/tls\t1.546s\r\nok  \tcrypto/x509\t2.419s\r\nok  \tdatabase/sql\t0.172s\r\nok  \tdatabase/sql/driver\t0.061s\r\nok  \tdebug/dwarf\t0.129s\r\nok  \tdebug/elf\t0.055s\r\nok  \tdebug/gosym\t1.783s\r\nok  \tdebug/macho\t0.048s\r\nok  \tdebug/pe\t0.086s\r\nok  \tdebug/plan9obj\t0.064s\r\nok  \tencoding/ascii85\t0.086s\r\nok  \tencoding/asn1\t0.029s\r\nok  \tencoding/base32\t0.058s\r\nok  \tencoding/base64\t0.063s\r\nok  \tencoding/binary\t0.030s\r\nok  \tencoding/csv\t0.064s\r\nok  \tencoding/gob\t0.128s\r\nok  \tencoding/hex\t0.076s\r\nok  \tencoding/json\t0.324s\r\nok  \tencoding/pem\t0.159s\r\nok  \tencoding/xml\t0.063s\r\nok  \terrors\t0.039s\r\nok  \texpvar\t0.079s\r\nok  \tflag\t0.092s\r\nok  \tfmt\t0.315s\r\nok  \tgo/ast\t0.044s\r\nok  \tgo/build\t0.259s\r\nok  \tgo/constant\t0.057s\r\nok  \tgo/doc\t0.102s\r\nok  \tgo/format\t0.045s\r\nok  \tgo/internal/gccgoimporter\t0.059s\r\nok  \tgo/internal/gcimporter\t0.053s\r\nok  \tgo/parser\t0.073s\r\nok  \tgo/printer\t0.598s\r\nok  \tgo/scanner\t0.039s\r\nok  \tgo/token\t0.077s\r\nok  \tgo/types\t2.621s\r\nok  \thash/adler32\t0.063s\r\nok  \thash/crc32\t0.045s\r\nok  \thash/crc64\t0.045s\r\nok  \thash/fnv\t0.075s\r\nok  \thtml\t0.076s\r\nok  \thtml/template\t0.098s\r\nok  \timage\t0.276s\r\nok  \timage/color\t0.315s\r\nok  \timage/draw\t0.208s\r\nok  \timage/gif\t0.218s\r\nok  \timage/jpeg\t0.331s\r\nok  \timage/png\t0.091s\r\nok  \tindex/suffixarray\t0.074s\r\nok  \tinternal/singleflight\t0.162s\r\nok  \tio\t0.117s\r\nok  \tio/ioutil\t0.045s\r\nok  \tlog\t0.081s\r\nok  \tlog/syslog\t2.096s\r\nok  \tmath\t0.070s\r\nok  \tmath/big\t1.093s\r\nok  \tmath/cmplx\t0.078s\r\nok  \tmath/rand\t0.326s\r\nok  \tmime\t0.066s\r\nok  \tmime/multipart\t0.176s\r\nok  \tmime/quotedprintable\t0.410s\r\nok  \tnet\t2.340s\r\nok  \tnet/http\t4.846s\r\nok  \tnet/http/cgi\t1.136s\r\nok  \tnet/http/cookiejar\t0.102s\r\nok  \tnet/http/fcgi\t0.096s\r\nok  \tnet/http/httptest\t0.046s\r\nok  \tnet/http/httputil\t0.072s\r\nok  \tnet/http/internal\t0.054s\r\nok  \tnet/internal/socktest\t0.060s\r\nok  \tnet/mail\t0.074s\r\nok  \tnet/rpc\t0.139s\r\nok  \tnet/rpc/jsonrpc\t0.081s\r\nok  \tnet/smtp\t0.096s\r\nok  \tnet/textproto\t0.092s\r\nok  \tnet/url\t0.048s\r\nok  \tos\t0.293s\r\nok  \tos/exec\t0.460s\r\nok  \tos/signal\t3.536s\r\nok  \tos/user\t0.047s\r\nok  \tpath\t0.034s\r\nok  \tpath/filepath\t0.058s\r\nok  \treflect\t0.192s\r\nok  \tregexp\t0.421s\r\nok  \tregexp/syntax\t0.663s\r\nok  \truntime\t32.620s\r\nok  \truntime/debug\t0.152s\r\nok  \truntime/pprof\t9.162s\r\nok  \tsort\t0.142s\r\nok  \tstrconv\t0.392s\r\nok  \tstrings\t0.201s\r\nok  \tsync\t0.198s\r\nok  \tsync/atomic\t1.049s\r\nok  \tsyscall\t0.220s\r\nok  \ttesting\t1.658s\r\nok  \ttesting/quick\t0.096s\r\nok  \ttext/scanner\t0.043s\r\nok  \ttext/tabwriter\t0.087s\r\nok  \ttext/template\t0.158s\r\nok  \ttext/template/parse\t0.089s\r\nok  \ttime\t2.860s\r\nok  \tunicode\t0.059s\r\nok  \tunicode/utf16\t0.050s\r\nok  \tunicode/utf8\t0.052s\r\nok  \tcmd/addr2line\t1.715s\r\nok  \tcmd/api\t0.058s\r\nok  \tcmd/asm/internal/asm\t0.047s\r\nok  \tcmd/asm/internal/lex\t0.046s\r\nok  \tcmd/compile/internal/big\t2.995s\r\nok  \tcmd/cover\t3.731s\r\nok  \tcmd/fix\t0.123s\r\nok  \tcmd/go\t39.321s\r\nok  \tcmd/gofmt\t0.105s\r\nok  \tcmd/internal/goobj\t0.021s\r\nok  \tcmd/internal/obj\t0.081s\r\nok  \tcmd/internal/obj/x86\t0.093s\r\nok  \tcmd/internal/rsc.io/arm/armasm\t0.049s\r\nok  \tcmd/internal/rsc.io/x86/x86asm\t0.406s\r\nok  \tcmd/newlink\t0.089s\r\nok  \tcmd/nm\t2.430s\r\nok  \tcmd/objdump\t5.372s\r\nok  \tcmd/pack\t4.257s\r\nok  \tcmd/pprof/internal/profile\t0.062s\r\nok  \tcmd/vet\t6.035s\r\n\r\n##### GOMAXPROCS=2 runtime -cpu=1,2,4\r\nok  \truntime\t61.466s\r\n\r\n##### sync -cpu=10\r\nok  \tsync\t0.124s\r\n\r\n##### ../misc/cgo/stdio\r\n\r\n##### ../misc/cgo/life\r\n\r\n##### ../misc/cgo/test\r\nscatter = 0x406380\r\nhello from C\r\nsqrt is: 0\r\nPASS\r\nok  \t_/usr/local/google/home/jbuberel/go15/misc/cgo/test\t1.611s\r\nscatter = 0x583dc0\r\nhello from C\r\nsqrt is: 0\r\nPASS\r\nok  \t_/usr/local/google/home/jbuberel/go15/misc/cgo/test\t1.625s\r\nscatter = 0x406380\r\nhello from C\r\nsqrt is: 0\r\nPASS\r\nok  \t_/usr/local/google/home/jbuberel/go15/misc/cgo/test\t1.628s\r\nPASS\r\nok  \t_/usr/local/google/home/jbuberel/go15/misc/cgo/testtls\t0.017s\r\nPASS\r\nok  \t_/usr/local/google/home/jbuberel/go15/misc/cgo/testtls\t0.021s\r\nPASS\r\nok  \t_/usr/local/google/home/jbuberel/go15/misc/cgo/testtls\t0.021s\r\nPASS\r\nok  \t_/usr/local/google/home/jbuberel/go15/misc/cgo/nocgo\t0.017s\r\nPASS\r\nok  \t_/usr/local/google/home/jbuberel/go15/misc/cgo/nocgo\t0.016s\r\nPASS\r\nok  \t_/usr/local/google/home/jbuberel/go15/misc/cgo/nocgo\t0.018s\r\nscatter = 0x7f8faa855290\r\nhello from C\r\nsqrt is: 0\r\nPASS\r\nok  \t_/usr/local/google/home/jbuberel/go15/misc/cgo/test\t1.664s\r\nPASS\r\nok  \t_/usr/local/google/home/jbuberel/go15/misc/cgo/testtls\t0.032s\r\nPASS\r\nok  \t_/usr/local/google/home/jbuberel/go15/misc/cgo/nocgo\t0.020s\r\n\r\n##### Testing race detector\r\nok  \truntime/race\t2.599s\r\nok  \tflag\t1.032s\r\nok  \tos/exec\t17.858s\r\nok  \tflag\t1.038s\r\nok  \tos/exec\t17.922s\r\n\r\n##### ../misc/cgo/testgodefs\r\n\r\n##### ../misc/cgo/testso\r\n\r\n##### ../misc/cgo/testsovar\r\n\r\n##### ../misc/cgo/testcarchive\r\nPASS\r\nPASS\r\nPASS\r\n\r\n##### ../misc/cgo/testcshared\r\nok\r\n\r\n##### ../misc/cgo/testshared\r\n2015/06/18 10:08:42 elf.Open failed: open ./bin/trivial: no such file or directory\r\nexit status 1\r\nFAIL\t_/usr/local/google/home/jbuberel/go15/misc/cgo/testshared\t5.228s\r\n2015/06/18 10:08:42 Failed: exit status 1\r\njbuberel@nosajun:~/go15/src$ exit\r\nexit\r\n\r\nScript done on Thu 18 Jun 2015 10:13:43 AM PDT\r\n\r\n```",
	"user": {
		"login": "jbuberel",
		"id": 1711364,
		"type": "User",
		"site_admin": false
	},
	"labels": [
		{
			"name": "FrozenDueToAge"
		}
	],
	"comments": 7,
	"closed_at": "2015-07-12T18:07:04Z",
	"created_at": "2015-06-18T17:33:25Z",
	"updated_at": "2016-07-11T22:38:01Z",
	"milestone": {
		"id": 905105,
		"number": 1,
		"title": "Go1.5"
	}
}
