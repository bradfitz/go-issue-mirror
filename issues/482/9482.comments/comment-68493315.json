{
	"id": 68493315,
	"body": "Here is a minimal sample application with the libgojni.so already built: https://github.com/dskinner/go.issue.9482\r\n\r\nBuilt with go at 6ceb60444d7647fc62d692743ad98202c3669b8e\r\nand gobind at 3d879bb1b3c296099c6d8ea545d18e259aab1f2d\r\n\r\nTested on a Nexus 10 running Android 5.0.1\r\n\r\nThis line is intentionally commented out to produce an error: https://github.com/dskinner/go.issue.9482/blob/master/app/src/main/java/cc/dasa/sample/MainActivity.java#L19\r\n\r\nIn the repo, the shared library is not loaded as can be seen here: https://github.com/dskinner/go.issue.9482/blob/master/app/src/main/java/cc/dasa/sample/App.java#L11\r\n\r\nThis produces the following stack trace as expected\r\n\r\n```\r\n01-01 11:52:10.612    7316-7316/cc.dasa.sample E/AndroidRuntime﹕ FATAL EXCEPTION: main\r\n    Process: cc.dasa.sample, PID: 7316\r\n    java.lang.NullPointerException: Attempt to invoke virtual method 'void android.support.v7.widget.RecyclerView$LayoutManager.onMeasure(android.support.v7.widget.RecyclerView$Recycler, android.support.v7.widget.RecyclerView$State, int, int)' on a null object reference\r\n            at android.support.v7.widget.RecyclerView.onMeasure(RecyclerView.java:1764)\r\n            at android.view.View.measure(View.java:17430)\r\n            at android.widget.RelativeLayout.measureChildHorizontal(RelativeLayout.java:727)\r\n            at android.widget.RelativeLayout.onMeasure(RelativeLayout.java:463)\r\n            at android.view.View.measure(View.java:17430)\r\n            at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:5463)\r\n            at android.widget.FrameLayout.onMeasure(FrameLayout.java:430)\r\n            at android.view.View.measure(View.java:17430)\r\n            at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:5463)\r\n            at android.widget.LinearLayout.measureChildBeforeLayout(LinearLayout.java:1436)\r\n            at android.widget.LinearLayout.measureVertical(LinearLayout.java:722)\r\n            at android.widget.LinearLayout.onMeasure(LinearLayout.java:613)\r\n            at android.view.View.measure(View.java:17430)\r\n            at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:5463)\r\n            at android.widget.FrameLayout.onMeasure(FrameLayout.java:430)\r\n            at com.android.internal.policy.impl.PhoneWindow$DecorView.onMeasure(PhoneWindow.java:2560)\r\n            at android.view.View.measure(View.java:17430)\r\n            at android.view.ViewRootImpl.performMeasure(ViewRootImpl.java:2001)\r\n            at android.view.ViewRootImpl.measureHierarchy(ViewRootImpl.java:1166)\r\n            at android.view.ViewRootImpl.performTraversals(ViewRootImpl.java:1372)\r\n            at android.view.ViewRootImpl.doTraversal(ViewRootImpl.java:1054)\r\n            at android.view.ViewRootImpl$TraversalRunnable.run(ViewRootImpl.java:5779)\r\n            at android.view.Choreographer$CallbackRecord.run(Choreographer.java:767)\r\n            at android.view.Choreographer.doCallbacks(Choreographer.java:580)\r\n            at android.view.Choreographer.doFrame(Choreographer.java:550)\r\n            at android.view.Choreographer$FrameDisplayEventReceiver.run(Choreographer.java:753)\r\n            at android.os.Handler.handleCallback(Handler.java:739)\r\n            at android.os.Handler.dispatchMessage(Handler.java:95)\r\n            at android.os.Looper.loop(Looper.java:135)\r\n            at android.app.ActivityThread.main(ActivityThread.java:5221)\r\n            at java.lang.reflect.Method.invoke(Native Method)\r\n            at java.lang.reflect.Method.invoke(Method.java:372)\r\n            at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:899)\r\n            at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:694)\r\n```\r\n\r\nOnce this line is uncommented: https://github.com/dskinner/go.issue.9482/blob/master/app/src/main/java/cc/dasa/sample/App.java#L11\r\n\r\nLaunching the application produces the following output:\r\n\r\n```\r\n01-01 12:02:45.003      400-413/? I/ActivityManager﹕ START u0 {act=android.intent.action.MAIN cat=[android.intent.category.LAUNCHER] flg=0x10000000 cmp=cc.dasa.sample/.MainActivity (has extras)} from uid 10012 on display 0\r\n01-01 12:02:45.072     400-2043/? I/ActivityManager﹕ Start proc cc.dasa.sample for activity cc.dasa.sample/.MainActivity: pid=8117 uid=10079 gids={50079, 9997} abi=armeabi-v7a\r\n01-01 12:02:45.098    8117-8117/? I/art﹕ Late-enabling -Xcheck:jni\r\n01-01 12:02:45.182    8117-8117/cc.dasa.sample W/linker﹕ libgojni.so has text relocations. This is wasting memory and prevents security hardening. Please fix.\r\n01-01 12:02:45.222    8117-8134/cc.dasa.sample I/Go﹕ app.Run\r\n01-01 12:02:45.224    8117-8134/cc.dasa.sample I/go/Seq﹕ loaded go/Seq\r\n01-01 12:02:45.225    8117-8117/cc.dasa.sample I/Go﹕ Runtime started\r\n01-01 12:02:45.374     400-2043/? I/art﹕ Explicit concurrent mark sweep GC freed 54700(2MB) AllocSpace objects, 21(4MB) LOS objects, 28% free, 40MB/56MB, paused 1.031ms total 92.567ms\r\n01-01 12:02:45.380    8117-8141/cc.dasa.sample D/OpenGLRenderer﹕ Render dirty regions requested: true\r\n01-01 12:02:45.384    8117-8117/cc.dasa.sample D/Atlas﹕ Validating map...\r\n01-01 12:02:45.409      400-413/? I/WindowState﹕ WIN DEATH: Window{1c8f3738 u0 cc.dasa.sample/cc.dasa.sample.MainActivity}\r\n01-01 12:02:45.441      130-130/? I/Zygote﹕ Process 8117 exited due to signal (11)\r\n01-01 12:02:45.461      400-979/? I/ActivityManager﹕ Process cc.dasa.sample (pid 8117) has died\r\n01-01 12:02:45.462      400-979/? W/ActivityManager﹕ Force removing ActivityRecord{123fa723 u0 cc.dasa.sample/.MainActivity t513}: app died, no saved state\r\n01-01 12:02:45.483     909-1094/? D/mali_winsys﹕ new_window_surface returns 0x3000\r\n```\r\n\r\nNoticeably, the stacktrace for the recyclerview error is lacking above.\r\n\r\nIt's worth noting I suppose that setting the layoutmanager for recyclerview and loading the libgojni.so does allow the application to launch successfully.",
	"user": {
		"login": "dskinner",
		"id": 92266,
		"type": "User",
		"site_admin": false
	},
	"created_at": "2015-01-01T18:05:03Z",
	"updated_at": "2015-01-31T18:22:31Z"
}
