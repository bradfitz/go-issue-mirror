{
	"id": 51288263,
	"number": 8482,
	"state": "closed",
	"title": "go1: cannot build ",
	"body": "by **awalterschulze**:\n\n\u003cpre\u003eBefore filing a bug, please check whether it has been fixed since the\nlatest release. Search the issue tracker and check that you're running the\nlatest version of Go:\n\nRun \u0026quot;go version\u0026quot; and compare against\n\u003ca href=\"http://golang.org/doc/devel/release.html\"\u003ehttp://golang.org/doc/devel/release.html\u003c/a\u003e  If a newer version of Go exists,\ninstall it and retry what you did to reproduce the problem.\n\nThanks.\n\nWhat does 'go version' print?\n\nWhat steps reproduce the problem?\nIf possible, include a link to a program on play.golang.org.\n\n1. hg clone -u go1.0.3 \u003ca href=\"https://code.google.com/p/go\"\u003ehttps://code.google.com/p/go\u003c/a\u003e\n2. cd go/src\n3. ./make.bash\n\nWhat happened?\n\ngo1 on mac\n\n./all.bash\n# Building C bootstrap tool.\ncmd/dist\n\n# Building compilers and Go bootstrap tool for host, darwin/amd64.\nlib9\n/Users/walter/temp/go/src/lib9/ctime.c:19:26: error: adding 'int' to a string does not\nappend to the string [-Werror,-Wstring-plus-int]\n                \u0026quot;SunMonTueWedThuFriSat\u0026quot;+(tm-\u0026gt;tm_wday*3),\n                ~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~\n/Users/walter/temp/go/src/lib9/ctime.c:19:26: note: use array indexing to silence this\nwarning\n                \u0026quot;SunMonTueWedThuFriSat\u0026quot;+(tm-\u0026gt;tm_wday*3),\n                                       ^\n                \u0026amp;                      [               ]\n/Users/walter/temp/go/src/lib9/ctime.c:20:41: error: adding 'int' to a string does not\nappend to the string [-Werror,-Wstring-plus-int]\n                \u0026quot;JanFebMarAprMayJunJulAugSepOctNovDec\u0026quot;+(tm-\u0026gt;tm_mon*3),\n                ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~\n/Users/walter/temp/go/src/lib9/ctime.c:20:41: note: use array indexing to silence this\nwarning\n                \u0026quot;JanFebMarAprMayJunJulAugSepOctNovDec\u0026quot;+(tm-\u0026gt;tm_mon*3),\n                                                      ^\n                \u0026amp;                                     [              ]\n2 errors generated.\ngo tool dist: FAILED: gcc -Wall -Wno-sign-compare -Wno-missing-braces -Wno-parentheses\n-Wno-unknown-pragmas -Wno-switch -Wno-comment -Werror -fno-common -ggdb -O2 -c -m64\n-DPLAN9PORT -I /Users/walter/temp/go/include -I /Users/walter/temp/go/src/lib9 -o\n/Users/walter/temp/go/pkg/obj/lib9/ctime.o /Users/walter/temp/go/src/lib9/ctime.c\n\ngo1.0.3 on mac\n\n./make.bash\n...\n...\n...\n# runtime/cgo\nclang: warning: argument unused during compilation: '-pthread'\ncrypto/x509\nnet\nos/user\n# os/user\ncould not determine kind of name for C.malloc\ncould not determine kind of name for C.mygetpwuid_r\ncould not determine kind of name for C.GoString\ncould not determine kind of name for C.CString\ncould not determine kind of name for C.free\ncould not determine kind of name for C.sysconf\ncould not determine kind of name for C.getpwnam_r\n# net\ncgo_bsd.go:14:24: error: expected expression\nenum { __cgo_enum__1 = int };\n                       ^\ncgo_bsd.go:17:2: error: expected expression\n        int,\n        ^\n2 errors generated.\n# crypto/x509\ncould not determine kind of name for C.CFRelease\ncould not determine kind of name for C.GoBytes\ncould not determine kind of name for C.CFDataGetBytePtr\ncould not determine kind of name for C.FetchPEMRoots\ncould not determine kind of name for C.CFDataGetLength\n\ngo1.0.3 on ubuntu docker\n\n./make.bash\n\n# Building C bootstrap tool.\ncmd/dist\n\n# Building compilers and Go bootstrap tool for host, linux/amd64.\nlib9\nlibbio\nlibmach\nmisc/pprof\ncmd/addr2line\ncmd/cov\ncmd/nm\ncmd/objdump\ncmd/pack\ncmd/prof\ncmd/cc\n/go/src/cmd/cc/funct.c: In function 'dclfunct':\n/go/src/cmd/cc/funct.c:273:13: error: iteration 94u invokes undefined behavior\n[-Werror=aggressive-loop-optimizations]\n   f-\u0026gt;sym[o] = S;\n             ^\n/go/src/cmd/cc/funct.c:272:2: note: containing loop\n  for(o=0; o\u0026lt;sizeof(f-\u0026gt;sym); o++)\n  ^\ncc1: all warnings being treated as errors\ngo tool dist: FAILED: gcc -Wall -Wno-sign-compare -Wno-missing-braces -Wno-parentheses\n-Wno-unknown-pragmas -Wno-switch -Wno-comment -Werror -fno-common -ggdb -O2 -c -m64 -I\n/go/include -I /go/src/cmd/cc -o $WORK/funct.o /go/src/cmd/cc/funct.c\n\nWhat should have happened instead?\n\nIt should have built\n\nPlease provide any additional information below.\u003c/pre\u003e",
	"user": {
		"login": "gopherbot",
		"id": 8566911,
		"type": "User",
		"site_admin": false
	},
	"labels": [
		{
			"name": "FrozenDueToAge"
		}
	],
	"comments": 3,
	"closed_at": "2014-12-08T10:47:08Z",
	"created_at": "2014-08-06T09:28:10Z",
	"updated_at": "2016-06-25T01:39:04Z"
}
