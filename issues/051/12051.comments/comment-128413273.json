{
	"id": 128413273,
	"body": "@davecheney I can do first and second now, there is the output:\r\nThe client build 1 million tcp one by one and block on Conn.Read. 22:55:28 is the time I push messages.\r\n```\r\n...\r\n2015/08/06 22:55:20 [INFO] msgCount 0, hbCount 1699564\r\n2015/08/06 22:55:21 [INFO] msgCount 0, hbCount 1700971\r\nscvg7: 23 MB released\r\nscvg7: inuse: 5236, idle: 425, sys: 5662, released: 418, consumed: 5244 (MB)\r\n2015/08/06 22:55:22 [INFO] msgCount 0, hbCount 1702406\r\n2015/08/06 22:55:23 [INFO] msgCount 0, hbCount 1703818\r\n2015/08/06 22:55:24 [INFO] msgCount 0, hbCount 1705231\r\n2015/08/06 22:55:25 [INFO] msgCount 0, hbCount 1706620\r\n2015/08/06 22:55:26 [INFO] msgCount 0, hbCount 1708008\r\nGC forced\r\n2015/08/06 22:55:27 [INFO] msgCount 0, hbCount 1709443\r\n2015/08/06 22:55:28 [INFO] msgCount 10766, hbCount 1710117\r\n2015/08/06 22:55:29 [INFO] msgCount 26833, hbCount 1710170\r\n2015/08/06 22:55:30 [INFO] msgCount 44748, hbCount 1710293\r\n2015/08/06 22:55:31 [INFO] msgCount 78382, hbCount 1710385\r\n2015/08/06 22:55:33 [INFO] msgCount 105793, hbCount 1710688\r\nscvg8: inuse: 7467, idle: 0, sys: 7468, released: 0, consumed: 7468 (MB)\r\n```\r\n\r\nThen there is no output and process stuck. I `kill -3 pid` to it, but I can not make sure the time I kill is when the process is 'D'. It outputs(\r\nI omit 1 million goroutines that is blocked on Conn.Read)\r\n\r\n```\r\nSIGQUIT: quit\r\nPC=0x45d3a1 m=0\r\n\r\ngoroutine 0 [idle]:\r\nruntime.futex(0xcb9c70, 0x0, 0x0, 0x0, 0x0, 0xcb9060, 0x0, 0x0, 0x40e514, 0xcb9c70, ...)\r\n        /usr/local/go/src/runtime/sys_linux_amd64.s:288 +0x21\r\nruntime.futexsleep(0xcb9c70, 0x0, 0xffffffffffffffff)\r\n        /usr/local/go/src/runtime/os1_linux.go:39 +0x53\r\nruntime.notesleep(0xcb9c70)\r\n        /usr/local/go/src/runtime/lock_futex.go:142 +0xa4\r\nruntime.stopm()\r\n        /usr/local/go/src/runtime/proc1.go:1128 +0x112\r\nruntime.exitsyscall0(0xc8a7da9980)\r\n        /usr/local/go/src/runtime/proc1.go:2122 +0x16c\r\nruntime.mcall(0x7fffa0fb0ec0)\r\n        /usr/local/go/src/runtime/asm_amd64.s:204 +0x5b\r\n\r\ngoroutine 37 [syscall, 23 minutes]:\r\nos/signal.loop()\r\n        /usr/local/go/src/os/signal/signal_unix.go:22 +0x18\r\ncreated by os/signal.init.1\r\n        /usr/local/go/src/os/signal/signal_unix.go:28 +0x37\r\n\r\n\r\nrax    0xca\r\nrbx    0x0\r\nrcx    0xffffffffffffffff\r\nrdx    0x0\r\nrdi    0xcb9c70\r\nrsi    0x0\r\nrbp    0x1\r\nrsp    0x7fffa0fb0dd0\r\nr8     0x0\r\nr9     0x0\r\nr10    0x0\r\nr11    0x286\r\nr12    0x1276b1\r\nr13    0xecd556c9b\r\nr14    0xecd556cd7\r\nr15    0xcb8da0\r\nrip    0x45d3a1\r\nrflags 0x286\r\ncs     0x33\r\nfs     0x0\r\ngs     0x0\r\n```\r\n\r\n\r\n",
	"user": {
		"login": "yangzhe1991",
		"id": 860739,
		"type": "User",
		"site_admin": false
	},
	"created_at": "2015-08-06T15:40:03Z",
	"updated_at": "2015-08-06T15:46:55Z"
}
