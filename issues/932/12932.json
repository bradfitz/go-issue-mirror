{
	"id": 111415337,
	"number": 12932,
	"state": "closed",
	"title": "runtime: SIGPROF walking stack-in-motion causes missed write barrier panic",
	"body": "This looks a lot like #11863\r\n\r\nStack trace:\r\n```\r\nfound next stack barrier at 0xc857445a00; expected [*0xc8427059f0=0x869015 *0xc842705e38=0x61b1de]\r\nfatal error: missed stack barrier\r\n\r\ngoroutine 0 [idle]:\r\nruntime.throw(0xcb8fc0, 0x14)\r\n\t/root/.gvm/gos/go1.5.1/src/runtime/panic.go:527 +0x90\r\nruntime.gentraceback(0x413929, 0x7fea597f9b48, 0x0, 0xc8206ca300, 0x0, 0xc8207a7738, 0x40, 0x0, 0x0, 0x6, ...)\r\n\t/root/.gvm/gos/go1.5.1/src/runtime/traceback.go:261 +0x1053\r\nruntime.sigprof(0x413929, 0x7fea597f9b48, 0x0, 0xc8206ca300, 0xc82079c000)\r\n\t/root/.gvm/gos/go1.5.1/src/runtime/proc1.go:2585 +0x50b\r\nruntime.sighandler(0xc80000001b, 0xc8207a7bb0, 0xc8207a7a80, 0xc8206ca300)\r\n\t/root/.gvm/gos/go1.5.1/src/runtime/signal_amd64x.go:47 +0xbe\r\nruntime.sigtrampgo(0x1b, 0xc8207a7bb0, 0xc8207a7a80)\r\n\t/root/.gvm/gos/go1.5.1/src/runtime/signal_linux.go:94 +0x95\r\nruntime.sigtramp(0x1, 0x0, 0xc8207a0000, 0x0, 0x7fa0, 0x4000000, 0xc859cb1c80, 0x0, 0x0, 0x3, ...)\r\n\t/root/.gvm/gos/go1.5.1/src/runtime/sys_linux_amd64.s:234 +0x1b\r\nruntime.sigreturn(0x0, 0xc8207a0000, 0x0, 0x7fa0, 0x4000000, 0xc859cb1c80, 0x0, 0x0, 0x3, 0xd817e3, ...)\r\n\t/root/.gvm/gos/go1.5.1/src/runtime/sys_linux_amd64.s:238\r\n\r\ngoroutine 870933 [copystack]:\r\nruntime.callers(0x4, 0xc842705298, 0x20, 0x20, 0xd)\r\n\t/root/.gvm/gos/go1.5.1/src/runtime/traceback.go:562 fp=0xc857445268 sp=0xc857445260\r\nruntime.mProf_Malloc(0xc82e414580, 0x40)\r\n\t/root/.gvm/gos/go1.5.1/src/runtime/mprof.go:235 +0x7f fp=0xc8574453e8 sp=0xc857445268\r\nruntime.profilealloc(0xc82079c000, 0xc82e414580, 0x40)\r\n\t/root/.gvm/gos/go1.5.1/src/runtime/malloc.go:811 +0x98 fp=0xc857445410 sp=0xc8574453e8\r\nruntime.mallocgc(0x40, 0x0, 0x3, 0x412bd5)\r\n\t/root/.gvm/gos/go1.5.1/src/runtime/malloc.go:699 +0x5d3 fp=0xc8574454e0 sp=0xc857445410\r\nruntime.rawstring(0x31, 0x0, 0x0, 0x0, 0x0, 0x0)\r\n\t/root/.gvm/gos/go1.5.1/src/runtime/string.go:264 +0x70 fp=0xc857445528 sp=0xc8574454e0\r\nruntime.rawstringtmp(0x0, 0x31, 0x0, 0x0, 0x0, 0x0, 0x0)\r\n\t/root/.gvm/gos/go1.5.1/src/runtime/string.go:107 +0xb7 fp=0xc857445560 sp=0xc857445528\r\nruntime.concatstrings(0x0, 0xc8427056e0, 0x3, 0x3, 0x0, 0x0)\r\n\t/root/.gvm/gos/go1.5.1/src/runtime/string.go:48 +0x1c2 fp=0xc857445698 sp=0xc857445560\r\nruntime.concatstring3(0x0, 0xc82e412420, 0x28, 0xc2d0e8, 0x4, 0xc841aaf3d0, 0x5, 0x0, 0x0)\r\n\t/root/.gvm/gos/go1.5.1/src/runtime/string.go:62 +0x6a fp=0xc8574456e8 sp=0xc857445698\r\nfound next stack barrier at 0xc857445a00; expected [*0xc8427059f0=0x869015 *0xc842705e38=0x61b1de]\r\nfatal error: missed stack barrier\r\npanic during panic\r\n\r\ngoroutine 0 [idle]:\r\nruntime.startpanic_m()\r\n\t/root/.gvm/gos/go1.5.1/src/runtime/panic1.go:67 +0x141\r\nruntime.systemstack(0xd862e0)\r\n\t/root/.gvm/gos/go1.5.1/src/runtime/asm_amd64.s:278 +0xab\r\nruntime.startpanic()\r\n\t/root/.gvm/gos/go1.5.1/src/runtime/panic.go:505 +0x14\r\nruntime.throw(0xcb8fc0, 0x14)\r\n\t/root/.gvm/gos/go1.5.1/src/runtime/panic.go:526 +0x83\r\nruntime.gentraceback(0x452670, 0xc857445260, 0x0, 0xc859cb1c80, 0x0, 0x0, 0x64, 0x0, 0x0, 0x0, ...)\r\n\t/root/.gvm/gos/go1.5.1/src/runtime/traceback.go:261 +0x1053\r\nruntime.traceback1(0xffffffffffffffff, 0xffffffffffffffff, 0x0, 0xc859cb1c80, 0x0)\r\n\t/root/.gvm/gos/go1.5.1/src/runtime/traceback.go:552 +0xc8\r\nruntime.traceback(0xffffffffffffffff, 0xffffffffffffffff, 0x0, 0xc859cb1c80)\r\n\t/root/.gvm/gos/go1.5.1/src/runtime/traceback.go:529 +0x48\r\nruntime.tracebackothers(0xc8206ca180)\r\n\t/root/.gvm/gos/go1.5.1/src/runtime/traceback.go:666 +0xda\r\nruntime.dopanic_m(0xc8206ca180, 0x42e9a0, 0xc8207a7588)\r\n\t/root/.gvm/gos/go1.5.1/src/runtime/panic1.go:104 +0x1f9\r\nruntime.dopanic.func1()\r\n\t/root/.gvm/gos/go1.5.1/src/runtime/panic.go:514 +0x32\r\nruntime.systemstack(0xc8207a7560)\r\n\t/root/.gvm/gos/go1.5.1/src/runtime/asm_amd64.s:278 +0xab\r\nruntime.dopanic(0x0)\r\n\t/root/.gvm/gos/go1.5.1/src/runtime/panic.go:515 +0x61\r\nruntime.throw(0xcb8fc0, 0x14)\r\n\t/root/.gvm/gos/go1.5.1/src/runtime/panic.go:527 +0x90\r\nruntime.gentraceback(0x413929, 0x7fea597f9b48, 0x0, 0xc8206ca300, 0x0, 0xc8207a7738, 0x40, 0x0, 0x0, 0x6, ...)\r\n\t/root/.gvm/gos/go1.5.1/src/runtime/traceback.go:261 +0x1053\r\nruntime.sigprof(0x413929, 0x7fea597f9b48, 0x0, 0xc8206ca300, 0xc82079c000)\r\n\t/root/.gvm/gos/go1.5.1/src/runtime/proc1.go:2585 +0x50b\r\nruntime.sighandler(0xc80000001b, 0xc8207a7bb0, 0xc8207a7a80, 0xc8206ca300)\r\n\t/root/.gvm/gos/go1.5.1/src/runtime/signal_amd64x.go:47 +0xbe\r\nruntime.sigtrampgo(0x1b, 0xc8207a7bb0, 0xc8207a7a80)\r\n\t/root/.gvm/gos/go1.5.1/src/runtime/signal_linux.go:94 +0x95\r\nruntime.sigtramp(0x1, 0x0, 0xc8207a0000, 0x0, 0x7fa0, 0x4000000, 0xc859cb1c80, 0x0, 0x0, 0x3, ...)\r\n\t/root/.gvm/gos/go1.5.1/src/runtime/sys_linux_amd64.s:234 +0x1b\r\nruntime.sigreturn(0x0, 0xc8207a0000, 0x0, 0x7fa0, 0x4000000, 0xc859cb1c80, 0x0, 0x0, 0x3, 0xd817e3, ...)\r\n\t/root/.gvm/gos/go1.5.1/src/runtime/sys_linux_amd64.s:238\r\n```",
	"user": {
		"login": "DanielMorsing",
		"id": 545573,
		"type": "User",
		"site_admin": false
	},
	"assignee": {
		"login": "aclements",
		"id": 2688315,
		"type": "User",
		"site_admin": false
	},
	"comments": 20,
	"closed_at": "2015-11-12T17:37:23Z",
	"created_at": "2015-10-14T14:50:37Z",
	"updated_at": "2015-11-24T02:00:28Z",
	"milestone": {
		"id": 1295987,
		"number": 27,
		"title": "Go1.5.2"
	}
}
