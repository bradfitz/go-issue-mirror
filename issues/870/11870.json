{
	"id": 97287951,
	"number": 11870,
	"state": "closed",
	"title": "strconv: windows float conversion runtime error",
	"body": "I have been consistently receiving a problem on windows where a float conversion using fmt.Sprintf leads to a runtime error, do not know if its a golang bug or a programmatic bug.  It seems like an overflow to me. \r\n\r\nWasn't able to find previous reports for this issue, following is the backtrace.\r\n\r\n~~~\r\nC:\\mygo\\src\\github.com\\minio\\mc\u003emc ls s3:ddd\r\nfatal error: unexpected signal during runtime execution\r\n[signal 0xc0000005 code=0x0 addr=0xf pc=0x472231]\r\n\r\nruntime stack:\r\nruntime.gothrow(0x8d92d0, 0x2a)\r\n        c:/go/src/runtime/panic.go:503 +0x8e\r\nruntime.sigpanic()\r\n        c:/go/src/runtime/os_windows.go:36 +0x65\r\nadjustpointers(0xc08205b550, 0x7fc70, 0x7fe10, 0x0)\r\n        c:/go/src/runtime/stack.c:440 +0x1c1\r\nadjustframe(0x7fd40, 0x7fe10, 0x201)\r\n        c:/go/src/runtime/stack.c:537 +0x200\r\nruntime.gentraceback(0x516720, 0xc0820591c8, 0x0, 0xc082018000, 0x0, 0x0, 0x7fffffff, 0x7fe00, 0x7f\r\n        c:/go/src/runtime/traceback.go:311 +0x7af\r\ncopystack(0xc082018000, 0x8000)\r\n        c:/go/src/runtime/stack.c:623 +0x17e\r\nruntime.newstack()\r\n        c:/go/src/runtime/stack.c:789 +0x60f\r\nruntime.morestack()\r\n        c:/go/src/runtime/asm_amd64.s:324 +0x86\r\n\r\ngoroutine 1 [stack growth]:\r\nstrconv.genericFtoa(0xc08200a398, 0x1, 0x41, 0x406af66666666666, 0x66, 0x0, 0x40, 0x0, 0x0, 0x0)\r\n        c:/go/src/strconv/ftoa.go:54 fp=0xc0820591d0 sp=0xc0820591c8\r\nstrconv.AppendFloat(0xc08200a398, 0x1, 0x41, 0x406af66666666666, 0x66, 0x0, 0x40, 0x0, 0x0, 0x0)\r\n        c:/go/src/strconv/ftoa.go:51 +0x96 fp=0xc082059228 sp=0xc0820591d0\r\nfmt.(*fmt).formatFloat(0xc08200a398, 0x406af66666666666, 0x66, 0x0, 0x40)\r\n        c:/go/src/fmt/format.go:397 +0xbb fp=0xc082059328 sp=0xc082059228\r\nfmt.(*fmt).fmt_f64(0xc08200a398, 0x406af66666666666)\r\n        c:/go/src/fmt/format.go:447 +0x62 fp=0xc082059358 sp=0xc082059328\r\nfmt.(*pp).fmtFloat64(0xc08200a340, 0x406af66666666666, 0xc000000066)\r\n        c:/go/src/fmt/print.go:470 +0x8c fp=0xc082059370 sp=0xc082059358\r\nfmt.(*pp).printArg(0xc08200a340, 0x72c540, 0xc08207e558, 0x66, 0x0, 0x0)\r\n        c:/go/src/fmt/print.go:759 +0x37d fp=0xc082059440 sp=0xc082059370\r\nfmt.(*pp).doPrintf(0xc08200a340, 0x8464b0, 0x6, 0xc0820b18d0, 0x2, 0x2)\r\n        c:/go/src/fmt/print.go:1183 +0x21d4 fp=0xc0820597d0 sp=0xc082059440\r\nfmt.Sprintf(0x8464b0, 0x6, 0xc0820b18d0, 0x2, 0x2, 0x0, 0x0)\r\n        c:/go/src/fmt/print.go:203 +0x7f fp=0xc082059820 sp=0xc0820597d0\r\ngithub.com/dustin/go-humanize.humanateBytes(0x34a68, 0x408f400000000000, 0xc0820b1948, 0x7, 0x7, 0x\r\n        C:/mygo/src/github.com/minio/mc/Godeps/_workspace/src/github.com/dustin/go-humanize/bytes.g\r\ngithub.com/dustin/go-humanize.Bytes(0x34a68, 0x0, 0x0)\r\n        C:/mygo/src/github.com/minio/mc/Godeps/_workspace/src/github.com/dustin/go-humanize/bytes.g\r\ngithub.com/minio/minio/pkg/iodine.getSystemData(0xc082082300)\r\n        C:/mygo/src/github.com/minio/mc/Godeps/_workspace/src/github.com/minio/minio/pkg/iodine/iod\r\ngithub.com/minio/minio/pkg/iodine.createStackEntry(0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0)\r\n        C:/mygo/src/github.com/minio/mc/Godeps/_workspace/src/github.com/minio/minio/pkg/iodine/iod\r\ngithub.com/minio/minio/pkg/iodine.New(0xc08200e300, 0x0, 0xc0820822d0, 0x0, 0x0)\r\n        C:/mygo/src/github.com/minio/mc/Godeps/_workspace/src/github.com/minio/minio/pkg/iodine/iod\r\nmain.url2Client(0xc08209f640, 0x1c, 0x0, 0x0, 0x0, 0x0)\r\n        C:/mygo/src/github.com/minio/mc/common-methods.go:206 +0x540 fp=0xc08205b5f8 sp=0xc08205b55\r\nmain.target2Client(0xc08209f640, 0x1c, 0x0, 0x0, 0x0, 0x0)\r\n        C:/mygo/src/github.com/minio/mc/common-methods.go:223 +0x77 fp=0xc08205b698 sp=0xc08205b5f8\r\nmain.doListCmd(0xc08209f640, 0x1c, 0xc08209f600, 0x0, 0x0)\r\n        C:/mygo/src/github.com/minio/mc/ls-main.go:109 +0x5f fp=0xc08205b728 sp=0xc08205b698\r\nmain.runListCmd(0xc0820622d0)\r\n        C:/mygo/src/github.com/minio/mc/ls-main.go:100 +0x56e fp=0xc08205b8f0 sp=0xc08205b728\r\ngithub.com/minio/cli.Command.Run(0x855650, 0x2, 0x0, 0x0, 0x0, 0x0, 0x0, 0x885190, 0x16, 0x0, ...)\r\n        C:/mygo/src/github.com/minio/mc/Godeps/_workspace/src/github.com/minio/cli/command.go:123 +\r\ngithub.com/minio/cli.(*App).Run(0xc082072200, 0xc082003da0, 0x3, 0x3, 0x0, 0x0)\r\n        C:/mygo/src/github.com/minio/mc/Godeps/_workspace/src/github.com/minio/cli/app.go:192 +0x85\r\ngithub.com/minio/cli.(*App).RunAndExitOnError(0xc082072200)\r\n        C:/mygo/src/github.com/minio/mc/Godeps/_workspace/src/github.com/minio/cli/app.go:203 +0x53\r\nmain.main()\r\n        C:/mygo/src/github.com/minio/mc/main.go:194 +0xc1 fp=0xc08205bf98 sp=0xc08205bf78\r\nruntime.main()\r\n        c:/go/src/runtime/proc.go:63 +0xfa fp=0xc08205bfe0 sp=0xc08205bf98\r\nruntime.goexit()\r\n        c:/go/src/runtime/asm_amd64.s:2232 +0x1 fp=0xc08205bfe8 sp=0xc08205bfe0\r\n\r\ngoroutine 2 [runnable]:\r\nruntime.forcegchelper()\r\n        c:/go/src/runtime/proc.go:90\r\nruntime.goexit()\r\n        c:/go/src/runtime/asm_amd64.s:2232 +0x1\r\n\r\ngoroutine 3 [runnable]:\r\nruntime.bgsweep()\r\n        c:/go/src/runtime/mgc0.go:82\r\nruntime.goexit()\r\n        c:/go/src/runtime/asm_amd64.s:2232 +0x1\r\n\r\ngoroutine 4 [runnable]:\r\nruntime.runfinq()\r\n        c:/go/src/runtime/malloc.go:712\r\nruntime.goexit()\r\n        c:/go/src/runtime/asm_amd64.s:2232 +0x1\r\n\r\ngoroutine 5 [runnable]:\r\nos/signal.loop()\r\n        c:/go/src/os/signal/signal_unix.go:19\r\ncreated by os/signal.init┬╖1\r\n        c:/go/src/os/signal/signal_unix.go:27 +0x3c\r\n\r\nC:\\mygo\\src\\github.com\\minio\\mc\u003e\r\n~~~\r\n\r\n~~~\r\nC:\\mygo\\src\\github.com\\minio\\mc\u003ego version\r\ngo version go1.4.2 windows/amd64\r\nC:\\mygo\\src\\github.com\\minio\\mc\u003e\r\n~~~\r\n\r\n~~~\r\nC:\\mygo\\src\\github.com\\minio\\mc\u003ego env\r\nset GOARCH=amd64\r\nset GOBIN=\r\nset GOCHAR=6\r\nset GOEXE=.exe\r\nset GOHOSTARCH=amd64\r\nset GOHOSTOS=windows\r\nset GOOS=windows\r\nset GOPATH=C:\\mygo\r\nset GORACE=\r\nset GOROOT=c:\\go\r\nset GOTOOLDIR=c:\\go\\pkg\\tool\\windows_amd64\r\nset CC=gcc\r\nset GOGCCFLAGS=-m64 -mthreads -fmessage-length=0\r\nset CXX=g++\r\nset CGO_ENABLED=1\r\n~~~",
	"user": {
		"login": "harshavardhana",
		"id": 622699,
		"type": "User",
		"site_admin": false
	},
	"labels": [
		{
			"name": "FrozenDueToAge"
		}
	],
	"comments": 5,
	"closed_at": "2015-07-26T20:57:45Z",
	"created_at": "2015-07-26T05:19:20Z",
	"updated_at": "2016-08-05T16:11:16Z",
	"milestone": {
		"id": 905105,
		"number": 1,
		"title": "Go1.5"
	}
}
