{
	"id": 51283774,
	"number": 5533,
	"state": "closed",
	"title": "cmd/link: source paths in binary distribution assume installation to specific directory",
	"body": "\u003cpre\u003eHere to demonstrate:\n\n$ mkdir ~/tmp\n$ cd ~/tmp\n$ zcat /tmp/go1.1.linux-386.tar.gz | tar x\n$ export GOROOT=~/tmp/go\n$ export PATH=$PATH:$GOROOT/bin/\n$ mkdir a\n$ cd a\n$ cat \u0026gt;a.go\npackage main\n\nimport (\n\t\u0026quot;fmt\u0026quot;\n)\n\nfunc main() {\n\tfmt.Printf(\u0026quot;Hello\\n\u0026quot;)\n}\n$ go build a.go\n$ gdb a                                                                  \nGNU gdb (Gentoo 7.3.1 p2) 7.3.1                                                         \n     \nCopyright (C) 2011 Free Software Foundation, Inc.                                       \n     \nLicense GPLv3+: GNU GPL version 3 or later \u0026lt;\u003ca href=\"http://gnu.org/licenses/gpl.html\u0026gt\"\u003ehttp://gnu.org/licenses/gpl.html\u0026gt\u003c/a\u003e;     \n           \nThis is free software: you are free to change and redistribute it.                      \n     \nThere is NO WARRANTY, to the extent permitted by law.  Type \u0026quot;show copying\u0026quot;    \n               \nand \u0026quot;show warranty\u0026quot; for details.                                              \n               \nThis GDB was configured as \u0026quot;i686-pc-linux-gnu\u0026quot;.                               \n               \nFor bug reporting instructions, please see:                                             \n     \n\u0026lt;\u003ca href=\"http://bugs.gentoo.org/\u0026gt\"\u003ehttp://bugs.gentoo.org/\u0026gt\u003c/a\u003e;...                                                      \n           \nReading symbols from /home/brainman/tmp/a/a...done.                                     \n     \nwarning: /usr/local/go/src/pkg/runtime/runtime-gdb.py (referenced in\n.debug_gdb_scripts): No such file or directory                                          \n                              \n(gdb) br main.main                                                                      \n     \nBreakpoint 1 at 0x8048c00: file /home/brainman/tmp/a/a.go, line 5.                      \n     \n(gdb) r                                                                                 \n     \nStarting program: /home/brainman/tmp/a/a                                                \n     \n                                                                                              \nBreakpoint 1, main.main () at /home/brainman/tmp/a/a.go:5                               \n     \n5       func main() {                                                                   \n     \n(gdb) s                                                                                 \n     \n6               fmt.Printf(\u0026quot;Hello\\n\u0026quot;)                                         \n               \n(gdb)                                                                                   \n     \nfmt.Printf (format=..., a=..., n=405032960, err=...)                                    \n     \n    at /usr/local/go/src/pkg/fmt/print.go:222                                                 \n222     /usr/local/go/src/pkg/fmt/print.go: No such file or directory.                  \n     \n        in /usr/local/go/src/pkg/fmt/print.go                                                 \n(gdb) q                                                                                 \n     \nA debugging session is active.                                                          \n     \n                                                                                              \n        Inferior 1 [process 17239] will be killed.                                            \n                                                                                              \nQuit anyway? (y or n) y                                                                 \n     \n$                                                                        \n\nWe could stress that only /usr/local/go destination is supported. But this does not work\non windows, because our windows installer allows other path (then c:\\go) to be specified.\n\nPerhaps we could change our linker, so it rewrites these paths correctly.\n\nAlex\u003c/pre\u003e",
	"user": {
		"login": "alexbrainman",
		"id": 9796621,
		"type": "User",
		"site_admin": false
	},
	"comments": 29,
	"closed_at": "2016-01-04T20:10:22Z",
	"created_at": "2013-05-22T05:58:00Z",
	"updated_at": "2016-01-04T20:10:22Z",
	"milestone": {
		"id": 1055141,
		"number": 6,
		"title": "Unplanned"
	}
}
