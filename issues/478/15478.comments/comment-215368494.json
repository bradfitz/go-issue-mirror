{
	"id": 215368494,
	"body": "Your need to put your source in GOPATH. From the example you posted (sorry\nI haven't run your script) you have not done this.\n\nOn Thu, 28 Apr 2016, 19:33 Tit Petric, \u003cnotifications@github.com\u003e wrote:\n\n\u003e\n\u003e    1. What version of Go are you using (go version)?\n\u003e\n\u003e go version go1.6.1 linux/amd64\n\u003e\n\u003e    1. What operating system and processor architecture are you using (go\n\u003e    env)?\n\u003e\n\u003e GOARCH=\"amd64\"\n\u003e GOBIN=\"\"\n\u003e GOEXE=\"\"\n\u003e GOHOSTARCH=\"amd64\"\n\u003e GOHOSTOS=\"linux\"\n\u003e GOOS=\"linux\"\n\u003e GOPATH=\"/go\"\n\u003e GORACE=\"\"\n\u003e GOROOT=\"/usr/local/go\"\n\u003e GOTOOLDIR=\"/usr/local/go/pkg/tool/linux_amd64\"\n\u003e GO15VENDOREXPERIMENT=\"1\"\n\u003e CC=\"gcc\"\n\u003e GOGCCFLAGS=\"-fPIC -m64 -pthread -fmessage-length=0\"\n\u003e CXX=\"g++\"\n\u003e CGO_ENABLED=\"1\"\n\u003e\n\u003e Linux serenity 4.3.0-1-amd64 #1 \u003chttps://github.com/golang/go/issues/1\u003e\n\u003e SMP Debian 4.3.5-1 (2016-02-06) x86_64 GNU/Linux\n\u003e Running golang with Docker image, official golang build, latest image from\n\u003e docker hub.\n\u003e Full reproduction script available with ./run\n\u003e\n\u003e Source files: https://cdn.si/assets/go-gh-issue-vendoring.tgz\n\u003e\n\u003e    1. What did you do?\n\u003e\n\u003e I created a small program, using a local subpackage.\n\u003e main.go (using a subpackage + vendor) = experienced problem.\n\u003e main2.go (using vendored import from main) = works as expected.\n\u003e\n\u003e Subpackage is imported with: import \"./apiservice\". Import of vendored\n\u003e package from this subpackage results in a run/build error.\n\u003e\n\u003e Also included is a test-runner using the official golang docker image.\n\u003e It's the *same* environment, that I'm running the example in. The folder\n\u003e vendor was created with gvt fetch github.com/namsral/flag, full source\n\u003e provided.\n\u003e\n\u003e    1. What did you expect to see?\n\u003e\n\u003e Expected output with main.go:\n\u003e\n\u003e # go run main2.go\n\u003e Hello world! Network port: 8080\n\u003e\n\u003e\n\u003e    1. What did you see instead?\n\u003e\n\u003e # go run main.go\n\u003e apiservice/apiservice.go:4:8: cannot find package \"_/go/src/app/vendor/github.com/namsral/flag\" in any of:\n\u003e         /usr/local/go/src/_/go/src/app/vendor/github.com/namsral/flag (from $GOROOT)\n\u003e         /go/src/_/go/src/app/vendor/github.com/namsral/flag (from $GOPATH)\n\u003e\n\u003e Problem:\n\u003e\n\u003e Import path for local subpackage is not honored. The dot gets converted to\n\u003e underscore, and as a consequence, it's looking for the vendor directory in\n\u003e the wrong path:\n\u003e\n\u003e Expected path:\n\u003e\n\u003e         /usr/local/go/src/app/vendor/github.com/namsral/flag (from $GOROOT)\n\u003e\n\u003e â€”\n\u003e You are receiving this because you are subscribed to this thread.\n\u003e Reply to this email directly or view it on GitHub\n\u003e \u003chttps://github.com/golang/go/issues/15478\u003e\n\u003e\n",
	"user": {
		"login": "davecheney",
		"id": 7171,
		"type": "User",
		"site_admin": false
	},
	"created_at": "2016-04-28T09:40:06Z",
	"updated_at": "2016-04-28T09:40:06Z"
}
