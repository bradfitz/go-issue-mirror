{
	"id": 179330208,
	"number": 17241,
	"state": "closed",
	"title": "\"fatal error: unexpected signal during runtime execution\" - during go build (transient) on MacOS 10.12",
	"body": "I'm working through some tutorial code for the \"Go Web Programming\" book by Sau Sheong Chang (Manning, 2016) and got \"fatal error: unexpected signal during runtime execution\" trying to run `go build` once, then tried a second time a minute later without trying anything and it worked.  The code I was building is [here](https://github.com/sausheong/gwp/tree/master/Chapter_2_Go_ChitChat/chitchat).\r\n\r\nI want to reiterate: this happened just once.  A subsequent run of `go build` _without changing anything_ worked as expected.  Unfortunately I have virtually no information to provide besides a cut and paste of the stack trace below because I was unable to reproduce.  I saw [an issue had been opened](https://github.com/golang/go/issues/11792) with what appeared to be the same bug, but that thread indicated that if it appeared on real hardware (yes: 2013 MacBook Pro) that a new issue should be opened.\r\n\r\n`go version` : `go version go1.6.2 darwin/amd64`\r\n`go env` :\r\n```\r\nGOARCH=\"amd64\"\r\nGOBIN=\"\"\r\nGOEXE=\"\"\r\nGOHOSTARCH=\"amd64\"\r\nGOHOSTOS=\"darwin\"\r\nGOOS=\"darwin\"\r\nGOPATH=\"/Users/bart/go\"\r\nGORACE=\"\"\r\nGOROOT=\"/usr/local/Cellar/go/1.6.2/libexec\"\r\nGOTOOLDIR=\"/usr/local/Cellar/go/1.6.2/libexec/pkg/tool/darwin_amd64\"\r\nGO15VENDOREXPERIMENT=\"1\"\r\nCC=\"clang\"\r\nGOGCCFLAGS=\"-fPIC -m64 -pthread -fno-caret-diagnostics -Qunused-arguments -fmessage-length=0 -fno-common\"\r\nCXX=\"clang++\"\r\nCGO_ENABLED=\"1\"\r\n```\r\n\r\n```\r\nbart@Barts-MBP:chitchat (master*)$ go build\r\n# github.com/sausheong/gwp/Chapter_2_Go_ChitChat/chitchat/data\r\nfatal error: unexpected signal during runtime execution\r\n[signal 0xb code=0x1 addr=0x7b6c76bc73b0 pc=0xf0eb]\r\n\r\nruntime stack:\r\nruntime.throw(0x4971e0, 0x2a)\r\n       \t/usr/local/Cellar/go/1.6.2/libexec/src/runtime/panic.go:547 +0x90\r\nruntime.sigpanic()\r\n       \t/usr/local/Cellar/go/1.6.2/libexec/src/runtime/sigpanic_unix.go:12 +0x5a\r\nruntime.unlock(0x984540)\r\n       \t/usr/local/Cellar/go/1.6.2/libexec/src/runtime/lock_sema.go:107 +0x14b\r\nruntime.(*mheap).alloc_m(0x984540, 0x1, 0x9, 0xb92fa0)\r\n       \t/usr/local/Cellar/go/1.6.2/libexec/src/runtime/mheap.go:492 +0x314\r\nruntime.(*mheap).alloc.func1()\r\n       \t/usr/local/Cellar/go/1.6.2/libexec/src/runtime/mheap.go:502 +0x41\r\nruntime.systemstack(0x7fff5fbff218)\r\n       \t/usr/local/Cellar/go/1.6.2/libexec/src/runtime/asm_amd64.s:307 +0xab\r\nruntime.(*mheap).alloc(0x984540, 0x1, 0x10000000009, 0xed8f)\r\n       \t/usr/local/Cellar/go/1.6.2/libexec/src/runtime/mheap.go:503 +0x63\r\nruntime.(*mcentral).grow(0x985c00, 0x0)\r\n       \t/usr/local/Cellar/go/1.6.2/libexec/src/runtime/mcentral.go:209 +0x93\r\nruntime.(*mcentral).cacheSpan(0x985c00, 0xb54508)\r\n       \t/usr/local/Cellar/go/1.6.2/libexec/src/runtime/mcentral.go:89 +0x47d\r\nruntime.(*mcache).refill(0xaf64b0, 0x9, 0xb54508)\r\n       \t/usr/local/Cellar/go/1.6.2/libexec/src/runtime/mcache.go:119 +0xcc\r\nruntime.mallocgc.func2()\r\n       \t/usr/local/Cellar/go/1.6.2/libexec/src/runtime/malloc.go:642 +0x2b\r\nruntime.systemstack(0x975d00)\r\n       \t/usr/local/Cellar/go/1.6.2/libexec/src/runtime/asm_amd64.s:291 +0x79\r\nruntime.mstart()\r\n       \t/usr/local/Cellar/go/1.6.2/libexec/src/runtime/proc.go:1051\r\n\r\ngoroutine 1 [running]:\r\nruntime.systemstack_switch()\r\n       \t/usr/local/Cellar/go/1.6.2/libexec/src/runtime/asm_amd64.s:245 fp=0xc82084cfe0 sp=0xc82084cfd8\r\nruntime.mallocgc(0x80, 0x405340, 0xc800000000, 0x11029)\r\n       \t/usr/local/Cellar/go/1.6.2/libexec/src/runtime/malloc.go:643 +0x869 fp=0xc82084d0b8 sp=0xc82084cfe0\r\nruntime.newarray(0x405340, 0x4, 0x0)\r\n       \t/usr/local/Cellar/go/1.6.2/libexec/src/runtime/malloc.go:798 +0xc9 fp=0xc82084d0f8 sp=0xc82084d0b8\r\nruntime.growslice(0x3b0120, 0xc820ac9740, 0x2, 0x2, 0x3, 0x0, 0x0, 0x0)\r\n       \t/usr/local/Cellar/go/1.6.2/libexec/src/runtime/slice.go:100 +0x2c1 fp=0xc82084d168 sp=0xc82084d0f8\r\ncmd/compile/internal/gc.livenessepilogue(0xc820b028c0)\r\n       \t/usr/local/Cellar/go/1.6.2/libexec/src/cmd/compile/internal/gc/plive.go:1289 +0x3323 fp=0xc82084d708 sp=0xc82084d168\r\ncmd/compile/internal/gc.liveness(0xc820518b40, 0xc820ba4360, 0xc820b17480, 0xc820b17500)\r\n       \t/usr/local/Cellar/go/1.6.2/libexec/src/cmd/compile/internal/gc/plive.go:1794 +0x334 fp=0xc82084d7e8 sp=0xc82084d708\r\ncmd/compile/internal/gc.compile(0xc820518b40)\r\n       \t/usr/local/Cellar/go/1.6.2/libexec/src/cmd/compile/internal/gc/pgen.go:541 +0xdf2 fp=0xc82084da58 sp=0xc82084d7e8\r\ncmd/compile/internal/gc.funccompile(0xc820518b40)\r\n       \t/usr/local/Cellar/go/1.6.2/libexec/src/cmd/compile/internal/gc/dcl.go:1450 +0x1c0 fp=0xc82084dad0 sp=0xc82084da58\r\ncmd/compile/internal/gc.Main()\r\n       \t/usr/local/Cellar/go/1.6.2/libexec/src/cmd/compile/internal/gc/lex.go:472 +0x2116 fp=0xc82084ddf0 sp=0xc82084dad0\r\ncmd/compile/internal/amd64.Main()\r\n       \t/usr/local/Cellar/go/1.6.2/libexec/src/cmd/compile/internal/amd64/galign.go:127 +0x58d fp=0xc82084de58 sp=0xc82084ddf0\r\nmain.main()\r\n       \t/usr/local/Cellar/go/1.6.2/libexec/src/cmd/compile/main.go:32 +0x395 fp=0xc82084df30 sp=0xc82084de58\r\nruntime.main()\r\n       \t/usr/local/Cellar/go/1.6.2/libexec/src/runtime/proc.go:188 +0x2b0 fp=0xc82084df80 sp=0xc82084df30\r\nruntime.goexit()\r\n       \t/usr/local/Cellar/go/1.6.2/libexec/src/runtime/asm_amd64.s:1998 +0x1 fp=0xc82084df88 sp=0xc82084df80\r\n```",
	"user": {
		"login": "bartgrantham",
		"id": 913646,
		"type": "User",
		"site_admin": false
	},
	"labels": [
		{
			"name": "OS-Darwin"
		}
	],
	"comments": 1,
	"closed_at": "2016-10-03T15:37:36Z",
	"created_at": "2016-09-26T20:34:04Z",
	"updated_at": "2016-10-03T15:37:36Z"
}
