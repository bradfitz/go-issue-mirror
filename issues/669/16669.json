{
	"id": 170614600,
	"number": 16669,
	"state": "closed",
	"title": "Build interrupted with panic and segmentation fault on OS X Sierra ",
	"body": "1. What version of Go are you using (`go version`)?\r\ngo1.6.2 darwin/amd64\r\n\r\n2. What operating system and processor architecture are you using (`go env`)?\r\n```\r\n→ go env\r\nGOARCH=\"amd64\"\r\nGOBIN=\"\"\r\nGOEXE=\"\"\r\nGOHOSTARCH=\"amd64\"\r\nGOHOSTOS=\"darwin\"\r\nGOOS=\"darwin\"\r\nGOPATH=\"/Users/Gufran/Workspace/Go\"\r\nGORACE=\"\"\r\nGOROOT=\"/usr/local/Cellar/go/1.6.2/libexec\"\r\nGOTOOLDIR=\"/usr/local/Cellar/go/1.6.2/libexec/pkg/tool/darwin_amd64\"\r\nGO15VENDOREXPERIMENT=\"1\"\r\nCC=\"clang\"\r\nGOGCCFLAGS=\"-fPIC -m64 -pthread -fno-caret-diagnostics -Qunused-arguments -fmessage-length=0 -fno-common\"\r\nCXX=\"clang++\"\r\nCGO_ENABLED=\"1\"\r\n```\r\n\r\n3. What did you do?\r\nRun `go build` on any valid go program.\r\n\r\n4. What did you expect to see?\r\nBuild finished successfully and an executable binary produced.\r\n\r\n5. What did you see instead?\r\n\r\nSometimes\r\n\r\n```\r\n→ go build main.go\r\n# command-line-arguments\r\nfatal error: unexpected signal during runtime execution\r\n[signal 0xb code=0x1 addr=0xdcbaa08fdee pc=0xf47b]\r\n\r\nruntime stack:\r\nruntime.throw(0x2c4920, 0x2a)\r\n        /usr/local/Cellar/go/1.6.2/libexec/src/runtime/panic.go:547 +0x90\r\nruntime.sigpanic()\r\n        /usr/local/Cellar/go/1.6.2/libexec/src/runtime/sigpanic_unix.go:12 +0x5a\r\nruntime.unlock(0x3a70a0)\r\n        /usr/local/Cellar/go/1.6.2/libexec/src/runtime/lock_sema.go:107 +0x14b\r\nruntime.(*mheap).alloc_m(0x3a70a0, 0x1, 0x15, 0x5b7968)\r\n        /usr/local/Cellar/go/1.6.2/libexec/src/runtime/mheap.go:492 +0x314\r\nruntime.(*mheap).alloc.func1()\r\n        /usr/local/Cellar/go/1.6.2/libexec/src/runtime/mheap.go:502 +0x41\r\nruntime.systemstack(0x7fff5fbfea38)\r\n        /usr/local/Cellar/go/1.6.2/libexec/src/runtime/asm_amd64.s:307 +0xab\r\nruntime.(*mheap).alloc(0x3a70a0, 0x1, 0x10000000015, 0xf11f)\r\n        /usr/local/Cellar/go/1.6.2/libexec/src/runtime/mheap.go:503 +0x63\r\nruntime.(*mcentral).grow(0x3a8ca0, 0x0)\r\n        /usr/local/Cellar/go/1.6.2/libexec/src/runtime/mcentral.go:209 +0x93\r\nruntime.(*mcentral).cacheSpan(0x3a8ca0, 0x5b7968)\r\n        /usr/local/Cellar/go/1.6.2/libexec/src/runtime/mcentral.go:89 +0x47d\r\nruntime.(*mcache).refill(0x4032c0, 0xc800000015, 0x5b7968)\r\n        /usr/local/Cellar/go/1.6.2/libexec/src/runtime/mcache.go:119 +0xcc\r\nruntime.mallocgc.func2()\r\n        /usr/local/Cellar/go/1.6.2/libexec/src/runtime/malloc.go:642 +0x2b\r\nruntime.systemstack(0x3a0700)\r\n        /usr/local/Cellar/go/1.6.2/libexec/src/runtime/asm_amd64.s:291 +0x79\r\nruntime.mstart()\r\n        /usr/local/Cellar/go/1.6.2/libexec/src/runtime/proc.go:1051\r\n\r\ngoroutine 1 [running]:\r\nruntime.systemstack_switch()\r\n        /usr/local/Cellar/go/1.6.2/libexec/src/runtime/asm_amd64.s:245 fp=0xc8200429d0 sp=0xc8200429c8\r\nruntime.mallocgc(0x180, 0x25c4c0, 0xc800000000, 0xc820084240)\r\n        /usr/local/Cellar/go/1.6.2/libexec/src/runtime/malloc.go:643 +0x869 fp=0xc820042aa8 sp=0xc8200429d0\r\nruntime.newarray(0x25c4c0, 0x8, 0x152a58)\r\n        /usr/local/Cellar/go/1.6.2/libexec/src/runtime/malloc.go:798 +0xc9 fp=0xc820042ae8 sp=0xc820042aa8\r\nruntime.makeslice(0x1e67a0, 0x8, 0x8, 0x0, 0x0, 0x0)\r\n        /usr/local/Cellar/go/1.6.2/libexec/src/runtime/slice.go:32 +0x165 fp=0xc820042b38 sp=0xc820042ae8\r\ncmd/link/internal/ld.readsym(0xc820084240, 0xc8220dc0e0, 0xc820949756, 0x4, 0xc8220153b0, 0x42)\r\n        /usr/local/Cellar/go/1.6.2/libexec/src/cmd/link/internal/ld/objfile.go:239 +0xba6 fp=0xc820042f80 sp=0xc820042b38\r\ncmd/link/internal/ld.ldobjfile(0xc820084240, 0xc8220dc0e0, 0xc820949756, 0x4, 0x1b364, 0xc8220153b0, 0x42)\r\n        /usr/local/Cellar/go/1.6.2/libexec/src/cmd/link/internal/ld/objfile.go:147 +0xa62 fp=0xc820043190 sp=0xc820042f80\r\ncmd/link/internal/ld.ldobj(0xc8220dc0e0, 0xc820949756, 0x4, 0x1b38d, 0xc8220153b0, 0x42, 0xc820df4ac0, 0x3a, 0x1, 0x0)\r\n        /usr/local/Cellar/go/1.6.2/libexec/src/cmd/link/internal/ld/lib.go:1351 +0x1569 fp=0xc820043400 sp=0xc820043190\r\ncmd/link/internal/ld.objfile(0xc820d8b650)\r\n        /usr/local/Cellar/go/1.6.2/libexec/src/cmd/link/internal/ld/lib.go:847 +0x10d9 fp=0xc820043710 sp=0xc820043400\r\ncmd/link/internal/ld.loadlib()\r\n        /usr/local/Cellar/go/1.6.2/libexec/src/cmd/link/internal/ld/lib.go:513 +0x5ce fp=0xc8200439f0 sp=0xc820043710\r\ncmd/link/internal/ld.Ldmain()\r\n        /usr/local/Cellar/go/1.6.2/libexec/src/cmd/link/internal/ld/pobj.go:214 +0x1cd3 fp=0xc820043e70 sp=0xc8200439f0\r\ncmd/link/internal/amd64.Main()\r\n        /usr/local/Cellar/go/1.6.2/libexec/src/cmd/link/internal/amd64/obj.go:44 +0x19 fp=0xc820043e78 sp=0xc820043e70\r\nmain.main()\r\n        /usr/local/Cellar/go/1.6.2/libexec/src/cmd/link/main.go:27 +0x36f fp=0xc820043f50 sp=0xc820043e78\r\nruntime.main()\r\n        /usr/local/Cellar/go/1.6.2/libexec/src/runtime/proc.go:188 +0x2b0 fp=0xc820043fa0 sp=0xc820043f50\r\nruntime.goexit()\r\n        /usr/local/Cellar/go/1.6.2/libexec/src/runtime/asm_amd64.s:1998 +0x1 fp=0xc820043fa8 sp=0xc820043fa0\r\n\r\n```\r\n\r\nand sometimes\r\n\r\n```\r\n→ go build main.go\r\ngo build command-line-arguments: /usr/local/Cellar/go/1.6.2/libexec/pkg/tool/darwin_amd64/link: signal: segmentation fault\r\n```\r\n\r\nBoth of these errors appear at random, I wasn't able to replicate them reliably. As far as I know, repeatedly running `go build` will crash a few times.\r\n\r\nI updated to OS X Sierra about 12 hours ago and this issue started after than, before the upgrade everything was working perfectly fine.\r\nI am going to purge my current Go installation and reinstall again, if the issue persist I'll update the thread.",
	"user": {
		"login": "Gufran",
		"id": 2152267,
		"type": "User",
		"site_admin": false
	},
	"comments": 2,
	"closed_at": "2016-08-11T15:17:27Z",
	"created_at": "2016-08-11T10:29:11Z",
	"updated_at": "2016-08-11T15:17:27Z"
}
