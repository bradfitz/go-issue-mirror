{
	"id": 146275553,
	"number": 15151,
	"state": "closed",
	"title": "Test failure on Ubuntu 15.10 (ppc64le) while building goes supplementary network libraries ",
	"body": "Hi All, \r\n\r\nI am working porting go supplementary networking library ( https://godoc.org/golang.org/x/net )  on ppc64le architecture. I am using Ubuntu 15.10 on top of ppc64le hardware. I have successfully built go supplementary network repository on ppc64le but while running automated test case suite I observe that one test case is failing with ‘found empty parent’ error. \r\n\r\nBelow is the description of test case, which is failing on Ubuntu 15.10, \r\n\r\nok      go/ast  0.003s\r\n--- FAIL: TestImportVendorParentFailure (0.00s)\r\n        build_test.go:339: found empty parent in /go/src/vendor/golang.org/x/net/http2\r\nFAIL\r\nFAIL    go/build        1.350s\r\n\r\nI performed below steps for compiling / building go supplementary network library on Ubuntu 15.10 (ppc64le)\r\n\r\nStep 1:  Update repositories and install required packages to build go repository  \r\n$ apt-get update \u0026\u0026 apt-get install -y  git python gcc g++ make build-essential bison gccgo-5 \r\n\r\nStep 2 : Fetch go source from git repository \r\ngit clone https://github.com/golang/go.git \u0026\u0026 cd go\r\n\r\nStep 3 : Check out last stable release of go and build and test it before proceeding further \r\ngit checkout origin/release-branch.go1.6\r\ncd src/\r\n\r\nStep 4 : updates the links in /etc/alternatives directory \r\nupdate-alternatives --set go /usr/bin/go-5\r\nexport GOROOT_BOOTSTRAP=/usr\r\n\r\nStep 5: build and test go code \r\n./all.bash\r\n\r\nStep 6: prepare directory structure to fetch go supplementary network libraries and its dependency code\r\ncd vendor/\r\nmkdir -p golang.org/x\r\ncd golang.org/x/\r\n\r\nStep 7: Clone go supplementary network libraries and it's dependency code \r\ngit clone https://github.com/golang/text.git\r\ngit clone https://github.com/golang/crypto.git\r\ngit clone https://github.com/golang/net.git\r\n\r\nStep 8: Step into ‘net’ directory and fetch last stable release of go supplementary network library \r\ncd net/\r\ngit checkout origin/release-branch.go1.6\r\n\r\nStep 9: Go to 'go/src' directory and run 'all.bash' script to build and test go packages \r\ncd ../../../../\r\n./all.bash\r\n\r\nI followed same steps on Ubuntu 15.10 + amd64 combination and get exactly same result. TestImportVendorParentFailure test case fails with ‘found empty parent in /go/src/vendor/golang.org/x/net/http2’ error. \r\n\r\nAny pointers/suggestions on failed test case will be great help. \r\n\r\nBelow is additional information required for debug / resolve /reproduce test case failure, \r\n\r\n1. What version of Go are you using (`go version`)?\r\n$ go version\r\ngo version go1.4.2 gccgo (Ubuntu 5.2.1-22ubuntu2) 5.2.1 20151010 linux/ppc64le\r\n\r\n2. What operating system and processor architecture are you using (`go env`)?\r\n\r\n$ lsb_release -a\r\nNo LSB modules are available.\r\nDistributor ID: Ubuntu\r\nDescription:    Ubuntu 15.10\r\nRelease:        15.10\r\nCodename:       wily\r\n\r\n$ go env\r\nGOARCH=\"ppc64le\"\r\nGOBIN=\"\"\r\nGOCHAR=\"9\"\r\nGOEXE=\"\"\r\nGOHOSTARCH=\"ppc64le\"\r\nGOHOSTOS=\"linux\"\r\nGOOS=\"linux\"\r\nGOPATH=\"\"\r\nGORACE=\"\"\r\nGOROOT=\"/usr\"\r\nGOTOOLDIR=\"/usr/lib/gcc/powerpc64le-linux-gnu/5\"\r\nCC=\"/usr/bin/gcc-5\"\r\nGOGCCFLAGS=\"-fPIC -pthread -fmessage-length=0\"\r\nCXX=\"/usr/bin/g++-5\"\r\nCGO_ENABLED=\"1\"\r\n\r\n$ uname -a\r\nLinux 9de5feaaf936 3.16.0-30-generic #40-Ubuntu SMP Mon Jan 12 22:07:11 UTC 2015 ppc64le ppc64le ppc64le GNU/Linux\r\n\r\n3. What did you do?\r\nI am working porting go supplementary networking libraries https://godoc.org/golang.org/x/net on ppc64le architecture. Already provided steps to reproduce test case failure \r\n\r\n4. What did you expect to see?\r\nNo test case failure on Ubuntu 15.10 + ppc64le combination\r\n\r\n5. What did you see instead?\r\nAutomated test case execution failed due to failure of ‘TestImportVendorParentFailure’ test case\r\n",
	"user": {
		"login": "MaheshWaidande",
		"id": 10461823,
		"type": "User",
		"site_admin": false
	},
	"comments": 1,
	"closed_at": "2016-04-06T16:37:48Z",
	"created_at": "2016-04-06T11:00:06Z",
	"updated_at": "2016-04-06T16:37:48Z"
}
