{
	"id": 51276428,
	"number": 398,
	"state": "closed",
	"title": "fmt Print, etc. are not thread safe. Which packages are thread safe?",
	"body": "by **kenliz@cruzio.com**:\n\n\u003cpre\u003eThe Course Day 1 notes in discussing defer, imply that you can trace entry and exit from\nfuncs \nwith Print, etc from package fmt. But a look at the code shows that this package does\nnot use \nmutex guards around non-reentrant code. Hence they are not safe for use with go\nreoutines.\n\nThe small program below shows the problem, by occasionally producing garbage in the\noutput.\nThe second program (a single thread) does not have the problem.\n\nWhat steps will reproduce the problem?\n1. compile the programs below, and inspect the output. \n2.\n3.\n\nWhat is the expected output? What do you see instead?\nOnly text generated by the program.\nOccasional garbage between lines, due to non-reentrant code.\n\nWhat is your $GOOS?  $GOARCH?\ndarwin\namd64\n\n\nWhich revision are you using?  (hg identify)\nd1b75410b793 tip\n(and others)\n\nPlease provide any additional information below.\u003c/pre\u003e",
	"user": {
		"login": "gopherbot",
		"id": 8566911,
		"type": "User",
		"site_admin": false
	},
	"labels": [
		{
			"name": "FrozenDueToAge"
		}
	],
	"comments": 4,
	"closed_at": "2014-12-08T10:04:27Z",
	"created_at": "2009-12-09T00:30:52Z",
	"updated_at": "2016-06-24T19:10:11Z"
}
