{
	"id": 66092400,
	"body": "\u003ca id=\"c2\"\u003e\u003c/a\u003eComment 2 by **dimitrij.denissenko@blacksquaremedia.com**:\n\n\u003cpre\u003eUnfortunately there are limitations to what I can expose as it is a proprietary client\napp, but please see a different panic message from the same app. There are dozens of\ngoroutines, so I have copied the first few as all the others are in a runnable state.\n\nHere is the code which causes this is:\n\n// proprietary.com/client/app/protocol.ParseRequest\nfunc ParseRequest(reader io.Reader) ... {\n  dec := json.NewDecoder(reader)\n  if err = dec.Decode(\u0026req); err != nil {\n    return nil, err\n  }\n  ...\n}\n\n// proprietary.com/client/app.(*Parser).Parse\nfunc (p *Parser) Parse(rd io.Reader) .... {\n  req, err := protocol.ParseRequest(rd)\n  ...\n}\n\n// proprietary.com/client/app.(*Mux).Handle\nfunc (m *Mux) Handle(w http.ResponseWriter, req *http.Request) {\n  data, err := DefaultParser.Parse(req.Body)\n  ...\n}\n\nThe panic message:\n\npanic: runtime error: invalid memory address or nil pointer dereference\n[signal 0xb code=0x1 addr=0x20 pc=0x5e65ca]\n\ngoroutine 8761184 [running]:\nruntime.panic(0x7c3560, 0xd59d88)\n        /home/user/.gvm/gos/go1.2/src/pkg/runtime/panic.c:266 +0xb6\nbufio.(*Reader).fill(0xc211a1c000)\n        /home/user/.gvm/gos/go1.2/src/pkg/bufio/bufio.go:91 +0x10a\nbufio.(*Reader).Read(0xc211a1c000, 0xc210a86000, 0x200, 0x200, 0x200, ...)\n        /home/user/.gvm/gos/go1.2/src/pkg/bufio/bufio.go:159 +0x1a4\nio.(*LimitedReader).Read(0xc2144bdae0, 0xc210a86000, 0x200, 0x200, 0x200, ...)\n        /home/user/.gvm/gos/go1.2/src/pkg/io/io.go:398 +0xbb\nnet/http.(*body).Read(0xc210ab4a80, 0xc210a86000, 0x200, 0x200, 0x0, ...)\n        /home/user/.gvm/gos/go1.2/src/pkg/net/http/transfer.go:534 +0x96\nencoding/json.(*Decoder).readValue(0xc215022c40, 0x8, 0xc21196d900, 0xba)\n        /home/user/.gvm/gos/go1.2/src/pkg/encoding/json/stream.go:124 +0x4af\nencoding/json.(*Decoder).Decode(0xc215022c40, 0x6d6760, 0xc210261628, 0x14e6413c,\n0x42723e)\n        /home/user/.gvm/gos/go1.2/src/pkg/encoding/json/stream.go:44 +0x57\nproprietary.com/client/app/protocol.ParseRequest(0x7ff17152a0e0, 0xc210ab4a80,\n0xc200000000, 0x0, 0x0)\n        /home/user/app/releases/20140312144700/_vendor/src/proprietary.com/client/app/protocol/request.go:34 +0xb0\nproprietary.com/client/app.(*Parser).Parse(0xd580e0, 0x7ff17152a0e0, 0xc210ab4a80,\n0xc2102606c0, 0x0, ...)\n        /home/user/app/releases/20140312144700/src/proprietary.com/client/app/parser.go:133 +0xc2\nproprietary.com/client/app.(*Mux).Handle(0xc210000ab0, 0x7ff179ba4e50, 0xc2144bdb00,\n0xc2155a1c30, 0x7ff179b9d758, ...)\n        /home/user/app/releases/20140312144700/src/proprietary.com/client/app/mux.go:128 +0x270\nproprietary.com/client/app.func路008(0x7ff179ba4e50, 0xc2144bdb00, 0xc2155a1c30)\n        /home/user/app/releases/20140312144700/src/proprietary.com/client/app/mux.go:792 +0x54\nnet/http.HandlerFunc.ServeHTTP(0xc2100956e0, 0x7ff179ba4e50, 0xc2144bdb00, 0xc2155a1c30)\n        /home/user/.gvm/gos/go1.2/src/pkg/net/http/server.go:1220 +0x40\nproprietary.com/client/app/utils.func路002()\n        /home/user/app/releases/20140312144700/src/proprietary.com/client/app/utils/timeout.go:27 +0x86\ncreated by proprietary.com/client/app/utils.(*timeoutHandler).ServeHTTP\n        /home/user/app/releases/20140312144700/src/proprietary.com/client/app/utils/timeout.go:29 +0x134\n\ngoroutine 1 [IO wait]:\nnet.runtime_pollWait(0x7ff179b9e780, 0x72, 0x0)\n        /home/user/.gvm/gos/go1.2/src/pkg/runtime/netpoll.goc:116 +0x6a\nnet.(*pollDesc).Wait(0xc210097c30, 0x72, 0x7ff179b9d180, 0xb)\n        /home/user/.gvm/gos/go1.2/src/pkg/net/fd_poll_runtime.go:81 +0x34\nnet.(*pollDesc).WaitRead(0xc210097c30, 0xb, 0x7ff179b9d180)\n        /home/user/.gvm/gos/go1.2/src/pkg/net/fd_poll_runtime.go:86 +0x30\nnet.(*netFD).accept(0xc210097bd0, 0x938758, 0x0, 0x7ff179b9d180, 0xb)\n        /home/user/.gvm/gos/go1.2/src/pkg/net/fd_unix.go:382 +0x2c2\nnet.(*UnixListener).AcceptUnix(0xc21010e7a0, 0x4d284b, 0x7ff1799fdcf0, 0x4d284b)\n        /home/user/.gvm/gos/go1.2/src/pkg/net/unixsock_posix.go:283 +0x4b\nnet.(*UnixListener).Accept(0xc21010e7a0, 0x0, 0x0, 0x0, 0x0)\n        /home/user/.gvm/gos/go1.2/src/pkg/net/unixsock_posix.go:294 +0x4b\nnet/http.(*Server).Serve(0xc210099780, 0x7ff179ba43f0, 0xc21010e7a0, 0x0, 0x0)\n        /home/user/.gvm/gos/go1.2/src/pkg/net/http/server.go:1622 +0x91\nproprietary.com/client/app.(*Mux).ListenAndServe(0xc210000ab0, 0xc210000940, 0x4,\n0x7fff18194e9c, 0x15, ...)\n        /home/user/app/releases/20140312144700/src/proprietary.com/client/app/mux.go:108 +0x2bb\nproprietary.com/client/app.(*app).Run(0xd5fcc0, 0x7fff18194e9c, 0x15, 0x7fff18194e7f,\n0x16)\n        /home/user/app/releases/20140312144700/src/proprietary.com/client/app/app.go:85 +0x767\nmain.main()\n        /home/user/app/releases/20140312144700/worker/worker.go:17 +0x63\n\ngoroutine 3 [syscall]:\nos/signal.loop()\n        /home/user/.gvm/gos/go1.2/src/pkg/os/signal/signal_unix.go:21 +0x1e\ncreated by os/signal.init路1\n        /home/user/.gvm/gos/go1.2/src/pkg/os/signal/signal_unix.go:27 +0x31\n\ngoroutine 4 [chan receive]:\ngithub.com/golang/glog.(*loggingT).flushDaemon(0xd5fe00)\n        /home/user/app/releases/20140312144700/_vendor/src/github.com/golang/glog/glog.go:839 +0x50\ncreated by github.com/golang/glog.init路1\n        /home/user/app/releases/20140312144700/_vendor/src/github.com/golang/glog/glog.go:406 +0x276\n\ngoroutine 5 [syscall]:\nruntime.goexit()\n        /home/user/.gvm/gos/go1.2/src/pkg/runtime/proc.c:1394\n\ngoroutine 9 [chan receive]:\ndatabase/sql.(*DB).connectionOpener(0xc21004bb00)\n        /home/user/.gvm/gos/go1.2/src/pkg/database/sql/sql.go:574 +0x3e\ncreated by database/sql.Open\n        /home/user/.gvm/gos/go1.2/src/pkg/database/sql/sql.go:436 +0x24d\n\ngoroutine 11 [finalizer wait]:\nruntime.park(0x40aa00, 0xd5dc18, 0xd5b8c8)\n        /home/user/.gvm/gos/go1.2/src/pkg/runtime/proc.c:1342 +0x66\nrunfinq()\n        /home/user/.gvm/gos/go1.2/src/pkg/runtime/mgc0.c:2276 +0x84\nruntime.goexit()\n        /home/user/.gvm/gos/go1.2/src/pkg/runtime/proc.c:1394\u003c/pre\u003e",
	"user": {
		"login": "gopherbot",
		"id": 8566911,
		"type": "User",
		"site_admin": false
	},
	"created_at": "2014-03-13T08:19:07Z",
	"updated_at": "2014-12-08T10:41:51Z"
}
