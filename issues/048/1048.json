{
	"id": 51277279,
	"number": 1048,
	"state": "closed",
	"title": "release.2010-08-25 -\u003e tests and benchmarks fail",
	"body": "by **ronnybrendel**:\n\n\u003cpre\u003eWhat steps will reproduce the problem?\n0. (uname) Linux 2.6.33-02063305-generic #02063305 SMP x86_64 GNU/Linux\n1. cd src\n2. ./all.bash\n\nWhat is the expected output?\ntests and benchs shouldn't fail\n\n\nWhat do you see instead?\ntests and randomly benches fail\n\n\nWhat is your $GOOS?  $GOARCH?\nGOARCH=\u0026quot;amd64\u0026quot;\nGOOS=\u0026quot;linux\u0026quot;\n\nWhich revision are you using?  (hg identify)\n18926649cda7 release.2010-08-25/release\n\nPlease provide any additional information below.\n--- cd ../test/bench\nfasta\nreverse-complement\nnbody\nbinary-tree\nbinary-tree-freelist\nfannkuch\nfannkuch-parallel\nregex-dna\nregex-dna-parallel\nspectral-norm\nk-nucleotide\nk-nucleotide-parallel\npanic: runtime error: invalid memory address or nil pointer dereference\n\npanic PC=0x7fb1d8858f90\nruntime.panic+0xb2 /home/brendel/work/3rd-party-source/golang/src/pkg/runtime/proc.c:1015\n        runtime.panic(0x7fb100000000, 0x40bfb8)\npanicstring+0x69 /home/brendel/work/3rd-party-source/golang/src/pkg/runtime/runtime.c:83\n        panicstring(0x459210, 0x7fb1d8878240)\nsigpanic+0x148\n/home/brendel/work/3rd-party-source/golang/src/pkg/runtime/linux/thread.c:286\n        sigpanic()\ncmpstring+0x32 /home/brendel/work/3rd-party-source/golang/src/pkg/runtime/string.c:132\n        cmpstring(0x7fb1d8950eb8, 0x405eb8, 0x7fb1d8853b00, 0x403442, 0x1, ...)\nstrequal+0x47 /home/brendel/work/3rd-party-source/golang/src/pkg/runtime/runtime.c:375\n        strequal(0x1, 0x7fb1d88691c0, 0x800000010, 0x800000018, 0x7fb1d87b03a8, ...)\nhash_insert_internal+0x33b\n/home/brendel/work/3rd-party-source/golang/src/pkg/runtime/hashmap.c:412\n        hash_insert_internal(0x7fb100000010, 0x7fb1d8869148, 0x7fb1d8853b58, 0x40f40c, 0x1e00481080, ...)\nhash_grow+0xf3 /home/brendel/work/3rd-party-source/golang/src/pkg/runtime/hashmap.c:283\n        hash_grow(0x7fb1d8869028, 0x7fb100000002, 0x400000003, 0x7fb1d8869000, 0x7fb1d8869148, ...)\nhash_insert_internal+0x1a5\n/home/brendel/work/3rd-party-source/golang/src/pkg/runtime/hashmap.c:450\n        hash_insert_internal(0x7fb1d8869000, 0x7fb1d8869028, 0x2, 0x7fb1d88701b0, 0x8d8869000, ...)\nhash_insert+0x77 /home/brendel/work/3rd-party-source/golang/src/pkg/runtime/hashmap.c:460\n        hash_insert(0x7fb1d8869028, 0x7fb100000000, 0x8b2bd76fc5fbbac0, 0x7fb1d8869000, 0x7fb1d8859330, ...)\nmapassign+0x80 /home/brendel/work/3rd-party-source/golang/src/pkg/runtime/hashmap.c:864\n        mapassign(0x7fb1d8869000, 0x7fb1d8859330, 0x7fb1d88592d8, 0x0, 0x7fb1d8869178, ...)\nruntime.mapassign1+0x3c\n/home/brendel/work/3rd-party-source/golang/src/pkg/runtime/hashmap.c:895\n        runtime.mapassign1(0x7fb1d8869000, 0x7fb1d8859330)\nmain.count+0xe7\n/home/brendel/work/3rd-party-source/golang/test/bench/k-nucleotide-parallel.go:52\n        main.count(0x7fb1d8869000, 0x7fb1d8881002, 0x400000002, 0x7fb100000001, 0x2, ...)\nmain._func_002+0x31\n/home/brendel/work/3rd-party-source/golang/test/bench/k-nucleotide-parallel.go:134\n        main._func_002(0x7fb1d8881000, 0x100001388, 0x2, 0x0, 0x7fb1d886f076, ...)\ngoexit /home/brendel/work/3rd-party-source/golang/src/pkg/runtime/proc.c:145\n        goexit()\n\ngoroutine 8 [1]:\nmain._func_003\n/home/brendel/work/3rd-party-source/golang/test/bench/k-nucleotide-parallel.go:144\n        main._func_003(0x7fb1d8876c00, 0x475698, 0x7fb100000012, 0x0, 0x0, ...)\ngoexit /home/brendel/work/3rd-party-source/golang/src/pkg/runtime/proc.c:145\n        goexit()\n\ngoroutine 7 [2]:\nmain._func_003\n/home/brendel/work/3rd-party-source/golang/test/bench/k-nucleotide-parallel.go:144\n        main._func_003(0x7fb1d8876c60, 0x46b400, 0x7fb10000000c, 0x0, 0x0, ...)\ngoexit /home/brendel/work/3rd-party-source/golang/src/pkg/runtime/proc.c:145\n        goexit()\n\ngoroutine 6 [2]:\nmain._func_003\n/home/brendel/work/3rd-party-source/golang/test/bench/k-nucleotide-parallel.go:144\n        main._func_003(0x7fb1d8876a20, 0x439298, 0x7fb100000006, 0x0, 0x0, ...)\ngoexit /home/brendel/work/3rd-party-source/golang/src/pkg/runtime/proc.c:145\n        goexit()\n\ngoroutine 5 [2]:\ngosched+0x77 /home/brendel/work/3rd-party-source/golang/src/pkg/runtime/proc.c:542\n        gosched()\n\ngoroutine 4 [2]:\ngosched+0x77 /home/brendel/work/3rd-party-source/golang/src/pkg/runtime/proc.c:542\n        gosched()\n\ngoroutine 2 [2]:\ngosched+0x77 /home/brendel/work/3rd-party-source/golang/src/pkg/runtime/proc.c:542\n        gosched()\n\ngoroutine 1 [4]:\ngosched+0x77 /home/brendel/work/3rd-party-source/golang/src/pkg/runtime/proc.c:542\n        gosched()\nchanrecv+0x41e /home/brendel/work/3rd-party-source/golang/src/pkg/runtime/chan.c:336\n        chanrecv(0x7fb1d8876b90, 0x7fb1d8865420, 0x18, 0x100000000, 0x40a3d5, ...)\nruntime.chanrecv1+0x41\n/home/brendel/work/3rd-party-source/golang/src/pkg/runtime/chan.c:438\n        runtime.chanrecv1(0x7fb1d8876b40, 0x7fb1d8855eb8)\nmain.main+0x8f5\n/home/brendel/work/3rd-party-source/golang/test/bench/k-nucleotide-parallel.go:147\n        main.main()\nmainstart+0xf /home/brendel/work/3rd-party-source/golang/src/pkg/runtime/amd64/asm.s:78\n        mainstart()\ngoexit /home/brendel/work/3rd-party-source/golang/src/pkg/runtime/proc.c:145\n        goexit()\n\n\n--------\na new ./all.bash -\u0026gt; a different error\n--------\n--- cd ../test/bench\nfasta\nreverse-complement\nnbody\nbinary-tree\nbinary-tree-freelist\nfannkuch\nfannkuch-parallel\nregex-dna\nregex-dna-parallel\nspectral-norm\nk-nucleotide\nk-nucleotide-parallel\nmandelbrot\nmeteor-contest\npidigits\nthreadring\nchameneosredux\n\n--- cd ../test\nfail: ken/chan.go\n57a58,63\n\u0026gt; =========== ken/chan.go\n\u0026gt; unexpecunlock of unlocked0x180\n\u0026gt; \n\u0026gt; pathrow: fault\n\u0026gt; double panic\n\u0026gt; \n1 known bugs; 0 unexpected bugs; test output differs\nFAILED\u003c/pre\u003e",
	"user": {
		"login": "gopherbot",
		"id": 8566911,
		"type": "User",
		"site_admin": false
	},
	"labels": [
		{
			"name": "FrozenDueToAge"
		}
	],
	"assignee": {
		"login": "rsc",
		"id": 104030,
		"type": "User",
		"site_admin": false
	},
	"comments": 8,
	"closed_at": "2014-12-08T10:06:48Z",
	"created_at": "2010-08-25T09:01:00Z",
	"updated_at": "2016-06-24T19:19:25Z"
}
