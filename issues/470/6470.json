{
	"id": 51285234,
	"number": 6470,
	"state": "closed",
	"title": "runtime/cgo unexpected fault address ",
	"body": "by **giacomo.tartari**:\n\n\u003cpre\u003eFor background \u003ca href=\"https://groups.google.com/forum/#\"\u003ehttps://groups.google.com/forum/#\u003c/a\u003e!topic/golang-nuts/Asanek0hGmA\n\nWhat is the expected output?\n\n\nWhat do you see instead?\n\n\nunexpected fault address 0xabefc776\nfatal error: fault\n[signal 0xb code=0x1 addr=0xabefc776 pc=0x4027386]\n\ngoroutine 8 [running]:\nruntime.throw(0x45dd208)\n\t/Users/giacomo/go/src/pkg/runtime/panic.c:464 +0x69 fp=0x4767b78\nruntime.sigpanic()\n\t/Users/giacomo/go/src/pkg/runtime/os_darwin.c:453 +0xe9 fp=0x4767b90\nruntime.mallocgc(0x8, 0x421c6e0, 0x0)\n\t/Users/giacomo/go/src/pkg/runtime/malloc.goc:73 +0x116 fp=0x4767c00\nruntime.new(0x421c6e0, 0x0)\n\t/Users/giacomo/go/src/pkg/runtime/malloc.goc:707 +0x32 fp=0x4767c20\ngofreenect/sync.GetDepth(0x0, 0x4767da8, 0xc200000004, 0x0, 0x139e8dd7, ...)\n\t/Users/giacomo/gocode/src/gofreenect/sync/sync.go:134 +0x2b fp=0x4767c78\nmain.scanKinectData(0xc210057400, 0xc21004f3c0, 0x0, 0xc210037ba0)\n\t/Users/giacomo/gocode/src/gis/sensor/sensor.go:204 +0x193 fp=0x4767f80\nruntime.goexit()\n\t/Users/giacomo/go/src/pkg/runtime/proc.c:1396 fp=0x4767f88\ncreated by main.main\n\t/Users/giacomo/gocode/src/gis/sensor/sensor.go:120 +0x552\n\ngoroutine 1 [IO wait]:\nnet.runtime_pollWait(0x4720628, 0x72, 0x0)\n\t/Users/giacomo/go/src/pkg/runtime/netpoll.goc:116 +0x6a\nnet.(*pollDesc).Wait(0xc210049530, 0x72, 0x471e240, 0x23)\n\t/Users/giacomo/go/src/pkg/net/fd_poll_runtime.go:81 +0x34\nnet.(*pollDesc).WaitRead(0xc210049530, 0x23, 0x471e240)\n\t/Users/giacomo/go/src/pkg/net/fd_poll_runtime.go:86 +0x30\nnet.(*netFD).ReadFrom(0xc2100494d0, 0xc21007f000, 0x400, 0x400, 0x0, ...)\n\t/Users/giacomo/go/src/pkg/net/fd_unix.go:231 +0x320\nnet.(*UDPConn).ReadFromUDP(0xc2100004b0, 0xc21007f000, 0x400, 0x400, 0x400, ...)\n\t/Users/giacomo/go/src/pkg/net/udpsock_posix.go:67 +0x122\nmain.main()\n\t/Users/giacomo/gocode/src/gis/sensor/sensor.go:139 +0x84b\n\ngoroutine 3 [syscall]:\nos/signal.loop()\n\t/Users/giacomo/go/src/pkg/os/signal/signal_unix.go:21 +0x1e\ncreated by os/signal.init·1\n\t/Users/giacomo/go/src/pkg/os/signal/signal_unix.go:27 +0x31\n\ngoroutine 4 [syscall]:\nruntime.goexit()\n\t/Users/giacomo/go/src/pkg/runtime/proc.c:1396\n\ngoroutine 5 [chan receive]:\nmain.func·001()\n\t/Users/giacomo/gocode/src/gis/sensor/sensor.go:98 +0xdb\ncreated by main.main\n\t/Users/giacomo/gocode/src/gis/sensor/sensor.go:102 +0x120\n\ngoroutine 6 [select]:\nmain.NetSend(0x42f7630, 0xf, 0xc210074000, 0xc21004f3c0)\n\t/Users/giacomo/gocode/src/gis/sensor/sensor.go:339 +0x539\ncreated by main.main\n\t/Users/giacomo/gocode/src/gis/sensor/sensor.go:105 +0x17b\n\ngoroutine 7 [chan receive]:\nmain.VolFilterGest(0xc210057400, 0xc210074000)\n\t/Users/giacomo/gocode/src/gis/sensor/sensor.go:301 +0x17f\ncreated by main.main\n\t/Users/giacomo/gocode/src/gis/sensor/sensor.go:115 +0x3ec\n\ngoroutine 9 [chan receive]:\nmain.LeftPlaneGest(0xc210070160, 0xc210074000)\n\t/Users/giacomo/gocode/src/gis/sensor/gestures.go:256 +0x124\ncreated by main.VolFilterGest\n\t/Users/giacomo/gocode/src/gis/sensor/sensor.go:296 +0xd8\n\ngoroutine 10 [chan receive]:\nmain.RightPlaneGest(0xc210070210, 0xc210074000)\n\t/Users/giacomo/gocode/src/gis/sensor/gestures.go:377 +0x1ef\ncreated by main.VolFilterGest\n\t/Users/giacomo/gocode/src/gis/sensor/sensor.go:297 +0xf9\n\ngoroutine 11 [chan receive]:\nmain.NearPlaneGest(0xc2100702c0, 0xc210074000)\n\t/Users/giacomo/gocode/src/gis/sensor/gestures.go:138 +0x1ef\ncreated by main.VolFilterGest\n\t/Users/giacomo/gocode/src/gis/sensor/sensor.go:298 +0x11a\n\ngoroutine 12 [chan receive]:\nmain.UpPlaneGest(0xc2100700b0, 0xc210074000)\n\t/Users/giacomo/gocode/src/gis/sensor/gestures.go:54 +0x111\ncreated by main.VolFilterGest\n\t/Users/giacomo/gocode/src/gis/sensor/sensor.go:299 +0x13b\n\ngoroutine 13 [chan receive]:\nmain.SpreadBoxGest(0xc210070370, 0xc210074000)\n\t/Users/giacomo/gocode/src/gis/sensor/gestures.go:494 +0x12d\ncreated by main.VolFilterGest\n\t/Users/giacomo/gocode/src/gis/sensor/sensor.go:300 +0x15c\n\n\nWhich compiler are you using (5g, 6g, 8g, gccgo)?\n\n6g\n\nWhich operating system are you using?\n\nDarwin Kernel Version 11.4.2: Thu Aug 23 16:25:48 PDT 2012;\nroot:xnu-1699.32.7~1/RELEASE_X86_64 x86_64\n\nWhich version are you using?  (run 'go version')\n\ngo version devel +1607e9e9e6de Tue Sep 24 00:17:08 2013 -0400 darwin/amd64\n\nPlease provide any additional information below.\n\ngdb says:\nProgram received signal SIGSEGV, Segmentation fault.\n0x0000000004027386 in runtime.mallocgc ()\n(gdb) bt\n#0  0x0000000004027386 in runtime.mallocgc ()\n#1  0x000000c21000f78c in ?? ()\n#2  0x0000000004018ec4 in runtime.markallocated ()\n#3  0x0000000004020c29 in exitsyscallfast ()\n#4  0x000000c21000f78c in ?? ()\n#5  0x0000000004013647 in runtime.unlock ()\n#6  0x000000c210050410 in ?? ()\n#7  0x00000000bfd22a06 in ?? ()\n#8  0x0000000000000000 in ?? ()\n\n\n\nGNU gdb (GDB) 7.6\nCopyright (C) 2013 Free Software Foundation, Inc.\nLicense GPLv3+: GNU GPL version 3 or later \u0026lt;\u003ca href=\"http://gnu.org/licenses/gpl.html\u0026gt\"\u003ehttp://gnu.org/licenses/gpl.html\u0026gt\u003c/a\u003e;\nThis is free software: you are free to change and redistribute it.\nThere is NO WARRANTY, to the extent permitted by law.  Type \u0026quot;show copying\u0026quot;\nand \u0026quot;show warranty\u0026quot; for details.\nThis GDB was configured as \u0026quot;x86_64-apple-darwin11.4.2\u0026quot;.\u003c/pre\u003e",
	"user": {
		"login": "gopherbot",
		"id": 8566911,
		"type": "User",
		"site_admin": false
	},
	"labels": [
		{
			"name": "FrozenDueToAge"
		}
	],
	"comments": 4,
	"closed_at": "2014-12-08T10:35:41Z",
	"created_at": "2013-09-24T11:55:36Z",
	"updated_at": "2016-06-25T01:19:35Z",
	"milestone": {
		"id": 1067207,
		"number": 14,
		"title": "Go1.2"
	}
}
