{
	"id": 53895234,
	"number": 9549,
	"state": "closed",
	"title": "runtime: fatal error: unexpected signal during runtime execution",
	"body": "[This app](https://github.com/opennota/watchreddit/tree/v1), after running for some time on my machine under linux kernel 3.17.7, crashes with `fatal error: unexpected signal during runtime execution`. I didn't observe any crashes under kernels 3.12.x. The app is built using Go 1.4.\r\n\r\n```\r\n$ uname -a                           \r\nLinux localhost 3.17.7-gentoo #2 SMP PREEMPT Fri Jan 2 09:09:26 KRAT 2015 x86_64 Intel(R) Core(TM) i5-2400 CPU @ 3.10GHz GenuineIntel GNU/Linux\r\n```\r\n\r\nHere's the stack trace with GOTRACEBACK=2:\r\n\r\n    fatal error: unexpected signal during runtime execution\r\n    [signal 0xb code=0x80 addr=0x0 pc=0x40fea7]\r\n    \r\n    runtime stack:\r\n    runtime.gothrow(0x7f1d90, 0x2a)\r\n    \t/usr/lib/go/src/runtime/panic.go:503 +0x8e fp=0x7f05ba913b10 sp=0x7f05ba913af8\r\n    runtime.sigpanic()\r\n    \t/usr/lib/go/src/runtime/sigpanic_unix.go:14 +0x5e fp=0x7f05ba913b60 sp=0x7f05ba913b10\r\n    \r\n    goroutine 1 [syscall, locked to thread]:\r\n    runtime.cgocall_errno(0x40735f, 0xc2080b3c18, 0x0)\r\n    \t/usr/lib/go/src/runtime/cgocall.go:130 +0xf5 fp=0xc2080b3bf8 sp=0xc2080b3bd0\r\n    github.com/mxk/go-sqlite/sqlite3._Cfunc_sqlite3_prepare_v2(0xb5a1a8, 0xc2080bf260, 0xffffffff, 0xc2080b3c50, 0xc2080b3c48, 0x0)\r\n    \t/home/xxx/gocode/src/github.com/mxk/go-sqlite/sqlite3/:539 +0x43 fp=0xc2080b3c18 sp=0xc2080b3bf8\r\n    github.com/mxk/go-sqlite/sqlite3.newStmt(0xc20803cc00, 0xc2080bf230, 0x2f, 0xc2080b3d38, 0x0, 0x0)\r\n    \t/home/xxx/gocode/src/github.com/mxk/go-sqlite/sqlite3/sqlite3.go:586 +0xe4 fp=0xc2080b3cd0 sp=0xc2080b3c18\r\n    github.com/mxk/go-sqlite/sqlite3.(*Conn).Query(0xc20803cc00, 0xc2080bf230, 0x2f, 0xc2080b3da8, 0x1, 0x1, 0x2f, 0x0, 0x0)\r\n    \t/home/xxx/gocode/src/github.com/mxk/go-sqlite/sqlite3/sqlite3.go:279 +0xc3 fp=0xc2080b3d20 sp=0xc2080b3cd0\r\n    main.IsPostExists(0xc20803cc00, 0xc208036400, 0xc208034101)\r\n    \t/home/xxx/gocode/src/github.com/opennota/watchreddit/main.go:192 +0x210 fp=0xc2080b3dd8 sp=0xc2080b3d20\r\n    main.main()\r\n    \t/home/xxx/gocode/src/github.com/opennota/watchreddit/main.go:323 +0xc6a fp=0xc2080b3f98 sp=0xc2080b3dd8\r\n    runtime.main()\r\n    \t/usr/lib/go/src/runtime/proc.go:63 +0xf3 fp=0xc2080b3fe0 sp=0xc2080b3f98\r\n    runtime.goexit()\r\n    \t/usr/lib/go/src/runtime/asm_amd64.s:2232 +0x1 fp=0xc2080b3fe8 sp=0xc2080b3fe0\r\n    \r\n    goroutine 2 [force gc (idle), 635 minutes]:\r\n    runtime.gopark(0x4a5700, 0xb2f6c0, 0x7a4210, 0xf)\r\n    \t/usr/lib/go/src/runtime/proc.go:130 +0x105 fp=0xc20801a798 sp=0xc20801a768\r\n    runtime.goparkunlock(0xb2f6c0, 0x7a4210, 0xf)\r\n    \t/usr/lib/go/src/runtime/proc.go:136 +0x48 fp=0xc20801a7c0 sp=0xc20801a798\r\n    runtime.forcegchelper()\r\n    \t/usr/lib/go/src/runtime/proc.go:99 +0xce fp=0xc20801a7e0 sp=0xc20801a7c0\r\n    runtime.goexit()\r\n    \t/usr/lib/go/src/runtime/asm_amd64.s:2232 +0x1 fp=0xc20801a7e8 sp=0xc20801a7e0\r\n    created by runtime.init·4\r\n    \t/usr/lib/go/src/runtime/proc.go:87 +0x25\r\n    \r\n    goroutine 3 [GC sweep wait]:\r\n    runtime.gopark(0x4a5700, 0xb382a8, 0x79b590, 0xd)\r\n    \t/usr/lib/go/src/runtime/proc.go:130 +0x105 fp=0xc20801df98 sp=0xc20801df68\r\n    runtime.goparkunlock(0xb382a8, 0x79b590, 0xd)\r\n    \t/usr/lib/go/src/runtime/proc.go:136 +0x48 fp=0xc20801dfc0 sp=0xc20801df98\r\n    runtime.bgsweep()\r\n    \t/usr/lib/go/src/runtime/mgc0.go:98 +0xbc fp=0xc20801dfe0 sp=0xc20801dfc0\r\n    runtime.goexit()\r\n    \t/usr/lib/go/src/runtime/asm_amd64.s:2232 +0x1 fp=0xc20801dfe8 sp=0xc20801dfe0\r\n    created by gc\r\n    \t/usr/lib/go/src/runtime/mgc0.c:1383\r\n    \r\n    goroutine 4 [finalizer wait]:\r\n    runtime.gopark(0x4a5700, 0xb382a0, 0x7a3af0, 0xe)\r\n    \t/usr/lib/go/src/runtime/proc.go:130 +0x105 fp=0xc208019730 sp=0xc208019700\r\n    runtime.goparkunlock(0xb382a0, 0x7a3af0, 0xe)\r\n    \t/usr/lib/go/src/runtime/proc.go:136 +0x48 fp=0xc208019758 sp=0xc208019730\r\n    runtime.runfinq()\r\n    \t/usr/lib/go/src/runtime/malloc.go:727 +0xba fp=0xc2080197e0 sp=0xc208019758\r\n    runtime.goexit()\r\n    \t/usr/lib/go/src/runtime/asm_amd64.s:2232 +0x1 fp=0xc2080197e8 sp=0xc2080197e0\r\n    created by runtime.createfing\r\n    \t/usr/lib/go/src/runtime/malloc.go:707 +0x5e\r\n    \r\n    goroutine 17 [syscall, 635 minutes, locked to thread]:\r\n    runtime.goexit()\r\n    \t/usr/lib/go/src/runtime/asm_amd64.s:2232 +0x1 fp=0xc208056fe8 sp=0xc208056fe0\r\n    \r\n    goroutine 5 [syscall, 635 minutes]:\r\n    runtime.notetsleepg(0xb38e00, 0xffffffffffffffff, 0x1)\r\n    \t/usr/lib/go/src/runtime/lock_futex.go:201 +0x52 fp=0xc208018768 sp=0xc208018740\r\n    runtime.signal_recv(0x0)\r\n    \t/usr/lib/go/src/runtime/sigqueue.go:109 +0x135 fp=0xc2080187a0 sp=0xc208018768\r\n    os/signal.loop()\r\n    \t/usr/lib/go/src/os/signal/signal_unix.go:21 +0x1f fp=0xc2080187e0 sp=0xc2080187a0\r\n    runtime.goexit()\r\n    \t/usr/lib/go/src/runtime/asm_amd64.s:2232 +0x1 fp=0xc2080187e8 sp=0xc2080187e0\r\n    created by os/signal.init·1\r\n    \t/usr/lib/go/src/os/signal/signal_unix.go:27 +0x35\r\n    \r\n    goroutine 6 [chan receive, 635 minutes]:\r\n    runtime.gopark(0x4a5700, 0xc208062118, 0x7a1e70, 0xc)\r\n    \t/usr/lib/go/src/runtime/proc.go:130 +0x105 fp=0xc20801d6c0 sp=0xc20801d690\r\n    runtime.goparkunlock(0xc208062118, 0x7a1e70, 0xc)\r\n    \t/usr/lib/go/src/runtime/proc.go:136 +0x48 fp=0xc20801d6e8 sp=0xc20801d6c0\r\n    runtime.chanrecv(0x6a8d20, 0xc2080620c0, 0x0, 0x1, 0x0)\r\n    \t/usr/lib/go/src/runtime/chan.go:410 +0x452 fp=0xc20801d788 sp=0xc20801d6e8\r\n    runtime.chanrecv1(0x6a8d20, 0xc2080620c0, 0x0)\r\n    \t/usr/lib/go/src/runtime/chan.go:311 +0x2b fp=0xc20801d7b8 sp=0xc20801d788\r\n    main.func·001()\r\n    \t/home/xxx/gocode/src/github.com/opennota/watchreddit/main.go:306 +0x48 fp=0xc20801d7e0 sp=0xc20801d7b8\r\n    runtime.goexit()\r\n    \t/usr/lib/go/src/runtime/asm_amd64.s:2232 +0x1 fp=0xc20801d7e8 sp=0xc20801d7e0\r\n    created by main.main\r\n    \t/home/xxx/gocode/src/github.com/opennota/watchreddit/main.go:309 +0xa9f\r\n    \r\n    goroutine 8 [timer goroutine (idle)]:\r\n    runtime.gopark(0x4a5700, 0xb2f8c0, 0x7c69d0, 0x16)\r\n    \t/usr/lib/go/src/runtime/proc.go:130 +0x105 fp=0xc208018f40 sp=0xc208018f10\r\n    runtime.goparkunlock(0xb2f8c0, 0x7c69d0, 0x16)\r\n    \t/usr/lib/go/src/runtime/proc.go:136 +0x48 fp=0xc208018f68 sp=0xc208018f40\r\n    runtime.timerproc()\r\n    \t/usr/lib/go/src/runtime/time.go:200 +0x130 fp=0xc208018fe0 sp=0xc208018f68\r\n    runtime.goexit()\r\n    \t/usr/lib/go/src/runtime/asm_amd64.s:2232 +0x1 fp=0xc208018fe8 sp=0xc208018fe0\r\n    created by runtime.addtimerLocked\r\n    \t/usr/lib/go/src/runtime/time.go:113 +0x1ba\r\n    \r\n    goroutine 67 [IO wait]:\r\n    runtime.gopark(0x483660, 0x7f05bc0a4160, 0x78a570, 0x7)\r\n    \t/usr/lib/go/src/runtime/proc.go:130 +0x105 fp=0xc208055ae8 sp=0xc208055ab8\r\n    runtime.netpollblock(0x7f05bc0a4138, 0x72, 0xc2080df000)\r\n    \t/usr/lib/go/src/runtime/netpoll.go:347 +0x170 fp=0xc208055b28 sp=0xc208055ae8\r\n    runtime.netpollWait(0x7f05bc0a4138, 0x72, 0x8)\r\n    \t/usr/lib/go/src/runtime/netpoll.go:150 +0x68 fp=0xc208055b48 sp=0xc208055b28\r\n    net.(*pollDesc).Wait(0xc208010680, 0x72, 0x0, 0x0)\r\n    \t/usr/lib/go/src/net/fd_poll_runtime.go:84 +0x47 fp=0xc208055b68 sp=0xc208055b48\r\n    net.(*pollDesc).WaitRead(0xc208010680, 0x0, 0x0)\r\n    \t/usr/lib/go/src/net/fd_poll_runtime.go:89 +0x43 fp=0xc208055b90 sp=0xc208055b68\r\n    net.(*netFD).Read(0xc208010620, 0xc2080ae000, 0x1000, 0x1000, 0x0, 0x7f05bc0a2bd8, 0xc2080defc8)\r\n    \t/usr/lib/go/src/net/fd_unix.go:242 +0x40f fp=0xc208055c30 sp=0xc208055b90\r\n    net.(*conn).Read(0xc20803a088, 0xc2080ae000, 0x1000, 0x1000, 0x0, 0x0, 0x0)\r\n    \t/usr/lib/go/src/net/net.go:121 +0xdc fp=0xc208055c78 sp=0xc208055c30\r\n    net/http.noteEOFReader.Read(0x7f05bc0a41f8, 0xc20803a088, 0xc2080bdb28, 0xc2080ae000, 0x1000, 0x1000, 0x6f7a00, 0x0, 0x0)\r\n    \t/usr/lib/go/src/net/http/transport.go:1270 +0x6e fp=0xc208055cc8 sp=0xc208055c78\r\n    net/http.(*noteEOFReader).Read(0xc2081089c0, 0xc2080ae000, 0x1000, 0x1000, 0xc208012000, 0x0, 0x0)\r\n    \t\u003cautogenerated\u003e:125 +0xd4 fp=0xc208055d18 sp=0xc208055cc8\r\n    bufio.(*Reader).fill(0xc208062a20)\r\n    \t/usr/lib/go/src/bufio/bufio.go:97 +0x1ce fp=0xc208055dc0 sp=0xc208055d18\r\n    bufio.(*Reader).Peek(0xc208062a20, 0x1, 0x0, 0x0, 0x0, 0x0, 0x0)\r\n    \t/usr/lib/go/src/bufio/bufio.go:132 +0xf0 fp=0xc208055dd0 sp=0xc208055dc0\r\n    net/http.(*persistConn).readLoop(0xc2080bdad0)\r\n    \t/usr/lib/go/src/net/http/transport.go:842 +0xa4 fp=0xc208055fd8 sp=0xc208055dd0\r\n    runtime.goexit()\r\n    \t/usr/lib/go/src/runtime/asm_amd64.s:2232 +0x1 fp=0xc208055fe0 sp=0xc208055fd8\r\n    created by net/http.(*Transport).dialConn\r\n    \t/usr/lib/go/src/net/http/transport.go:660 +0xc9f\r\n    \r\n    goroutine 68 [select]:\r\n    runtime.gopark(0x4881e0, 0xc208019f40, 0x7949d0, 0x6)\r\n    \t/usr/lib/go/src/runtime/proc.go:130 +0x105 fp=0xc208019cb8 sp=0xc208019c88\r\n    runtime.selectgoImpl(0xc208019f40, 0x0, 0x18)\r\n    \t/usr/lib/go/src/runtime/select.go:366 +0xb2c fp=0xc208019e50 sp=0xc208019cb8\r\n    runtime.selectgo(0xc208019f40)\r\n    \t/usr/lib/go/src/runtime/select.go:183 +0x12 fp=0xc208019e70 sp=0xc208019e50\r\n    net/http.(*persistConn).writeLoop(0xc2080bdad0)\r\n    \t/usr/lib/go/src/net/http/transport.go:945 +0x41d fp=0xc208019fd8 sp=0xc208019e70\r\n    runtime.goexit()\r\n    \t/usr/lib/go/src/runtime/asm_amd64.s:2232 +0x1 fp=0xc208019fe0 sp=0xc208019fd8\r\n    created by net/http.(*Transport).dialConn\r\n    \t/usr/lib/go/src/net/http/transport.go:661 +0xcbc\r\n    exit status 2\r\n",
	"user": {
		"login": "opennota",
		"id": 5520115,
		"type": "User",
		"site_admin": false
	},
	"labels": [
		{
			"name": "FrozenDueToAge"
		}
	],
	"comments": 4,
	"closed_at": "2015-01-10T17:48:00Z",
	"created_at": "2015-01-09T17:53:29Z",
	"updated_at": "2016-06-25T01:58:10Z"
}
