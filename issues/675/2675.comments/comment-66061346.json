{
	"id": 66061346,
	"body": "\u003ca id=\"c16\"\u003e\u003c/a\u003eComment 16:\n\n\u003cpre\u003eIn addition to the attached core files, I'm seeing panics with \"throw: entersyscall\" and\n\"runtime: split stack overflow\". This is basically doing GOARCH=386 ./all.bash. Attached\nis a core file. It's actually pretty painful for me to get these due to all the cleanup\nthat the go tool does, so if you need more information, let me know.\n\nI'm not able to deduce what's going on based on the binary/core file, and for some\nreason gdb 7.3.1 stopped working for me with Go programs. (In this case, I get\n\"/usr/home/dho/go/src/./pkg/time/time.test.core\" is not a core dump: File format is\nambiguous, but when running live programs I'll frequently get other things).\n\nI'll keep this core / file around in case there's anything extra you'd like me to do. If\nyou have any pointers as to what might be going on, that'd be great -- I can probably\nfix this, just not sure where to start.\n\nSome relevant info:\n\n[dho@meep ~/go/src]$ gdb73.1 time.test \nGNU gdb (GDB) 7.3.1 [GDB v7.3.1 for FreeBSD]\nCopyright (C) 2011 Free Software Foundation, Inc.\nLicense GPLv3+: GNU GPL version 3 or later \u0026lt;\u003ca href=\"http://gnu.org/licenses/gpl.html\u0026gt\"\u003ehttp://gnu.org/licenses/gpl.html\u0026gt\u003c/a\u003e;\nThis is free software: you are free to change and redistribute it.\nThere is NO WARRANTY, to the extent permitted by law.  Type \"show copying\"\nand \"show warranty\" for details.\nThis GDB was configured as \"x86_64-portbld-freebsd8.1\".\nFor bug reporting instructions, please see:\n\u0026lt;\u003ca href=\"http://www.gnu.org/software/gdb/bugs/\u0026gt\"\u003ehttp://www.gnu.org/software/gdb/bugs/\u0026gt\u003c/a\u003e;...\nReading symbols from /usr/home/dho/go/src/time.test...done.\n(gdb) r\nStarting program: /usr/home/dho/go/src/time.test \n\nProgram received signal SIGSEGV, Segmentation fault.\nruntime.exitsyscall () at /usr/home/dho/go/src/pkg/runtime/proc.c:966\n966\truntimeÂ·exitsyscall(void)\n(gdb) bt\n#0  runtime.exitsyscall () at /usr/home/dho/go/src/pkg/runtime/proc.c:966\n#1  0x0805db42 in timerproc () at /home/dho/go/src/pkg/runtime/time.goc:3488\n#2  0x08055292 in schedunlock () at /usr/home/dho/go/src/pkg/runtime/proc.c:259\n#3  0x00000000 in ?? ()\n(gdb) r\nThe program being debugged has been started already.\nStart it from the beginning? (y or n) y\nStarting program: /usr/home/dho/go/src/time.test \nthrow: entersyscall\n\ngoroutine 1 [syscall]:\n\ngoroutine 2 [chan receive]:\ntesting.RunTests(0x8048c00, 0x81f6f00, 0x2c, 0x2c, 0x81e8101, ...)\n\t/usr/home/dho/go/src/pkg/testing/testing.go:347 +0x6a7\ntesting.Main(0x8048c00, 0x81f6f00, 0x2c, 0x2c, 0x81f5cd8, ...)\n\t/usr/home/dho/go/src/pkg/testing/testing.go:282 +0x46\nmain.main()\n\t/tmp/go-build848228700/time/_test/_testmain.go:153 +0x4e\ncreated by _rt0_386\n\t/usr/home/dho/go/src/pkg/runtime/asm_386.s:80 +0xbe\n\ngoroutine 3 [sleep]:\ntime.Sleep(0x5f5e100, 0x0)\n\t/usr/home/dho/go/src/pkg/runtime/ztime_386.c:21 +0x4a\ntime_test.TestSleep(0x3820fb80, 0xe)\n\t/usr/home/dho/go/src/pkg/time/sleep_test.go:24 +0x69\ntesting.tRunner(0x3820fb80, 0x81f6f00, 0x0)\n\t/usr/home/dho/go/src/pkg/testing/testing.go:271 +0x6e\ncreated by testing.RunTests\n\t/usr/home/dho/go/src/pkg/testing/testing.go:346 +0x687\n\ngoroutine 4 [runnable]:\ntime.Sleep(0x2faf080, 0x0)\n\t/usr/home/dho/go/src/pkg/runtime/ztime_386.c:21 +0x4a\ntime_test._func_001()\n\t/usr/home/dho/go/src/pkg/time/sleep_test.go:20 +0x2b\ncreated by time_test.TestSleep\n\t/usr/home/dho/go/src/pkg/time/sleep_test.go:22 +0x2d\n\ngoroutine 5 [syscall]:\ncreated by addtimer\n\t/usr/home/dho/go/src/pkg/runtime/ztime_386.c:69\n[Inferior 1 (process 54458) exited with code 02]\n(gdb) r\nStarting program: /usr/home/dho/go/src/time.test \nthrow: gosched of g0\n\ngoroutine 1 [syscall]:\n\ngoroutine 2 [chan receive]:\ntesting.RunTests(0x8048c00, 0x81f6f00, 0x2c, 0x2c, 0x81e8101, ...)\n\t/usr/home/dho/go/src/pkg/testing/testing.go:347 +0x6a7\ntesting.Main(0x8048c00, 0x81f6f00, 0x2c, 0x2c, 0x81f5cd8, ...)\n\t/usr/home/dho/go/src/pkg/testing/testing.go:282 +0x46\nmain.main()\n\t/tmp/go-build848228700/time/_test/_testmain.go:153 +0x4e\ncreated by _rt0_386\n\t/usr/home/dho/go/src/pkg/runtime/asm_386.s:80 +0xbe\n\ngoroutine 3 [runnable]:\ntime.Sleep(0x5f5e100, 0x0)\n\t/usr/home/dho/go/src/pkg/runtime/ztime_386.c:21 +0x4a\ntime_test.TestSleep(0x3820fb80, 0xe)\n\t/usr/home/dho/go/src/pkg/time/sleep_test.go:24 +0x69\ntesting.tRunner(0x3820fb80, 0x81f6f00, 0x0)\n\t/usr/home/dho/go/src/pkg/testing/testing.go:271 +0x6e\ncreated by testing.RunTests\n\t/usr/home/dho/go/src/pkg/testing/testing.go:346 +0x687\n\ngoroutine 5 [syscall]:\ncreated by addtimer\n\t/usr/home/dho/go/src/pkg/runtime/ztime_386.c:69\n[Inferior 1 (process 54460) exited with code 02]\u003c/pre\u003e\n\n\n\n\n\nAttachments:\n\n1. \u003ca href=\"https://storage.googleapis.com/go-attachment/2675/16/go_test_core.tar.bz2\"\u003ego_test_core.tar.bz2\u003c/a\u003e (847188 bytes)",
	"user": {
		"login": "dhobsd",
		"id": 168647,
		"type": "User",
		"site_admin": false
	},
	"created_at": "2012-02-23T00:40:43Z",
	"updated_at": "2014-12-22T06:05:37Z"
}
