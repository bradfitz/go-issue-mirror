{
	"id": 251534723,
	"body": "I built the image and deployed it to the staging cluster. I verified the buildlet binary was at the right spot and the metadata key pointed to it.\r\n\r\nBut it didn't work. It timed out after the buildlet didn't come up in 3 minutes.\r\n\r\nSerial console says:\r\n\r\n```\r\nSeaBIOS (version 1.8.2-20160920_150358-google)\r\nTotal RAM Size = 0x00000000e6600000 = 3686 MiB\r\nCPU Mhz=6135\r\nCPUs found: 4     Max CPUs supported: 4\r\nfound virtio-scsi at 0:3\r\nvirtio-scsi vendor='Google' product='PersistentDisk' rev='1' type=0 removable=0\r\nvirtio-scsi blksize=512 sectors=8388608 = 4096 MiB\r\ndrive 0x000f46c0: PCHS=0/0/0 translation=lba LCHS=522/255/63 s=8388608\r\nBooting from Hard Disk 0...\r\n\r\n\u003e\u003e NetBSD/x86 BIOS Boot, Revision 5.10 (from NetBSD 7.0.1)\r\n\u003e\u003e Memory: 639/3144640 k\r\n\r\n     1. Boot normally\r\n     2. Boot single user\r\n     3. Disable ACPI\r\n     4. Disable ACPI and SMP\r\n     5. Drop to boot prompt\r\n\r\nChoose an option; RETURN for default; SPACE to stop countdown.\r\nOption 1 will be chosen in 5 seconds. \u0008\u0008\u0008\u0008\u0008\u0008\u0008\u0008\u0008\u0008\u00084 seconds. \u0008\u0008\u0008\u0008\u0008\u0008\u0008\u0008\u0008\u0008\u00083 seconds. \u0008\u0008\u0008\u0008\u0008\u0008\u0008\u0008\u0008\u0008\u00082 seconds. \u0008\u0008\u0008\u0008\u0008\u0008\u0008\u0008\u0008\u0008\u00081 seconds. \u0008\u0008\u0008\u0008\u0008\u0008\u0008\u0008\u0008\u0008\u00080 seconds. \u0008\u0008\u0008\u0008\u0008\u0008\u0008\u0008\u0008\u0008\u00080 seconds.     \r\n|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u000814187064|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008+654328|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008+594952|\u0008/\u0008-\u0008\\\u0008 [1025016|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008+717527/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008]=0x11630a0\r\n/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008/\u0008-\u0008\\\u0008|\u0008WARNING: couldn't open /var/db/entropy-file\r\nWARNING: 1 module failed to load\r\nCopyright (c) 1996, 1997, 1998, 1999, 2000, 2001, 2002, 2003, 2004, 2005,\r\n    2006, 2007, 2008, 2009, 2010, 2011, 2012, 2013, 2014, 2015\r\n    The NetBSD Foundation, Inc.  All rights reserved.\r\nCopyright (c) 1982, 1986, 1989, 1991, 1993\r\n    The Regents of the University of California.  All rights reserved.\r\n\r\nNetBSD 7.0.1 (GENERIC.201605221355Z)\r\ntotal memory = 3685 MB\r\navail memory = 3560 MB\r\nkern.module.path=/stand/amd64/7.0/modules\r\nmainbus0 (root)\r\nACPI: RSDP 0xf4700 000014 (v00 Google)\r\nACPI: RSDT 0xbfffde30 000034 (v01 Google GOOGRSDT 00000001 GOOG 00000001)\r\nACPI: FACP 0xbfffff00 0000F4 (v02 Google GOOGFACP 00000001 GOOG 00000001)\r\nACPI: DSDT 0xbfffde70 0015A3 (v01 Google GOOGDSDT 00000001 GOOG 00000001)\r\nACPI: FACS 0xbffffec0 000040\r\nACPI: SSDT 0xbffff550 000966 (v01 Google GOOGSSDT 00000001 GOOG 00000001)\r\nACPI: APIC 0xbffff450 000086 (v01 Google GOOGAPIC 00000001 GOOG 00000001)\r\nACPI: WAET 0xbffff420 000028 (v01 Google GOOGWAET 00000001 GOOG 00000001)\r\nACPI: All ACPI Tables successfully acquired\r\nioapic0 at mainbus0 apid 0\r\ncpu0 at mainbus0 apid 0: Intel(R) Xeon(R) CPU @ 2.50GHz, id 0x306e4\r\ncpu1 at mainbus0 apid 1: Intel(R) Xeon(R) CPU @ 2.50GHz, id 0x306e4\r\ncpu2 at mainbus0 apid 2: Intel(R) Xeon(R) CPU @ 2.50GHz, id 0x306e4\r\ncpu3 at mainbus0 apid 3: Intel(R) Xeon(R) CPU @ 2.50GHz, id 0x306e4\r\nacpi0 at mainbus0: Intel ACPICA 20131218\r\npckbc1 at acpi0 (KBD, PNP0303) (kbd port): io 0x60,0x64 irq 1\r\npckbc2 at acpi0 (MOU, PNP0F13) (aux port): irq 12\r\nCOM1 (PNP0501) at acpi0 not configured\r\nCOM2 (PNP0501) at acpi0 not configured\r\nCOM3 (PNP0501) at acpi0 not configured\r\nCOM4 (PNP0501) at acpi0 not configured\r\nPEVT (QEMU0001) at acpi0 not configured\r\nACPI: Enabled 16 GPEs in block 00 to 0F\r\nACPI Exception: AE_NOT_FOUND, While evaluating Sleep State [\\_S0_] (20131218/hwxface-646)\r\nACPI Exception: AE_NOT_FOUND, While evaluating Sleep State [\\_S1_] (20131218/hwxface-646)\r\nACPI Exception: AE_NOT_FOUND, While evaluating Sleep State [\\_S2_] (20131218/hwxface-646)\r\npckbd0 at pckbc1 (kbd slot)\r\npckbc1: using irq 1 for kbd slot\r\nwskbd0 at pckbd0 mux 1\r\npms0 at pckbc1 (aux slot)\r\npckbc1: using irq 12 for aux slot\r\nwsmouse0 at pms0 mux 0\r\npci0 at mainbus0 bus 0: configuration mode 1\r\npchb0 at pci0 dev 0 function 0: vendor 0x8086 product 0x1237 (rev. 0x02)\r\npcib0 at pci0 dev 1 function 0: vendor 0x8086 product 0x7110 (rev. 0x03)\r\npiixpm0 at pci0 dev 1 function 3: vendor 0x8086 product 0x7113 (rev. 0x03)\r\npiixpm0: SMBus disabled\r\nvirtio0 at pci0 dev 3 function 0\r\nvirtio0: Virtio Unknown (8) Device (rev. 0x00)\r\nvirtio0: no matching child driver; not configured\r\nvirtio1 at pci0 dev 4 function 0\r\nvirtio1: Virtio Network Device (rev. 0x00)\r\nvioif0 at virtio1: Ethernet address 42:01:0a:f0:00:07\r\nvirtio1: interrupting at ioapic0 pin 11\r\nisa0 at pcib0\r\ncom0 at isa0 port 0x3f8-0x3ff irq 4: ns16550a, working fifo\r\ncom0: console\r\ncom1 at isa0 port 0x2f8-0x2ff irq 3: ns16550a, working fifo\r\nattimer0 at isa0 port 0x40-0x43\r\npcppi0 at isa0 port 0x61\r\nmidi0 at pcppi0: PC speaker\r\nsysbeep0 at pcppi0\r\nattimer0: attached to pcppi0\r\nacpicpu0 at cpu0: ACPI CPU\r\nacpicpu1 at cpu1: ACPI CPU\r\nacpicpu2 at cpu2: ACPI CPU\r\nacpicpu3 at cpu3: ACPI CPU\r\nERROR: 280 cycle TSC drift observed\r\npad0: outputs: 44100Hz, 16-bit, stereo\r\naudio0 at pad0: half duplex, playback, capture\r\nboot device: \u003cunknown\u003e\r\nroot device: acpi0: power button pressed, shutting down!\r\nsyncing disks... done\r\nsysbeep0: detached\r\n```\r\n\r\nThat 5 second pause seems unnecessary.\r\n\r\nBut also, can we get the `rc.local` output attached to the serial console for debugging?\r\n\r\nI have no clue why it didn't work.\r\n\r\n@bsiegert?\r\n",
	"user": {
		"login": "bradfitz",
		"id": 2621,
		"type": "User",
		"site_admin": false
	},
	"created_at": "2016-10-04T22:41:28Z",
	"updated_at": "2016-10-04T22:41:28Z"
}
