{
	"id": 173086372,
	"body": "Hi David. Thanks for having a look.\r\n\r\nI couldn't reproduce the issue the same way this time either, but I was able to reproduce it by inserting a panic into the handling of paint.Event in the tile example program:\r\n```\r\ndiff --git a/shiny/example/tile/main.go b/shiny/example/tile/main.go\r\nindex ad30f68..58fdc4c 100644\r\n--- a/shiny/example/tile/main.go\r\n+++ b/shiny/example/tile/main.go\r\n@@ -85,6 +85,7 @@ func main() {\r\n                                }\r\n \r\n                        case paint.Event:\r\n+                               panic(\"hello\")\r\n                                generation++\r\n                                var wg sync.WaitGroup\r\n                                for y := -(origin.Y \u0026 0xff); y \u003c sz.HeightPx; y += 256 {\r\n```\r\nAnd here is the stack trace I got by sending SIGQUIT:\r\n\r\n```\r\n$ ./main \r\nSIGQUIT: quit\r\nPC=0x405c76b m=0\r\nsignal arrived during cgo execution\r\n\r\ngoroutine 1 [chan receive, locked to thread]:\r\nruntime.mach_semaphore_wait(0xc800001003, 0x422fd00, 0x40322c2, 0x40e3480, 0x7fff5fbfd690, 0x422fd00, 0x4050819, 0xffffffffffffffff, 0x419f450, 0x7fff5fbfd6a4, ...)\r\n\t/Users/jnj/src/go/src/runtime/sys_darwin_amd64.s:411 +0xb fp=0x7fff5fbfd638 sp=0x7fff5fbfd630\r\nruntime.semasleep1(0xffffffffffffffff, 0x419f450)\r\n\t/Users/jnj/src/go/src/runtime/os1_darwin.go:418 +0xdf fp=0x7fff5fbfd670 sp=0x7fff5fbfd638\r\nruntime.semasleep.func1()\r\n\t/Users/jnj/src/go/src/runtime/os1_darwin.go:434 +0x29 fp=0x7fff5fbfd690 sp=0x7fff5fbfd670\r\nruntime.systemstack(0x7fff5fbfd6a8)\r\n\t/Users/jnj/src/go/src/runtime/asm_amd64.s:307 +0xab fp=0x7fff5fbfd698 sp=0x7fff5fbfd690\r\nruntime.semasleep(0xffffffffffffffff, 0x0)\r\n\t/Users/jnj/src/go/src/runtime/os1_darwin.go:435 +0x36 fp=0x7fff5fbfd6c8 sp=0x7fff5fbfd698\r\nruntime.notesleep(0x4230148)\r\n\t/Users/jnj/src/go/src/runtime/lock_sema.go:166 +0xed fp=0x7fff5fbfd700 sp=0x7fff5fbfd6c8\r\nruntime.stoplockedm()\r\n\t/Users/jnj/src/go/src/runtime/proc.go:1674 +0xae fp=0x7fff5fbfd720 sp=0x7fff5fbfd700\r\nruntime.schedule()\r\n\t/Users/jnj/src/go/src/runtime/proc.go:2018 +0x6e fp=0x7fff5fbfd758 sp=0x7fff5fbfd720\r\nruntime.park_m(0xc820000180)\r\n\t/Users/jnj/src/go/src/runtime/proc.go:2125 +0x18b fp=0x7fff5fbfd780 sp=0x7fff5fbfd758\r\nruntime.mcall(0x405aaba)\r\n\t/Users/jnj/src/go/src/runtime/asm_amd64.s:233 +0x5b fp=0x7fff5fbfd790 sp=0x7fff5fbfd780\r\n\r\ngoroutine 17 [syscall, locked to thread]:\r\nruntime.goexit()\r\n\t/Users/jnj/src/go/src/runtime/asm_amd64.s:1998 +0x1\r\n\r\ngoroutine 5 [syscall, locked to thread]:\r\ngolang.org/x/exp/shiny/driver/gldriver._Cfunc_doCloseWindow(0x5030710)\r\n\tgolang.org/x/exp/shiny/driver/gldriver/_obj/_cgo_gotypes.go:188 +0x36\r\ngolang.org/x/exp/shiny/driver/gldriver.closeWindow(0x5030710)\r\n\t/Users/jnj/src/golang.org/x/exp/shiny/driver/gldriver/cocoa.go:84 +0x21\r\ngolang.org/x/exp/shiny/driver/gldriver.(*windowImpl).Release(0xc820078000)\r\n\t/Users/jnj/src/golang.org/x/exp/shiny/driver/gldriver/window.go:88 +0x9d\r\nmain.main.func1(0x476b318, 0x422f940)\r\n\t/Users/jnj/src/golang.org/x/exp/shiny/example/tile/main.go:88 +0x641\r\ngolang.org/x/exp/shiny/driver/gldriver.driverStarted.func1()\r\n\t/Users/jnj/src/golang.org/x/exp/shiny/driver/gldriver/cocoa.go:102 +0x47\r\ncreated by golang.org/x/exp/shiny/driver/gldriver.driverStarted\r\n\t/Users/jnj/src/golang.org/x/exp/shiny/driver/gldriver/cocoa.go:104 +0x2b\r\n\r\ngoroutine 18 [select, locked to thread]:\r\ngolang.org/x/exp/shiny/driver/gldriver.drawLoop(0xc820078000, 0x1)\r\n\t/Users/jnj/src/golang.org/x/exp/shiny/driver/gldriver/cocoa.go:147 +0x482\r\ncreated by golang.org/x/exp/shiny/driver/gldriver.preparedOpenGL\r\n\t/Users/jnj/src/golang.org/x/exp/shiny/driver/gldriver/cocoa.go:80 +0x117\r\n\r\nrax    0xe\r\nrbx    0x4230040\r\nrcx    0x7fff5fbfd630\r\nrdx    0x7fff5fbfd6a8\r\nrdi    0x1003\r\nrsi    0x7fff5fbfd648\r\nrbp    0x1003\r\nrsp    0x7fff5fbfd630\r\nr8     0x80008ff\r\nr9     0x0\r\nr10    0x700000429068\r\nr11    0x286\r\nr12    0x2c\r\nr13    0x419e60c\r\nr14    0x0\r\nr15    0x8\r\nrip    0x405c76b\r\nrflags 0x286\r\ncs     0x7\r\nfs     0x0\r\ngs     0x0\r\n```\r\n\r\nI wonder if there is a deadlock occurring when the panic comes at an unlucky time, which would explain why it's difficult to reproduce consistently.",
	"user": {
		"login": "jnjackins",
		"id": 449232,
		"type": "User",
		"site_admin": false
	},
	"created_at": "2016-01-20T04:50:18Z",
	"updated_at": "2016-01-20T04:54:57Z"
}
