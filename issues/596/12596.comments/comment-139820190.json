{
	"id": 139820190,
	"body": "@ianlancetaylor it looks like a lot of time is spent in copying pages. I have control over the physical machine (2 6aGB VMs on 128GB physical memory).\r\n\r\nThis is on the physical server (there's plenty of memory free) with 4GB preallocated slice:\r\n```\r\n$ ./slowappend\r\nwritten  4096 MB total. Average speed since start:  2900.3322907731563 MB/s\r\nwritten  4096 MB total. Average speed since start:  1669.0719558305143 MB/s\r\nwritten  4096 MB total. Average speed since start:  1185.689496049268 MB/s\r\nwritten  5120 MB total. Average speed since start:  1149.3474968838113 MB/s\r\nwritten  5120 MB total. Average speed since start:  938.5913028690825 MB/s\r\nwritten  5821 MB total. Average speed since start:  901.7436961929993 MB/s\r\nwritten  6400 MB total. Average speed since start:  858.4219129594568 MB/s\r\nwritten  6400 MB total. Average speed since start:  756.880534135437 MB/s\r\nwritten  6400 MB total. Average speed since start:  676.8237929120075 MB/s\r\nwritten  6400 MB total. Average speed since start:  612.0829319347262 MB/s\r\nwritten  6400 MB total. Average speed since start:  556.8368921547082 MB/s\r\nwritten  6400 MB total. Average speed since start:  512.2577558905392 MB/s\r\nwritten  6400 MB total. Average speed since start:  474.2879826971503 MB/s\r\n```\r\n\r\nThis is with 0 capacity slice:\r\n```\r\n$ ./slowappend\r\nwritten  385 MB total. Average speed since start:  384.8339553084691 MB/s\r\nwritten  753 MB total. Average speed since start:  376.3463321473892 MB/s\r\nwritten  1176 MB total. Average speed since start:  391.85440793153253 MB/s\r\nwritten  1470 MB total. Average speed since start:  367.3676763671786 MB/s\r\nwritten  1838 MB total. Average speed since start:  367.4730807509725 MB/s\r\nwritten  2298 MB total. Average speed since start:  382.8757971334142 MB/s\r\nwritten  2872 MB total. Average speed since start:  410.15824536481387 MB/s\r\nwritten  2872 MB total. Average speed since start:  358.89312306352423 MB/s\r\nwritten  3591 MB total. Average speed since start:  398.88373527462 MB/s\r\nwritten  3591 MB total. Average speed since start:  358.9978060331447 MB/s\r\nwritten  3591 MB total. Average speed since start:  326.3654083858592 MB/s\r\nwritten  4343 MB total. Average speed since start:  361.8212066540727 MB/s\r\n```\r\nSo the speed when go starts changing the size of the slice seems fairly constant and in this case around 350MBps. This is likely to be close to 1/100 of the memory bandwidth of this server...\r\n\r\nAny ideas? and btw, can anyone reproduce this or is it just my machine?\r\n\r\nAs s side note, go 1.3.3 seems to be only sligthly faster (~450MB/s).\r\n\r\nEDIT: completed the go 1.3.3 version comment.",
	"user": {
		"login": "m-m-f",
		"id": 9353884,
		"type": "User",
		"site_admin": false
	},
	"created_at": "2015-09-12T21:10:14Z",
	"updated_at": "2015-09-12T21:11:56Z"
}
