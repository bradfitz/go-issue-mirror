{
	"id": 162633403,
	"body": "@ianlancetaylor I started looking into this a little more, and it turns out that I have some questions about some fundamental parts of the architecture. For example:\r\n\r\n1. I see that building go on Windows appears to require a gcc-ish compiler, like mingw. Consequently, I assume that doing C archive building or shared library building would require the same thing (instead of, say, MSVC.)\r\n2. So far I have enabled the commands for doing a go build with c-shared and I get \"_rt0_amd64_windows_lib: not defined\", which appears to be set in lib.go/libinit. I'm not entirely sure what to look for here, so some pointers would be helpful.\r\n\r\nIn case it is helpful, the current trace output looks like:\r\n\r\nWORK=C:\\Users\\CHRIST~1\\AppData\\Local\\Temp\\go-build642482698\r\nmkdir -p $WORK\\command-line-arguments\\_obj\\\r\nmkdir -p $WORK\\command-line-arguments\\_obj\\exe\\\r\ncd Z:\\projects\\test\\src\\calc\r\nCGO_LDFLAGS=\"-g\" \"-O2\" \"z:\\\\projects\\\\go\\\\pkg\\\\tool\\\\windows_amd64\\\\cgo.exe\" -objdir \"C:\\\\Users\\\\CHRIST~1\\\\AppData\\\\Local\\\\Temp\\\\go-build642482698\\\\command-line-arguments\\\\_obj\\\\\" -importpath command-line-arguments \"-exportheader=C:\\\\Users\\\\CHRIST~1\\\\AppData\\\\Local\\\\Temp\\\\go-build642482698\\\\command-line-arguments\\\\_obj\\\\_cgo_install.h\" -- -I \"C:\\\\Users\\\\CHRIST~1\\\\AppData\\\\Local\\\\Temp\\\\go-build642482698\\\\command-line-arguments\\\\_obj\\\\\" calc.go\r\ngcc -I \"Z:\\\\projects\\\\test\\\\src\\\\calc\" -m64 -mthreads -fmessage-length=0 -print-libgcc-file-name\r\ngcc -I \"Z:\\\\projects\\\\test\\\\src\\\\calc\" -m64 -mthreads -fmessage-length=0 -I \"C:\\\\Users\\\\CHRIST~1\\\\AppData\\\\Local\\\\Temp\\\\go-build642482698\\\\command-line-arguments\\\\_obj\\\\\" -g -O2 -o \"C:\\\\Users\\\\CHRIST~1\\\\AppData\\\\Local\\\\Temp\\\\go-build642482698\\\\command-line-arguments\\\\_obj\\\\_cgo_main.o\" -c \"C:\\\\Users\\\\CHRIST~1\\\\AppData\\\\Local\\\\Temp\\\\go-build642482698\\\\command-line-arguments\\\\_obj\\\\_cgo_main.c\"\r\ngcc -I \"Z:\\\\projects\\\\test\\\\src\\\\calc\" -m64 -mthreads -fmessage-length=0 -I \"C:\\\\Users\\\\CHRIST~1\\\\AppData\\\\Local\\\\Temp\\\\go-build642482698\\\\command-line-arguments\\\\_obj\\\\\" -g -O2 -o \"C:\\\\Users\\\\CHRIST~1\\\\AppData\\\\Local\\\\Temp\\\\go-build642482698\\\\command-line-arguments\\\\_obj\\\\_cgo_export.o\" -c \"C:\\\\Users\\\\CHRIST~1\\\\AppData\\\\Local\\\\Temp\\\\go-build642482698\\\\command-line-arguments\\\\_obj\\\\_cgo_export.c\"\r\ngcc -I \"Z:\\\\projects\\\\test\\\\src\\\\calc\" -m64 -mthreads -fmessage-length=0 -I \"C:\\\\Users\\\\CHRIST~1\\\\AppData\\\\Local\\\\Temp\\\\go-build642482698\\\\command-line-arguments\\\\_obj\\\\\" -g -O2 -o \"C:\\\\Users\\\\CHRIST~1\\\\AppData\\\\Local\\\\Temp\\\\go-build642482698\\\\command-line-arguments\\\\_obj\\\\calc.cgo2.o\" -c \"C:\\\\Users\\\\CHRIST~1\\\\AppData\\\\Local\\\\Temp\\\\go-build642482698\\\\command-line-arguments\\\\_obj\\\\calc.cgo2.c\"\r\ngcc -I \"Z:\\\\projects\\\\test\\\\src\\\\calc\" -m64 -mthreads -fmessage-length=0 -o \"C:\\\\Users\\\\CHRIST~1\\\\AppData\\\\Local\\\\Temp\\\\go-build642482698\\\\command-line-arguments\\\\_obj\\\\_cgo_.o\" \"C:\\\\Users\\\\CHRIST~1\\\\AppData\\\\Local\\\\Temp\\\\go-build642482698\\\\command-line-arguments\\\\_obj\\\\_cgo_main.o\" \"C:\\\\Users\\\\CHRIST~1\\\\AppData\\\\Local\\\\Temp\\\\go-build642482698\\\\command-line-arguments\\\\_obj\\\\_cgo_export.o\" \"C:\\\\Users\\\\CHRIST~1\\\\AppData\\\\Local\\\\Temp\\\\go-build642482698\\\\command-line-arguments\\\\_obj\\\\calc.cgo2.o\" -g -O2\r\n\"z:\\\\projects\\\\go\\\\pkg\\\\tool\\\\windows_amd64\\\\cgo.exe\" -objdir \"C:\\\\Users\\\\CHRIST~1\\\\AppData\\\\Local\\\\Temp\\\\go-build642482698\\\\command-line-arguments\\\\_obj\\\\\" -dynpackage main -dynimport \"C:\\\\Users\\\\CHRIST~1\\\\AppData\\\\Local\\\\Temp\\\\go-build642482698\\\\command-line-arguments\\\\_obj\\\\_cgo_.o\" -dynout \"C:\\\\Users\\\\CHRIST~1\\\\AppData\\\\Local\\\\Temp\\\\go-build642482698\\\\command-line-arguments\\\\_obj\\\\_cgo_import.go\"\r\ngcc -I \"Z:\\\\projects\\\\test\\\\src\\\\calc\" -m64 -mthreads -fmessage-length=0 -o \"C:\\\\Users\\\\CHRIST~1\\\\AppData\\\\Local\\\\Temp\\\\go-build642482698\\\\command-line-arguments\\\\_obj\\\\_all.o\" \"C:\\\\Users\\\\CHRIST~1\\\\AppData\\\\Local\\\\Temp\\\\go-build642482698\\\\command-line-arguments\\\\_obj\\\\_cgo_export.o\" \"C:\\\\Users\\\\CHRIST~1\\\\AppData\\\\Local\\\\Temp\\\\go-build642482698\\\\command-line-arguments\\\\_obj\\\\calc.cgo2.o\" -g -O2 -Wl,-r -nostdlib -Wl,--start-group -lmingwex -lmingw32 -Wl,--end-group C:/TDM-GCC-64/bin/../lib/gcc/x86_64-w64-mingw32/5.1.0/libgcc.a\r\n\"z:\\\\projects\\\\go\\\\pkg\\\\tool\\\\windows_amd64\\\\compile.exe\" -o \"C:\\\\Users\\\\CHRIST~1\\\\AppData\\\\Local\\\\Temp\\\\go-build642482698\\\\command-line-arguments.a\" -trimpath \"C:\\\\Users\\\\CHRIST~1\\\\AppData\\\\Local\\\\Temp\\\\go-build642482698\" -p main -buildid af4f2da53bc903b4d17a55032a8fca5f579d7452 -D _/Z_/projects/test/src/calc -I \"C:\\\\Users\\\\CHRIST~1\\\\AppData\\\\Local\\\\Temp\\\\go-build642482698\" -pack \"C:\\\\Users\\\\CHRIST~1\\\\AppData\\\\Local\\\\Temp\\\\go-build642482698\\\\command-line-arguments\\\\_obj\\\\_cgo_gotypes.go\" \"C:\\\\Users\\\\CHRIST~1\\\\AppData\\\\Local\\\\Temp\\\\go-build642482698\\\\command-line-arguments\\\\_obj\\\\calc.cgo1.go\" \"C:\\\\Users\\\\CHRIST~1\\\\AppData\\\\Local\\\\Temp\\\\go-build642482698\\\\command-line-arguments\\\\_obj\\\\_cgo_import.go\"\r\npack r \"C:\\\\Users\\\\CHRIST~1\\\\AppData\\\\Local\\\\Temp\\\\go-build642482698\\\\command-line-arguments.a\" \"C:\\\\Users\\\\CHRIST~1\\\\AppData\\\\Local\\\\Temp\\\\go-build642482698\\\\command-line-arguments\\\\_obj\\\\_all.o\" # internal\r\ncd .\r\n\"z:\\\\projects\\\\go\\\\pkg\\\\tool\\\\windows_amd64\\\\link.exe\" -o \"C:\\\\Users\\\\CHRIST~1\\\\AppData\\\\Local\\\\Temp\\\\go-build642482698\\\\command-line-arguments\\\\_obj\\\\exe\\\\a.out.exe\" -L \"C:\\\\Users\\\\CHRIST~1\\\\AppData\\\\Local\\\\Temp\\\\go-build642482698\" -extld=gcc -buildmode=c-shared -buildid=af4f2da53bc903b4d17a55032a8fca5f579d7452 -v \"C:\\\\Users\\\\CHRIST~1\\\\AppData\\\\Local\\\\Temp\\\\go-build642482698\\\\command-line-arguments.a\"\r\n  # command-line-arguments\r\nHEADER = -H11 -T0x401000 -D0x0 -R0x1000\r\nsearching for runtime.a in $WORK/runtime.a\r\nsearching for runtime.a in z:\\projects\\go/pkg/windows_amd64/runtime.a\r\n 0.00 deadcode\r\n 0.01 pclntab=154410 bytes, funcdata total 33488 bytes\r\n 0.01 dodata\r\n 0.01 reloc\r\n 0.02 reloc\r\n_rt0_amd64_windows_lib.ptr: _rt0_amd64_windows_lib: not defined\r\n 0.02 asmb\r\n 0.02 codeblk\r\n 0.03 datblk\r\n 0.03 sym\r\n 0.03 dwarf\r\n 0.03 headr\r\n 0.03 symsize = 0\r\n 0.03 symsize = 0\r\n_rt0_amd64_windows_lib.ptr: undefined: _rt0_amd64_windows_lib\r\n",
	"user": {
		"login": "nadiasvertex",
		"id": 2034108,
		"type": "User",
		"site_admin": false
	},
	"created_at": "2015-12-07T19:28:33Z",
	"updated_at": "2015-12-07T19:30:19Z"
}
