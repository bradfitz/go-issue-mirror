{
	"id": 51289207,
	"number": 9188,
	"state": "closed",
	"title": "syscall: syscall_windows_test.go: cast from pointer to int of different size",
	"body": "\u003cpre\u003eOn Windows 7 x64.\nGcc: 4.8.2 x86_64-w64-mingw32\nhg cd4772ba9573 (release-branch.go1.4)\n\nInstalled from \u003ca href=\"http://win-builds.org/\"\u003ehttp://win-builds.org/\u003c/a\u003e\n\nSystem still builds and runs fine. Appears to have appeared after I installed a new\nversion of gcc (upgraded when I needed the newer version for a different project).\n\n--- FAIL: TestStdcallAndCDeclCallbacks (0.22s)\n        syscall_windows_test.go:373: failed to build dll: exit status 1 - test.c: In function 'cdecl2':\n                test.c:5:12: warning: cast from pointer to integer of different size [-Wpointer-to-int-cast]\n                  for(i=0;i\u0026lt;(int)n;i++){\n                            ^\n                test.c:6:3: warning: passing argument 1 of 'f' makes pointer from integer without a cast [enabled by default]\n                   f(1,2);\n                   ^\n                test.c:6:3: note: expected 'void *' but argument is of type 'int'\n                test.c:6:3: warning: passing argument 2 of 'f' makes pointer from integer without a cast [enabled by default]\n                test.c:6:3: note: expected 'void *' but argument is of type 'int'\n                test.c: In function 'stdcall2':\n...\n                test.c:118:3: warning: passing argument 1 of 'f' makes pointer from integer without a cast [enabled by default]\n                   f(1,2,3,4,5,6,7,8,9);\n                   ^\n                test.c:118:3: note: expected 'void *' but argument is of type 'int'\n                test.c:118:3: warning: passing argument 2 of 'f' makes pointer from integer without a cast [enabled by default]\n                test.c:118:3: note: expected 'void *' but argument is of type 'int'\n                test.c:118:3: warning: passing argument 3 of 'f' makes pointer from integer without a cast [enabled by default]\n                test.c:118:3: note: expected 'void *' but argument is of type 'int'\n                test.c:118:3: warning: passing argument 4 of 'f' makes pointer from integer without a cast [enabled by default]\n                test.c:118:3: note: expected 'void *' but argument is of type 'int'\n                test.c:118:3: warning: passing argument 5 of 'f' makes pointer from integer without a cast [enabled by default]\n                test.c:118:3: note: expected 'void *' but argument is of type 'int'\n                test.c:118:3: warning: passing argument 6 of 'f' makes pointer from integer without a cast [enabled by default]\n                test.c:118:3: note: expected 'void *' but argument is of type 'int'\n                test.c:118:3: warning: passing argument 7 of 'f' makes pointer from integer without a cast [enabled by default]\n                test.c:118:3: note: expected 'void *' but argument is of type 'int'\n                test.c:118:3: warning: passing argument 8 of 'f' makes pointer from integer without a cast [enabled by default]\n                test.c:118:3: note: expected 'void *' but argument is of type 'int'\n                test.c:118:3: warning: passing argument 9 of 'f' makes pointer from integer without a cast [enabled by default]\n                test.c:118:3: note: expected 'void *' but argument is of type 'int'\n                test.c: In function 'stdcall9':\n                test.c:125:12: warning: cast from pointer to integer of different size [-Wpointer-to-int-cast]\n                  for(i=0;i\u0026lt;(int)n;i++){\n                            ^\n                test.c:126:3: warning: passing argument 1 of 'f' makes pointer from integer without a cast [enabled by default]\n                   f(1,2,3,4,5,6,7,8,9);\n                   ^\n                test.c:126:3: note: expected 'void *' but argument is of type 'int'\n                test.c:126:3: warning: passing argument 2 of 'f' makes pointer from integer without a cast [enabled by default]\n                test.c:126:3: note: expected 'void *' but argument is of type 'int'\n                test.c:126:3: warning: passing argument 3 of 'f' makes pointer from integer without a cast [enabled by default]\n                test.c:126:3: note: expected 'void *' but argument is of type 'int'\n                test.c:126:3: warning: passing argument 4 of 'f' makes pointer from integer without a cast [enabled by default]\n                test.c:126:3: note: expected 'void *' but argument is of type 'int'\n                test.c:126:3: warning: passing argument 5 of 'f' makes pointer from integer without a cast [enabled by default]\n                test.c:126:3: note: expected 'void *' but argument is of type 'int'\n                test.c:126:3: warning: passing argument 6 of 'f' makes pointer from integer without a cast [enabled by default]\n                test.c:126:3: note: expected 'void *' but argument is of type 'int'\n                test.c:126:3: warning: passing argument 7 of 'f' makes pointer from integer without a cast [enabled by default]\n                test.c:126:3: note: expected 'void *' but argument is of type 'int'\n                test.c:126:3: warning: passing argument 8 of 'f' makes pointer from integer without a cast [enabled by default]\n                test.c:126:3: note: expected 'void *' but argument is of type 'int'\n                test.c:126:3: warning: passing argument 9 of 'f' makes pointer from integer without a cast [enabled by default]\n                test.c:126:3: note: expected 'void *' but argument is of type 'int'\u0000\n                c:/dev/winbuilds/bin/../lib64/gcc/x86_64-w64-mingw32/4.8.2/../../../../x86_64-w64-mingw32/bin/ld.exe: cannot find -lgcc_s\n                c:/dev/winbuilds/bin/../lib64/gcc/x86_64-w64-mingw32/4.8.2/../../../../x86_64-w64-mingw32/bin/ld.exe: cannot find -lgcc_s\n                collect2.exe: error: ld returned 1 exit status\u003c/pre\u003e",
	"user": {
		"login": "kardianos",
		"id": 755121,
		"type": "User",
		"site_admin": false
	},
	"labels": [
		{
			"name": "FrozenDueToAge"
		}
	],
	"comments": 3,
	"closed_at": "2014-12-22T00:33:09Z",
	"created_at": "2014-12-01T23:08:49Z",
	"updated_at": "2016-06-25T01:45:10Z",
	"milestone": {
		"id": 1067218,
		"number": 21,
		"title": "Go1.4"
	}
}
