{
	"id": 132404191,
	"body": "I checked all the Lookup functions. Here is a program to do that (comment out the NS code in Go 1):\n\n\tpackage main\n\t\n\timport (\n\t\t\"bytes\"\n\t\t\"fmt\"\n\t\t\"net\"\n\t)\n\t\n\tfunc main() {\n\t\tnames, err := net.LookupAddr(\"8.8.8.8\")\n\t\tfmt.Printf(\"LookupAddr(8.8.8.8) = %v, %v\\n\", names, err)\n\t\n\t\tcname, err := net.LookupCNAME(\"research.swtch.com\")\n\t\tfmt.Printf(\"LookupCNAME(research.swtch.com) = %v, %v\\n\", cname, err)\n\t\n\t\tcname, err = net.LookupCNAME(\"www.mit.edu\")\n\t\tfmt.Printf(\"LookupCNAME(www.mit.edu) = %v, %v\\n\", cname, err)\n\t\n\t\tmx, err := net.LookupMX(\"google.com\")\n\t\tfmt.Printf(\"LookupMX(google.com) = %#v, %v\\n\", strmx(mx), err)\n\t\n\t\tns, err := net.LookupNS(\"google.com\")\n\t\tfmt.Printf(\"LookupNS(google.com) = %#v, %v\\n\", strns(ns), err)\n\t\n\t\tcname, addrs, err := net.LookupSRV(\"xmpp-server\", \"tcp\", \"google.com\")\n\t\tfmt.Printf(\"LookupSRV(xmpp-server, tcp, google.com) = %v, %v, %v\\n\", cname, strsrv(addrs), err)\n\t\n\t\ttxt, err := net.LookupTXT(\"google.com\")\n\t\tfmt.Printf(\"LookupTXT(google.com) = %v, %v\\n\", txt, err)\n\t}\n\t\n\tfunc strmx(mxs []*net.MX) string {\n\t\tvar buf bytes.Buffer\n\t\tsep := \"\"\n\t\tfmt.Fprintf(\u0026buf, \"[\")\n\t\tfor _, mx := range mxs {\n\t\t\tfmt.Fprintf(\u0026buf, \"%s%s:%d\", sep, mx.Host, mx.Pref)\n\t\t\tsep = \" \"\n\t\t}\n\t\tfmt.Fprintf(\u0026buf, \"]\")\n\t\treturn buf.String()\n\t}\n\t\n\tfunc strns(nss []*net.NS) string {\n\t\tvar buf bytes.Buffer\n\t\tsep := \"\"\n\t\tfmt.Fprintf(\u0026buf, \"[\")\n\t\tfor _, ns := range nss {\n\t\t\tfmt.Fprintf(\u0026buf, \"%s%s\", sep, ns.Host)\n\t\t\tsep = \" \"\n\t\t}\n\t\tfmt.Fprintf(\u0026buf, \"]\")\n\t\treturn buf.String()\n\t}\n\t\n\tfunc strsrv(srvs []*net.SRV) string {\n\t\tvar buf bytes.Buffer\n\t\tsep := \"\"\n\t\tfmt.Fprintf(\u0026buf, \"[\")\n\t\tfor _, srv := range srvs {\n\t\t\tfmt.Fprintf(\u0026buf, \"%s%s:%d:%d:%d\", sep, srv.Target, srv.Port, srv.Priority, srv.Weight)\n\t\t\tsep = \" \"\n\t\t}\n\t\tfmt.Fprintf(\u0026buf, \"]\")\n\t\treturn buf.String()\n\t}\n\nHere are some Go versions running on Linux:\n\n\t$ go1 version\n\tgo version go1\n\t$ go1.1 version\n\tgo version go1.1.2 linux/amd64\n\t$ go1.2 version\n\tgo version go1.2.2 linux/amd64\n\t$ go1.3 version\n\tgo version go1.3.3 linux/amd64\n\t$ go1.4 version\n\tgo version go1.4.2 linux/amd64\n\t$ go version\n\tgo version devel +ee0658d Tue Aug 18 12:39:14 2015 -0400 linux/amd64\n\t$\n\nCompiled with plain make.bash (so cgo is enabled):\n\n\t$ go1 run lookup.go\n\tLookupAddr(8.8.8.8) = [google-public-dns-a.google.com.], \u003cnil\u003e\n\tLookupCNAME(research.swtch.com) = ghs.l.google.com., \u003cnil\u003e\n\tLookupCNAME(www.mit.edu) = e9566.dscb.akamaiedge.net., \u003cnil\u003e\n\tLookupMX(google.com) = \"[aspmx.l.google.com.:10 alt1.aspmx.l.google.com.:20 alt2.aspmx.l.google.com.:30 alt3.aspmx.l.google.com.:40 alt4.aspmx.l.google.com.:50]\", \u003cnil\u003e\n\tLookupSRV(xmpp-server, tcp, google.com) = _xmpp-server._tcp.google.com., [xmpp-server.l.google.com.:5269:5:0 alt3.xmpp-server.l.google.com.:5269:20:0 alt2.xmpp-server.l.google.com.:5269:20:0 alt1.xmpp-server.l.google.com.:5269:20:0 alt4.xmpp-server.l.google.com.:5269:20:0], \u003cnil\u003e\n\tLookupTXT(google.com) = [v=spf1 include:_spf.google.com ~all], \u003cnil\u003e\n\t\n\t$ go1.1 run lookup.go\n\tLookupAddr(8.8.8.8) = [google-public-dns-a.google.com.], \u003cnil\u003e\n\tLookupCNAME(research.swtch.com) = ghs.l.google.com., \u003cnil\u003e\n\tLookupCNAME(www.mit.edu) = e9566.dscb.akamaiedge.net., \u003cnil\u003e\n\tLookupMX(google.com) = \"[aspmx.l.google.com.:10 alt1.aspmx.l.google.com.:20 alt2.aspmx.l.google.com.:30 alt3.aspmx.l.google.com.:40 alt4.aspmx.l.google.com.:50]\", \u003cnil\u003e\n\tLookupNS(google.com) = \"[ns3.google.com. ns2.google.com. ns4.google.com. ns1.google.com.]\", \u003cnil\u003e\n\tLookupSRV(xmpp-server, tcp, google.com) = _xmpp-server._tcp.google.com., [xmpp-server.l.google.com.:5269:5:0 alt1.xmpp-server.l.google.com.:5269:20:0 alt3.xmpp-server.l.google.com.:5269:20:0 alt2.xmpp-server.l.google.com.:5269:20:0 alt4.xmpp-server.l.google.com.:5269:20:0], \u003cnil\u003e\n\tLookupTXT(google.com) = [v=spf1 include:_spf.google.com ~all], \u003cnil\u003e\n\t\n\t$ go1.2 run lookup.go\n\tLookupAddr(8.8.8.8) = [google-public-dns-a.google.com.], \u003cnil\u003e\n\tLookupCNAME(research.swtch.com) = ghs.l.google.com., \u003cnil\u003e\n\tLookupCNAME(www.mit.edu) = e9566.dscb.akamaiedge.net., \u003cnil\u003e\n\tLookupMX(google.com) = \"[aspmx.l.google.com.:10 alt1.aspmx.l.google.com.:20 alt2.aspmx.l.google.com.:30 alt3.aspmx.l.google.com.:40 alt4.aspmx.l.google.com.:50]\", \u003cnil\u003e\n\tLookupNS(google.com) = \"[ns2.google.com. ns3.google.com. ns4.google.com. ns1.google.com.]\", \u003cnil\u003e\n\tLookupSRV(xmpp-server, tcp, google.com) = _xmpp-server._tcp.google.com., [xmpp-server.l.google.com.:5269:5:0 alt1.xmpp-server.l.google.com.:5269:20:0 alt3.xmpp-server.l.google.com.:5269:20:0 alt2.xmpp-server.l.google.com.:5269:20:0 alt4.xmpp-server.l.google.com.:5269:20:0], \u003cnil\u003e\n\tLookupTXT(google.com) = [v=spf1 include:_spf.google.com ~all], \u003cnil\u003e\n\t\n\t$ go1.3 run lookup.go\n\tLookupAddr(8.8.8.8) = [google-public-dns-a.google.com.], \u003cnil\u003e\n\tLookupCNAME(research.swtch.com) = ghs.l.google.com., \u003cnil\u003e\n\tLookupCNAME(www.mit.edu) = e9566.dscb.akamaiedge.net., \u003cnil\u003e\n\tLookupMX(google.com) = \"[aspmx.l.google.com.:10 alt1.aspmx.l.google.com.:20 alt2.aspmx.l.google.com.:30 alt3.aspmx.l.google.com.:40 alt4.aspmx.l.google.com.:50]\", \u003cnil\u003e\n\tLookupNS(google.com) = \"[ns3.google.com. ns2.google.com. ns4.google.com. ns1.google.com.]\", \u003cnil\u003e\n\tLookupSRV(xmpp-server, tcp, google.com) = _xmpp-server._tcp.google.com., [xmpp-server.l.google.com.:5269:5:0 alt4.xmpp-server.l.google.com.:5269:20:0 alt2.xmpp-server.l.google.com.:5269:20:0 alt3.xmpp-server.l.google.com.:5269:20:0 alt1.xmpp-server.l.google.com.:5269:20:0], \u003cnil\u003e\n\tLookupTXT(google.com) = [v=spf1 include:_spf.google.com ~all], \u003cnil\u003e\n\t\n\t$ go1.4 run lookup.go\n\tLookupAddr(8.8.8.8) = [google-public-dns-a.google.com.], \u003cnil\u003e\n\tLookupCNAME(research.swtch.com) = ghs.l.google.com., \u003cnil\u003e\n\tLookupCNAME(www.mit.edu) = e9566.dscb.akamaiedge.net., \u003cnil\u003e\n\tLookupMX(google.com) = \"[aspmx.l.google.com.:10 alt1.aspmx.l.google.com.:20 alt2.aspmx.l.google.com.:30 alt3.aspmx.l.google.com.:40 alt4.aspmx.l.google.com.:50]\", \u003cnil\u003e\n\tLookupNS(google.com) = \"[ns1.google.com. ns3.google.com. ns4.google.com. ns2.google.com.]\", \u003cnil\u003e\n\tLookupSRV(xmpp-server, tcp, google.com) = _xmpp-server._tcp.google.com., [xmpp-server.l.google.com.:5269:5:0 alt3.xmpp-server.l.google.com.:5269:20:0 alt2.xmpp-server.l.google.com.:5269:20:0 alt1.xmpp-server.l.google.com.:5269:20:0 alt4.xmpp-server.l.google.com.:5269:20:0], \u003cnil\u003e\n\tLookupTXT(google.com) = [v=spf1 include:_spf.google.com ~all], \u003cnil\u003e\n\t\n\t$ go run lookup.go\n\tLookupAddr(8.8.8.8) = [google-public-dns-a.google.com], \u003cnil\u003e\n\tLookupCNAME(research.swtch.com) = ghs.l.google.com., \u003cnil\u003e\n\tLookupCNAME(www.mit.edu) = e9566.dscb.akamaiedge.net., \u003cnil\u003e\n\tLookupMX(google.com) = \"[aspmx.l.google.com.:10 alt1.aspmx.l.google.com.:20 alt2.aspmx.l.google.com.:30 alt3.aspmx.l.google.com.:40 alt4.aspmx.l.google.com.:50]\", \u003cnil\u003e\n\tLookupNS(google.com) = \"[ns4.google.com. ns1.google.com. ns3.google.com. ns2.google.com.]\", \u003cnil\u003e\n\tLookupSRV(xmpp-server, tcp, google.com) = _xmpp-server._tcp.google.com., [xmpp-server.l.google.com.:5269:5:0 alt1.xmpp-server.l.google.com.:5269:20:0 alt3.xmpp-server.l.google.com.:5269:20:0 alt2.xmpp-server.l.google.com.:5269:20:0 alt4.xmpp-server.l.google.com.:5269:20:0], \u003cnil\u003e\n\tLookupTXT(google.com) = [v=spf1 include:_spf.google.com ~all], \u003cnil\u003e\n\nCompiled with CGO_ENABLED=0 make.bash:\n\n\t$ go1 run lookup.go\n\tLookupAddr(8.8.8.8) = [google-public-dns-a.google.com.], \u003cnil\u003e\n\tLookupCNAME(research.swtch.com) = ghs.l.google.com., \u003cnil\u003e\n\tLookupCNAME(www.mit.edu) = e9566.dscb.akamaiedge.net., \u003cnil\u003e\n\tLookupMX(google.com) = \"[aspmx.l.google.com.:10 alt1.aspmx.l.google.com.:20 alt2.aspmx.l.google.com.:30 alt3.aspmx.l.google.com.:40 alt4.aspmx.l.google.com.:50]\", \u003cnil\u003e\n\tLookupSRV(xmpp-server, tcp, google.com) = _xmpp-server._tcp.google.com., [xmpp-server.l.google.com.:5269:5:0 alt3.xmpp-server.l.google.com.:5269:20:0 alt4.xmpp-server.l.google.com.:5269:20:0 alt2.xmpp-server.l.google.com.:5269:20:0 alt1.xmpp-server.l.google.com.:5269:20:0], \u003cnil\u003e\n\tLookupTXT(google.com) = [v=spf1 include:_spf.google.com ~all], \u003cnil\u003e\n\t\n\t$ go1.1 run lookup.go\n\tLookupAddr(8.8.8.8) = [google-public-dns-a.google.com.], \u003cnil\u003e\n\tLookupCNAME(research.swtch.com) = ghs.l.google.com., \u003cnil\u003e\n\tLookupCNAME(www.mit.edu) = e9566.dscb.akamaiedge.net., \u003cnil\u003e\n\tLookupMX(google.com) = \"[aspmx.l.google.com.:10 alt1.aspmx.l.google.com.:20 alt2.aspmx.l.google.com.:30 alt3.aspmx.l.google.com.:40 alt4.aspmx.l.google.com.:50]\", \u003cnil\u003e\n\tLookupNS(google.com) = \"[ns3.google.com. ns2.google.com. ns4.google.com. ns1.google.com.]\", \u003cnil\u003e\n\tLookupSRV(xmpp-server, tcp, google.com) = _xmpp-server._tcp.google.com., [xmpp-server.l.google.com.:5269:5:0 alt3.xmpp-server.l.google.com.:5269:20:0 alt2.xmpp-server.l.google.com.:5269:20:0 alt1.xmpp-server.l.google.com.:5269:20:0 alt4.xmpp-server.l.google.com.:5269:20:0], \u003cnil\u003e\n\tLookupTXT(google.com) = [v=spf1 include:_spf.google.com ~all], \u003cnil\u003e\n\t\n\t$ go1.2 run lookup.go\n\tLookupAddr(8.8.8.8) = [google-public-dns-a.google.com.], \u003cnil\u003e\n\tLookupCNAME(research.swtch.com) = ghs.l.google.com., \u003cnil\u003e\n\tLookupCNAME(www.mit.edu) = e9566.dscb.akamaiedge.net., \u003cnil\u003e\n\tLookupMX(google.com) = \"[aspmx.l.google.com.:10 alt1.aspmx.l.google.com.:20 alt2.aspmx.l.google.com.:30 alt3.aspmx.l.google.com.:40 alt4.aspmx.l.google.com.:50]\", \u003cnil\u003e\n\tLookupNS(google.com) = \"[ns3.google.com. ns2.google.com. ns4.google.com. ns1.google.com.]\", \u003cnil\u003e\n\tLookupSRV(xmpp-server, tcp, google.com) = _xmpp-server._tcp.google.com., [xmpp-server.l.google.com.:5269:5:0 alt2.xmpp-server.l.google.com.:5269:20:0 alt1.xmpp-server.l.google.com.:5269:20:0 alt3.xmpp-server.l.google.com.:5269:20:0 alt4.xmpp-server.l.google.com.:5269:20:0], \u003cnil\u003e\n\tLookupTXT(google.com) = [v=spf1 include:_spf.google.com ~all], \u003cnil\u003e\n\t\n\t$ go1.3 run lookup.go\n\tLookupAddr(8.8.8.8) = [google-public-dns-a.google.com.], \u003cnil\u003e\n\tLookupCNAME(research.swtch.com) = ghs.l.google.com., \u003cnil\u003e\n\tLookupCNAME(www.mit.edu) = e9566.dscb.akamaiedge.net., \u003cnil\u003e\n\tLookupMX(google.com) = \"[aspmx.l.google.com.:10 alt1.aspmx.l.google.com.:20 alt2.aspmx.l.google.com.:30 alt3.aspmx.l.google.com.:40 alt4.aspmx.l.google.com.:50]\", \u003cnil\u003e\n\tLookupNS(google.com) = \"[ns1.google.com. ns3.google.com. ns2.google.com. ns4.google.com.]\", \u003cnil\u003e\n\tLookupSRV(xmpp-server, tcp, google.com) = _xmpp-server._tcp.google.com., [xmpp-server.l.google.com.:5269:5:0 alt3.xmpp-server.l.google.com.:5269:20:0 alt2.xmpp-server.l.google.com.:5269:20:0 alt1.xmpp-server.l.google.com.:5269:20:0 alt4.xmpp-server.l.google.com.:5269:20:0], \u003cnil\u003e\n\tLookupTXT(google.com) = [v=spf1 include:_spf.google.com ~all], \u003cnil\u003e\n\t\n\t$ go1.4 run lookup.go\n\tLookupAddr(8.8.8.8) = [google-public-dns-a.google.com.], \u003cnil\u003e\n\tLookupCNAME(research.swtch.com) = ghs.l.google.com., \u003cnil\u003e\n\tLookupCNAME(www.mit.edu) = e9566.dscb.akamaiedge.net., \u003cnil\u003e\n\tLookupMX(google.com) = \"[aspmx.l.google.com.:10 alt1.aspmx.l.google.com.:20 alt2.aspmx.l.google.com.:30 alt3.aspmx.l.google.com.:40 alt4.aspmx.l.google.com.:50]\", \u003cnil\u003e\n\tLookupNS(google.com) = \"[ns3.google.com. ns1.google.com. ns4.google.com. ns2.google.com.]\", \u003cnil\u003e\n\tLookupSRV(xmpp-server, tcp, google.com) = _xmpp-server._tcp.google.com., [xmpp-server.l.google.com.:5269:5:0 alt3.xmpp-server.l.google.com.:5269:20:0 alt2.xmpp-server.l.google.com.:5269:20:0 alt1.xmpp-server.l.google.com.:5269:20:0 alt4.xmpp-server.l.google.com.:5269:20:0], \u003cnil\u003e\n\tLookupTXT(google.com) = [v=spf1 include:_spf.google.com ~all], \u003cnil\u003e\n\t\n\t$ go run lookup.go\n\tLookupAddr(8.8.8.8) = [google-public-dns-a.google.com], \u003cnil\u003e\n\tLookupCNAME(research.swtch.com) = ghs.l.google.com., \u003cnil\u003e\n\tLookupCNAME(www.mit.edu) = e9566.dscb.akamaiedge.net., \u003cnil\u003e\n\tLookupMX(google.com) = \"[aspmx.l.google.com.:10 alt1.aspmx.l.google.com.:20 alt2.aspmx.l.google.com.:30 alt3.aspmx.l.google.com.:40 alt4.aspmx.l.google.com.:50]\", \u003cnil\u003e\n\tLookupNS(google.com) = \"[ns1.google.com. ns3.google.com. ns2.google.com. ns4.google.com.]\", \u003cnil\u003e\n\tLookupSRV(xmpp-server, tcp, google.com) = _xmpp-server._tcp.google.com., [xmpp-server.l.google.com.:5269:5:0 alt3.xmpp-server.l.google.com.:5269:20:0 alt1.xmpp-server.l.google.com.:5269:20:0 alt4.xmpp-server.l.google.com.:5269:20:0 alt2.xmpp-server.l.google.com.:5269:20:0], \u003cnil\u003e\n\tLookupTXT(google.com) = [v=spf1 include:_spf.google.com ~all], \u003cnil\u003e\n\nIt may be different on non-Linux systems, but it seems like literally every release of Go to date has had the trailing dot, while the current 1.5 tree has dropped it.\n\nFurthermore, the dropping of the trailing dot in LookupAddr appears to be inconsistent with all the other functions, even in Go 1.5. (LookupTXT doesn't count, since it returns uninterpreted text, but I wanted to run all the Lookups.)\n\nFor both these reasons I think we should put the final dot back in.\n\nI will prepare a CL.",
	"user": {
		"login": "rsc",
		"id": 104030,
		"type": "User",
		"site_admin": false
	},
	"created_at": "2015-08-19T00:41:48Z",
	"updated_at": "2015-08-19T00:41:48Z"
}
