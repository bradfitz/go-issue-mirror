{
	"id": 51283745,
	"number": 5512,
	"state": "closed",
	"title": "go/types: crash in assignment between \"unexported\" named interface types ",
	"body": "\u003cpre\u003eWhat steps will reproduce the problem?\n\nTypechekck the follwoing pair of files:\n\n$ cat main.go\npackage blah\n\nimport \u0026quot;testb/pkg\u0026quot;\n\ntype stringer interface {\n\tString() string\n}\n\nfunc F() {\n      var t pkg.T\n\tvar s stringer = t.Field\n}\n\n$ cat pkg/pkg.go\npackage pkg\n\ntype stringer interface {\n\tString() string\n}\n\ntype T struct {\n\tField stringer\n}\n\nWhat is the expected output? What do you see instead?\n\nExpected: no error\n\nInstead:\n$ gotype .\nINTERNAL PANIC: runtime error: invalid memory address or nil pointer dereference\npanic: runtime error: invalid memory address or nil pointer dereference [recovered]\n\tpanic: runtime error: invalid memory address or nil pointer dereference [recovered]\n\tpanic: runtime error: invalid memory address or nil pointer dereference\n[signal 0xb code=0x1 addr=0x10 pc=0x487765]\n\ngoroutine 1 [running]:\nmain.func·002()\n\t/home/remy/travail/go/src/code.google.com/p/go.tools/gotype/gotype.go:185 +0xa2\ncode.google.com/p/go.tools/go/types.func·003()\n\t/home/remy/travail/go/src/code.google.com/p/go.tools/go/types/check.go:447 +0x175\ncode.google.com/p/go.tools/go/types.identicalMethods(0xc200087820, 0x1, 0x1,\n0xc200087850, 0x1, ...)\n\t/home/remy/travail/go/src/code.google.com/p/go.tools/go/types/predicates.go:219 +0xe5\ncode.google.com/p/go.tools/go/types.IsIdentical(0xc200079b00, 0xc200064a00,\n0xc200079b00, 0xc200064a40, 0x0, ...)\n\t/home/remy/travail/go/src/code.google.com/p/go.tools/go/types/predicates.go:165 +0x8de\ncode.google.com/p/go.tools/go/types.(*operand).isAssignable(0xc2000a5cc0, 0xc2000a5480,\n0xc200079b40, 0xc2000a2840, 0x0, ...)\n\t/home/remy/travail/go/src/code.google.com/p/go.tools/go/types/operand.go:144 +0x172\ncode.google.com/p/go.tools/go/types.(*checker).assignment(0xc20008c0b0, 0xc2000a5cc0,\n0xc200079b40, 0xc2000a2840, 0x1, ...)\n\t/home/remy/travail/go/src/code.google.com/p/go.tools/go/types/stmt.go:36 +0x1dd\ncode.google.com/p/go.tools/go/types.(*checker).assign1to1(0xc20008c0b0, 0xc2000a5040,\n0xc200064660, 0xc2000a52c0, 0xc2000646e0, ...)\n\t/home/remy/travail/go/src/code.google.com/p/go.tools/go/types/stmt.go:139 +0x563\ncode.google.com/p/go.tools/go/types.(*checker).valueSpec(0xc20008c0b0, 0x73,\n0xc20007d910, 0xc2000a5c40, 0xc200000228, ...)\n\t/home/remy/travail/go/src/code.google.com/p/go.tools/go/types/check.go:162 +0x3a9\ncode.google.com/p/go.tools/go/types.(*checker).object(0xc20008c0b0, 0xc20007d910,\n0xc2000a5c40, 0xc2000a5c00)\n\t/home/remy/travail/go/src/code.google.com/p/go.tools/go/types/check.go:247 +0x3ca\ncode.google.com/p/go.tools/go/types.(*checker).decl(0xc20008c0b0, 0xc200079f80,\n0xc2000a53c0)\n\t/home/remy/travail/go/src/code.google.com/p/go.tools/go/types/check.go:391 +0x44c\ncode.google.com/p/go.tools/go/types.(*checker).stmt(0xc20008c0b0, 0xc2000a5380,\n0xc200087730)\n\t/home/remy/travail/go/src/code.google.com/p/go.tools/go/types/stmt.go:298 +0x3108\ncode.google.com/p/go.tools/go/types.(*checker).stmtList(0xc20008c0b0, 0xc200064700, 0x2,\n0x2)\n\t/home/remy/travail/go/src/code.google.com/p/go.tools/go/types/stmt.go:247 +0x68\ncode.google.com/p/go.tools/go/types.check(0xc2000a5480, 0x5ce2a0, 0x1, 0xc200079e40,\n0xc200000240, ...)\n\t/home/remy/travail/go/src/code.google.com/p/go.tools/go/types/check.go:485 +0x4cf\ncode.google.com/p/go.tools/go/types.(*Context).Check(0xc2000a5480, 0x5ce2a0, 0x1,\n0xc200079e40, 0xc200000240, ...)\n\t/home/remy/travail/go/src/code.google.com/p/go.tools/go/types/api.go:112 +0x6c\nmain.processPackage(0xc200079e40, 0xc200000240, 0x1, 0x1)\n\t/home/remy/travail/go/src/code.google.com/p/go.tools/gotype/gotype.go:189 +0xd9\nmain.processFiles(0xc200086700, 0x2, 0x64, 0xc200000100)\n\t/home/remy/travail/go/src/code.google.com/p/go.tools/gotype/gotype.go:167 +0x178\nmain.processDirectory(0x7fff7b5d0923, 0x1)\n\t/home/remy/travail/go/src/code.google.com/p/go.tools/gotype/gotype.go:146 +0x24a\nmain.processFiles(0xc200064010, 0x1, 0x1, 0x417301)\n\t/home/remy/travail/go/src/code.google.com/p/go.tools/gotype/gotype.go:157 +0x1d9\nmain.main()\n\t/home/remy/travail/go/src/code.google.com/p/go.tools/gotype/gotype.go:200 +0xea\n\ngoroutine 2 [runnable]:\n\n\nPlease use labels and text to provide additional information.\u003c/pre\u003e",
	"user": {
		"login": "remyoudompheng",
		"id": 175246,
		"type": "User",
		"site_admin": false
	},
	"labels": [
		{
			"name": "FrozenDueToAge"
		}
	],
	"comments": 2,
	"closed_at": "2014-12-08T10:29:56Z",
	"created_at": "2013-05-18T08:03:44Z",
	"updated_at": "2016-06-24T22:40:34Z"
}
