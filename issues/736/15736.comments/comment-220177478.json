{
	"id": 220177478,
	"body": "I think this is pretty cool.\nThat said, parallelizing packages and parallelizing compilation within a\npackage (which we're also thinking about doing), are going after the same\nidle cycles.  Maybe we shouldn't do both if one of them would be enough.\n\n\nOn Wed, May 18, 2016 at 3:04 PM, Josh Bleecher Snyder \u003c\nnotifications@github.com\u003e wrote:\n\n\u003e In order to get insight into how cmd/go schedules work, I added the\n\u003e ability to generate a trace using the same viewer as cmd/trace. There is a\n\u003e screenshot and sample html output at #15734\n\u003e \u003chttps://github.com/golang/go/issues/15734\u003e. It was generated using the\n\u003e command go build -a -trace std.html std. A partial implementation\n\u003e (doesn't trace downloads, test running, etc.) can be seen at unstable url\n\u003e \u003chttps://github.com/josharian/go/commit/a5a9f7595338afbfd5f814956b17dc60e0bc586e\u003e\n\u003e .\n\u003e\n\u003e This issue is to discuss whether this would be worth adding to cmd/go in\n\u003e 1.8.\n\u003e\n\u003e Advantages:\n\u003e\n\u003e    - Nice clean way to understand where the time goes\n\u003e    - Could be useful for people to find slow-compiling packages, which\n\u003e    they could then decompose (or file issues for!)\n\u003e    - Could be useful for people to find compilation bottlenecks due to\n\u003e    dependencies, which they could then choose to break\n\u003e\n\u003e Disadvantages:\n\u003e\n\u003e    - Most helpful for people working on Go, not people using it\n\u003e    - Might inspire people to do foolish things to break up packages or\n\u003e    eliminate dependencies. For example, when I saw that compiling cmd/compile\n\u003e    was significantly linear due to the dependency chain cmd/internal/obj/x86\n\u003e    -\u003e cmd/compile/internal/ssa -\u003e cmd/compile/internal/gc, I was immediately\n\u003e    tempted to change the SSA rewrite rules to emit int literals (1234) rather\n\u003e    than instruction codes (x86.AMOVL), to break that first dependency. Not a\n\u003e    good idea. [image: trace_cmd_compile]\n\u003e    \u003chttps://cloud.githubusercontent.com/assets/67496/15376338/43fa3772-1d09-11e6-9fe3-8597e9756e9d.png\u003e\n\u003e\n\u003e Feedback requested.\n\u003e\n\u003e â€”\n\u003e You are receiving this because you are subscribed to this thread.\n\u003e Reply to this email directly or view it on GitHub\n\u003e \u003chttps://github.com/golang/go/issues/15736\u003e\n\u003e\n",
	"user": {
		"login": "randall77",
		"id": 6889504,
		"type": "User",
		"site_admin": false
	},
	"created_at": "2016-05-18T22:29:53Z",
	"updated_at": "2016-05-18T22:29:53Z"
}
