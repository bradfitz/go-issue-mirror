{
	"id": 99489296,
	"number": 12056,
	"state": "closed",
	"title": "runtime/trace: TestTraceSymbolize fails on solaris",
	"body": "Running on OmniOS 151015, using go 1.4.2 to bootstrap.\r\n\r\nI have the following environment variables set:\r\n\r\nGOROOT_BOOTSTRAP=/usr/local/go\r\nGOROOT_FINAL=/usr/local/go_1.5\r\nGOARCH=amd64\r\nGOOS=solaris\r\nCGO=1\r\n\r\nPATH=/usr/local/go/bin:/opt/gcc-5.1.0/bin:/opt/omni/bin:/usr/gnu/bin:/usr/bin:/usr/sbin:/sbin\r\n\r\nThis fails on both release-branch.go1.5 and master.\r\n\r\n    $ cd src\r\n    $ /bin/bash all.bash\r\n    ##### Building Go bootstrap tool.\r\n    cmd/dist\r\n\r\n    ##### Building Go toolchain using /usr/local/go.\r\n    bootstrap/internal/obj\r\n    ...\r\n    bootstrap/compile\r\n\r\n    ##### Building go_bootstrap for host, solaris/amd64.\r\n    runtime\r\n    ...\r\n    cmd/go\r\n\r\n    ##### Building packages and commands for solaris/amd64.\r\n    runtime\r\n    ...\r\n    cmd/pprof\r\n\r\n    ##### Testing packages.\r\n    ok      archive/tar     0.010s\r\n    ...\r\n    ok      runtime 34.324s\r\n    ok      runtime/debug   0.073s\r\n    ok      runtime/pprof   6.531s\r\n    --- FAIL: TestTraceSymbolize (0.09s)\r\n        trace_stack_test.go:273: did not match event GoSysCall at syscall.read:0\r\n        trace_stack_test.go:274: seen the following events of this type:\r\n        trace_stack_test.go:280:   net.socket:38\r\n        trace_stack_test.go:280:   net.internetSocket:160\r\n        trace_stack_test.go:280:   net.ListenTCP:329\r\n        trace_stack_test.go:280:   net.Listen:395\r\n        trace_stack_test.go:280:   runtime/trace_test.TestTraceSymbolize:81\r\n        trace_stack_test.go:280:   testing.tRunner:456\r\n        trace_stack_test.go:282: ---\r\n        trace_stack_test.go:280:   net.socket:38\r\n        trace_stack_test.go:280:   net.internetSocket:160\r\n        trace_stack_test.go:280:   net.ListenTCP:329\r\n        trace_stack_test.go:280:   net.Listen:395\r\n        trace_stack_test.go:280:   runtime/trace_test.TestTraceSymbolize:81\r\n        trace_stack_test.go:280:   testing.tRunner:456\r\n        trace_stack_test.go:282: ---\r\n        trace_stack_test.go:280:   net.socket:38\r\n        trace_stack_test.go:280:   net.internetSocket:160\r\n        trace_stack_test.go:280:   net.ListenTCP:329\r\n        trace_stack_test.go:280:   net.Listen:395\r\n        trace_stack_test.go:280:   runtime/trace_test.TestTraceSymbolize:81\r\n        trace_stack_test.go:280:   testing.tRunner:456\r\n        trace_stack_test.go:282: ---\r\n        trace_stack_test.go:280:   net.socket:38\r\n        trace_stack_test.go:280:   net.internetSocket:160\r\n        trace_stack_test.go:280:   net.ListenTCP:329\r\n        trace_stack_test.go:280:   net.Listen:395\r\n        trace_stack_test.go:280:   runtime/trace_test.TestTraceSymbolize:81\r\n        trace_stack_test.go:280:   testing.tRunner:456\r\n        trace_stack_test.go:282: ---\r\n        trace_stack_test.go:280:   net.socket:42\r\n        trace_stack_test.go:280:   net.internetSocket:160\r\n        trace_stack_test.go:280:   net.ListenTCP:329\r\n        trace_stack_test.go:280:   net.Listen:395\r\n        trace_stack_test.go:280:   runtime/trace_test.TestTraceSymbolize:81\r\n        trace_stack_test.go:280:   testing.tRunner:456\r\n        trace_stack_test.go:282: ---\r\n        trace_stack_test.go:280:   net.(*netFD).listenStream:156\r\n        trace_stack_test.go:280:   net.socket:76\r\n        trace_stack_test.go:280:   net.internetSocket:160\r\n        trace_stack_test.go:280:   net.ListenTCP:329\r\n        trace_stack_test.go:280:   net.Listen:395\r\n        trace_stack_test.go:280:   runtime/trace_test.TestTraceSymbolize:81\r\n        trace_stack_test.go:280:   testing.tRunner:456\r\n        trace_stack_test.go:282: ---\r\n        trace_stack_test.go:280:   net.socket:76\r\n        trace_stack_test.go:280:   net.internetSocket:160\r\n        trace_stack_test.go:280:   net.ListenTCP:329\r\n        trace_stack_test.go:280:   net.Listen:395\r\n        trace_stack_test.go:280:   runtime/trace_test.TestTraceSymbolize:81\r\n        trace_stack_test.go:280:   testing.tRunner:456\r\n        trace_stack_test.go:282: ---\r\n        trace_stack_test.go:280:   net.internetSocket:160\r\n        trace_stack_test.go:280:   net.ListenTCP:329\r\n        trace_stack_test.go:280:   net.Listen:395\r\n        trace_stack_test.go:280:   runtime/trace_test.TestTraceSymbolize:81\r\n        trace_stack_test.go:280:   testing.tRunner:456\r\n        trace_stack_test.go:282: ---\r\n        trace_stack_test.go:280:   net.socket:76\r\n        trace_stack_test.go:280:   net.internetSocket:160\r\n        trace_stack_test.go:280:   net.ListenTCP:329\r\n        trace_stack_test.go:280:   net.Listen:395\r\n        trace_stack_test.go:280:   runtime/trace_test.TestTraceSymbolize:81\r\n        trace_stack_test.go:280:   testing.tRunner:456\r\n        trace_stack_test.go:282: ---\r\n        trace_stack_test.go:280:   testing.tRunner:456\r\n        trace_stack_test.go:282: ---\r\n        trace_stack_test.go:280:   net.(*netFD).accept:400\r\n        trace_stack_test.go:280:   net.(*TCPListener).AcceptTCP:254\r\n        trace_stack_test.go:280:   net.(*TCPListener).Accept:264\r\n        trace_stack_test.go:280:   runtime/trace_test.TestTraceSymbolize.func10:86\r\n        trace_stack_test.go:282: ---\r\n        trace_stack_test.go:280:   runtime/trace_test.TestTraceSymbolize:92\r\n        trace_stack_test.go:280:   testing.tRunner:456\r\n        trace_stack_test.go:282: ---\r\n        trace_stack_test.go:280:   runtime/trace_test.TestTraceSymbolize:92\r\n        trace_stack_test.go:280:   testing.tRunner:456\r\n        trace_stack_test.go:282: ---\r\n        trace_stack_test.go:280:   os.(*File).Read:95\r\n        trace_stack_test.go:280:   runtime/trace_test.TestTraceSymbolize.func11:101\r\n        trace_stack_test.go:282: ---\r\n        trace_stack_test.go:282: ---\r\n        trace_stack_test.go:282: ---\r\n        trace_stack_test.go:282: ---\r\n        trace_stack_test.go:282: ---\r\n        trace_stack_test.go:280:   net.socket:38\r\n        trace_stack_test.go:280:   net.internetSocket:160\r\n        trace_stack_test.go:280:   net.dialTCP:171\r\n        trace_stack_test.go:280:   net.dialSingle:364\r\n        trace_stack_test.go:280:   net.dialSerial.func1:336\r\n        trace_stack_test.go:280:   net.dial:40\r\n        trace_stack_test.go:280:   net.dialSerial:338\r\n        trace_stack_test.go:280:   net.(*Dialer).Dial:232\r\n        trace_stack_test.go:280:   net.Dial:186\r\n        trace_stack_test.go:280:   runtime/trace_test.TestTraceSymbolize:118\r\n        trace_stack_test.go:280:   testing.tRunner:456\r\n        trace_stack_test.go:282: ---\r\n        trace_stack_test.go:280:   net.socket:38\r\n        trace_stack_test.go:280:   net.internetSocket:160\r\n        trace_stack_test.go:280:   net.dialTCP:171\r\n        trace_stack_test.go:280:   net.dialSingle:364\r\n        trace_stack_test.go:280:   net.dialSerial.func1:336\r\n        trace_stack_test.go:280:   net.dial:40\r\n        trace_stack_test.go:280:   net.dialSerial:338\r\n        trace_stack_test.go:280:   net.(*Dialer).Dial:232\r\n        trace_stack_test.go:280:   net.Dial:186\r\n        trace_stack_test.go:280:   runtime/trace_test.TestTraceSymbolize:118\r\n        trace_stack_test.go:280:   testing.tRunner:456\r\n        trace_stack_test.go:282: ---\r\n        trace_stack_test.go:280:   net.socket:38\r\n        trace_stack_test.go:280:   net.internetSocket:160\r\n        trace_stack_test.go:280:   net.dialTCP:171\r\n        trace_stack_test.go:280:   net.dialSingle:364\r\n        trace_stack_test.go:280:   net.dialSerial.func1:336\r\n        trace_stack_test.go:280:   net.dial:40\r\n        trace_stack_test.go:280:   net.dialSerial:338\r\n        trace_stack_test.go:280:   net.(*Dialer).Dial:232\r\n        trace_stack_test.go:280:   net.Dial:186\r\n        trace_stack_test.go:280:   runtime/trace_test.TestTraceSymbolize:118\r\n        trace_stack_test.go:280:   testing.tRunner:456\r\n        trace_stack_test.go:282: ---\r\n        trace_stack_test.go:280:   net.socket:38\r\n        trace_stack_test.go:280:   net.internetSocket:160\r\n        trace_stack_test.go:280:   net.dialTCP:171\r\n        trace_stack_test.go:280:   net.dialSingle:364\r\n        trace_stack_test.go:280:   net.dialSerial.func1:336\r\n        trace_stack_test.go:280:   net.dial:40\r\n        trace_stack_test.go:280:   net.dialSerial:338\r\n        trace_stack_test.go:280:   net.(*Dialer).Dial:232\r\n        trace_stack_test.go:280:   net.Dial:186\r\n        trace_stack_test.go:280:   runtime/trace_test.TestTraceSymbolize:118\r\n        trace_stack_test.go:280:   testing.tRunner:456\r\n        trace_stack_test.go:282: ---\r\n        trace_stack_test.go:280:   net.socket:42\r\n        trace_stack_test.go:280:   net.internetSocket:160\r\n        trace_stack_test.go:280:   net.dialTCP:171\r\n        trace_stack_test.go:280:   net.dialSingle:364\r\n        trace_stack_test.go:280:   net.dialSerial.func1:336\r\n        trace_stack_test.go:280:   net.dial:40\r\n        trace_stack_test.go:280:   net.dialSerial:338\r\n        trace_stack_test.go:280:   net.(*Dialer).Dial:232\r\n        trace_stack_test.go:280:   net.Dial:186\r\n        trace_stack_test.go:280:   runtime/trace_test.TestTraceSymbolize:118\r\n        trace_stack_test.go:280:   testing.tRunner:456\r\n        trace_stack_test.go:282: ---\r\n        trace_stack_test.go:280:   net.(*netFD).dial:137\r\n        trace_stack_test.go:280:   net.socket:89\r\n        trace_stack_test.go:280:   net.internetSocket:160\r\n        trace_stack_test.go:280:   net.dialTCP:171\r\n        trace_stack_test.go:280:   net.dialSingle:364\r\n        trace_stack_test.go:280:   net.dialSerial.func1:336\r\n        trace_stack_test.go:280:   net.dial:40\r\n        trace_stack_test.go:280:   net.dialSerial:338\r\n        trace_stack_test.go:280:   net.(*Dialer).Dial:232\r\n        trace_stack_test.go:280:   net.Dial:186\r\n        trace_stack_test.go:280:   runtime/trace_test.TestTraceSymbolize:118\r\n        trace_stack_test.go:280:   testing.tRunner:456\r\n        trace_stack_test.go:282: ---\r\n        trace_stack_test.go:280:   net.(*netFD).accept:400\r\n        trace_stack_test.go:280:   net.(*TCPListener).AcceptTCP:254\r\n        trace_stack_test.go:280:   net.(*TCPListener).Accept:264\r\n        trace_stack_test.go:280:   runtime/trace_test.TestTraceSymbolize.func10:86\r\n        trace_stack_test.go:282: ---\r\n        trace_stack_test.go:280:   net.(*netFD).dial:137\r\n        trace_stack_test.go:280:   net.socket:89\r\n        trace_stack_test.go:280:   net.internetSocket:160\r\n        trace_stack_test.go:280:   net.dialTCP:171\r\n        trace_stack_test.go:280:   net.dialSingle:364\r\n        trace_stack_test.go:280:   net.dialSerial.func1:336\r\n        trace_stack_test.go:280:   net.dial:40\r\n        trace_stack_test.go:280:   net.dialSerial:338\r\n        trace_stack_test.go:280:   net.(*Dialer).Dial:232\r\n        trace_stack_test.go:280:   net.Dial:186\r\n        trace_stack_test.go:280:   runtime/trace_test.TestTraceSymbolize:118\r\n        trace_stack_test.go:280:   testing.tRunner:456\r\n        trace_stack_test.go:282: ---\r\n        trace_stack_test.go:280:   net.socket:89\r\n        trace_stack_test.go:280:   net.internetSocket:160\r\n        trace_stack_test.go:280:   net.dialTCP:171\r\n        trace_stack_test.go:280:   net.dialSingle:364\r\n        trace_stack_test.go:280:   net.dialSerial.func1:336\r\n        trace_stack_test.go:280:   net.dial:40\r\n        trace_stack_test.go:280:   net.dialSerial:338\r\n        trace_stack_test.go:280:   net.(*Dialer).Dial:232\r\n        trace_stack_test.go:280:   net.Dial:186\r\n        trace_stack_test.go:280:   runtime/trace_test.TestTraceSymbolize:118\r\n        trace_stack_test.go:280:   testing.tRunner:456\r\n        trace_stack_test.go:282: ---\r\n        trace_stack_test.go:280:   net.(*netFD).accept:400\r\n        trace_stack_test.go:280:   net.(*TCPListener).AcceptTCP:254\r\n        trace_stack_test.go:280:   net.(*TCPListener).Accept:264\r\n        trace_stack_test.go:280:   runtime/trace_test.TestTraceSymbolize.func10:86\r\n        trace_stack_test.go:282: ---\r\n        trace_stack_test.go:280:   net.(*netFD).accept:400\r\n        trace_stack_test.go:280:   net.(*TCPListener).AcceptTCP:254\r\n        trace_stack_test.go:280:   net.(*TCPListener).Accept:264\r\n        trace_stack_test.go:280:   runtime/trace_test.TestTraceSymbolize.func10:86\r\n        trace_stack_test.go:282: ---\r\n        trace_stack_test.go:280:   net.(*netFD).accept:400\r\n        trace_stack_test.go:280:   net.(*TCPListener).AcceptTCP:254\r\n        trace_stack_test.go:280:   net.(*TCPListener).Accept:264\r\n        trace_stack_test.go:280:   runtime/trace_test.TestTraceSymbolize.func10:86\r\n        trace_stack_test.go:282: ---\r\n        trace_stack_test.go:280:   net.newTCPConn:51\r\n        trace_stack_test.go:280:   net.dialTCP:207\r\n        trace_stack_test.go:280:   net.dialSingle:364\r\n        trace_stack_test.go:280:   net.dialSerial.func1:336\r\n        trace_stack_test.go:280:   net.dial:40\r\n        trace_stack_test.go:280:   net.dialSerial:338\r\n        trace_stack_test.go:280:   net.(*Dialer).Dial:232\r\n        trace_stack_test.go:280:   net.Dial:186\r\n        trace_stack_test.go:280:   runtime/trace_test.TestTraceSymbolize:118\r\n        trace_stack_test.go:280:   testing.tRunner:456\r\n        trace_stack_test.go:282: ---\r\n        trace_stack_test.go:280:   net.(*TCPListener).AcceptTCP:254\r\n        trace_stack_test.go:280:   net.(*TCPListener).Accept:264\r\n        trace_stack_test.go:280:   runtime/trace_test.TestTraceSymbolize.func10:86\r\n        trace_stack_test.go:282: ---\r\n        trace_stack_test.go:280:   net.(*netFD).Close:199\r\n        trace_stack_test.go:280:   net.(*conn).Close:156\r\n        trace_stack_test.go:280:   runtime/trace_test.TestTraceSymbolize:122\r\n        trace_stack_test.go:280:   testing.tRunner:456\r\n        trace_stack_test.go:282: ---\r\n        trace_stack_test.go:280:   net.newTCPConn:51\r\n        trace_stack_test.go:280:   net.(*TCPListener).AcceptTCP:258\r\n        trace_stack_test.go:280:   net.(*TCPListener).Accept:264\r\n        trace_stack_test.go:280:   runtime/trace_test.TestTraceSymbolize.func10:86\r\n        trace_stack_test.go:282: ---\r\n        trace_stack_test.go:280:   net.(*netFD).Close:199\r\n        trace_stack_test.go:280:   net.(*conn).Close:156\r\n        trace_stack_test.go:280:   runtime/trace_test.TestTraceSymbolize.func10:90\r\n        trace_stack_test.go:282: ---\r\n        trace_stack_test.go:280:   os.(*File).Write:139\r\n        trace_stack_test.go:280:   runtime/trace_test.TestTraceSymbolize:124\r\n        trace_stack_test.go:280:   testing.tRunner:456\r\n        trace_stack_test.go:282: ---\r\n    FAIL\r\n    FAIL    runtime/trace   19.589s\r\n    ok      sort    0.083s\r\n    ...\r\n    ok      cmd/vet 4.671s\r\n    2015/08/06 11:15:31 Failed: exit status 1\r\n\r\n",
	"user": {
		"login": "kimshrier",
		"id": 2762915,
		"type": "User",
		"site_admin": false
	},
	"labels": [
		{
			"name": "OS-Solaris"
		}
	],
	"comments": 8,
	"closed_at": "2015-09-17T09:06:42Z",
	"created_at": "2015-08-06T17:43:12Z",
	"updated_at": "2015-09-17T09:06:42Z",
	"milestone": {
		"id": 1182837,
		"number": 25,
		"title": "Go1.6Early"
	}
}
