{
	"id": 177704369,
	"number": 17154,
	"state": "closed",
	"title": "collect2.exe: error: ld returned 1 exit status ",
	"body": "Please answer these questions before submitting your issue. Thanks!\r\n\r\n### What version of Go are you using (`go version`)?\r\ngo version go1.7 windows/amd64\r\n\r\n### What operating system and processor architecture are you using (`go env`)?\r\n```\r\nset GOARCH=amd64\r\nset GOBIN=\r\nset GOEXE=.exe\r\nset GOHOSTARCH=amd64\r\nset GOHOSTOS=windows\r\nset GOOS=windows\r\nset GOPATH=C:\\Go_workspace\r\nset GORACE=\r\nset GOROOT=C:\\Go\r\nset GOTOOLDIR=C:\\Go\\pkg\\tool\\windows_amd64\r\nset CC=gcc\r\nset GOGCCFLAGS=-m64 -mthreads -fmessage-length=0 -fdebug-prefix-map=C:\\Users\\hisha\\AppData\\Local\\Temp\\go-build226207278=/tmp/go-build -gno-record-gcc-switches\r\nset CXX=g++\r\nset CGO_ENABLED=1\r\n```\r\n\r\n### What did you do?\r\ni am using iris framework and gorm every thing was ok until using gorm\r\n```\r\n├───controllers\r\n├───models\r\n├───static\r\n│   ├───css\r\n│   │   └───images\r\n│   │       └───prettyPhoto\r\n│   │           ├───dark_rounded\r\n│   │           ├───dark_square\r\n│   │           ├───default\r\n│   │           ├───facebook\r\n│   │           ├───light_rounded\r\n│   │           └───light_square\r\n│   ├───fonts\r\n│   ├───img\r\n│   │   ├───clients\r\n│   │   ├───portfolio\r\n│   │   └───team\r\n│   └───js\r\n└───templates\r\n```\r\nmain.go : \r\n\r\n```\r\npackage main\r\n\r\n\r\nimport (\r\n\t\"mywebsite/controllers\"\r\n\t\"mywebsite/models\"\r\n\r\n\t\"github.com/kataras/go-template/django\"\r\n\t\"github.com/kataras/iris\"\r\n)\r\n\r\nfunc main() {\r\n\tiris.UseTemplate(django.New()).Directory(\"templates\", \".html\")\r\n\tiris.StaticServe(\"./static\", \"/public\")\r\n\tiris.Handle(\"GET\", \"/\", controllers.MainHandler{})\r\n\tmodels.DB_init()\r\n\tiris.Listen(\":8080\")\r\n}\r\n\r\n```\r\n\r\n\r\nmodels.go :\r\n```\r\npackage models\r\n\r\nimport (\r\n\t\"time\"\r\n\r\n\t\"github.com/jinzhu/gorm\"\r\n\t_ \"github.com/jinzhu/gorm/dialects/sqlite\"\r\n)\r\n\r\ntype User struct {\r\n\tgorm.Model\r\n\tFirstName string `gorm:\"size:25\"`\r\n\tLastName  string `gorm:\"size:25\"`\r\n\tEmail     string `gorm:\"type:varchar(60);unique\"`\r\n\tPassword  string\r\n\tIsAdmin   bool\r\n\tLastLogin time.Time\r\n\tPosts     []Post `gorm:\"ForeignKey:UserID;\"`\r\n}\r\ntype Post struct {\r\n\tgorm.Model\r\n\tTitle   string `gorm:\"type:varchar(60)\"`\r\n\tContent string `gorm:\"type:text\"`\r\n\tUserID  uint\r\n}\r\n\r\n//Init Function Initialize database and Migrate Scheme\r\nfunc DB_init() {\r\n\tdb, err := gorm.Open(\"sqlite3\", \"db.db\")\r\n\tdefer db.Close()\r\n\tif err != nil {\r\n\t\tpanic(\"Failed to Connect to Database\")\r\n\t}\r\n\tdb.AutoMigrate(\u0026User{}, \u0026Post{})\r\n}\r\n\r\n```\r\ncontrollers : \r\n```\r\npackage controllers\r\n\r\nimport \"github.com/kataras/iris\"\r\n\r\ntype MainHandler struct {\r\n}\r\n\r\nfunc (c MainHandler) Serve(ctx *iris.Context) {\r\n\tctx.MustRender(\"home.html\", map[string]interface{}{\"message\": \"Hi Our Visitor\"}, iris.RenderOptions{\"gzip\": true})\r\n}\r\n\r\n```\r\n### What did you expect to see?\r\n```\r\nC:\\Go_workspace\\src\\mywebsite\u003eiris run main.go\r\n         _____      _\r\n        |_   _|    (_)\r\n          | |  ____ _  ___\r\n          | | | __|| |/ __|\r\n         _| |_| |  | |\\__ \\\r\n        |_____|_|  |_||___/ 4.2.7\r\n\r\nMon, 19 Sep 2016 04:50:46 GMT: Running at 0.0.0.0:8080\r\n```\r\n\r\n### What did you see instead?\r\n```\r\ngo run \"c:\\Go_workspace\\src\\mywebsite\\main.go\"\r\n# command-line-arguments\r\nC:\\Go\\pkg\\tool\\windows_amd64\\link.exe: running gcc failed: exit status 1\r\nC:\\Users\\hisha\\AppData\\Local\\Temp\\go-link-101492155\\go.o:(.text+0x920260): multiple definition of `r2r1kp'\r\nC:\\Users\\hisha\\AppData\\Local\\Temp\\go-link-101492155\\go.o:(.text+0x920270): first defined here\r\nC:\\Users\\hisha\\AppData\\Local\\Temp\\go-link-101492155\\go.o:(.text+0x9202a0): multiple definition of `r4r3kp'\r\nC:\\Users\\hisha\\AppData\\Local\\Temp\\go-link-101492155\\go.o:(.text+0x920290): first defined here\r\nC:\\Users\\hisha\\AppData\\Local\\Temp\\go-link-101492155\\go.o:(.text+0x91eae0): multiple definition of `r5kp'\r\nC:\\Users\\hisha\\AppData\\Local\\Temp\\go-link-101492155\\go.o:(.text+0x91ead8): first defined here\r\nC:\\Users\\hisha\\AppData\\Local\\Temp\\go-link-101492155\\go.o:(.text+0x920360): multiple definition of `rupolykp'\r\nC:\\Users\\hisha\\AppData\\Local\\Temp\\go-link-101492155\\go.o:(.text+0x920350): first defined here\r\ncollect2.exe: error: ld returned 1 exit status\r\n```\r\n```\r\niris run main.go\r\n# command-line-arguments\r\nC:\\Go\\pkg\\tool\\windows_amd64\\link.exe: running gcc failed: exit status 1\r\nC:\\Users\\hisha\\AppData\\Local\\Temp\\go-link-217894499\\go.o:(.text+0x920260): multiple definition of `r2r1kp'\r\nC:\\Users\\hisha\\AppData\\Local\\Temp\\go-link-217894499\\go.o:(.text+0x920270): first defined here\r\nC:\\Users\\hisha\\AppData\\Local\\Temp\\go-link-217894499\\go.o:(.text+0x9202a0): multiple definition of `r4r3kp'\r\nC:\\Users\\hisha\\AppData\\Local\\Temp\\go-link-217894499\\go.o:(.text+0x920290): first defined here\r\nC:\\Users\\hisha\\AppData\\Local\\Temp\\go-link-217894499\\go.o:(.text+0x91eae0): multiple definition of `r5kp'\r\nC:\\Users\\hisha\\AppData\\Local\\Temp\\go-link-217894499\\go.o:(.text+0x91ead8): first defined here\r\nC:\\Users\\hisha\\AppData\\Local\\Temp\\go-link-217894499\\go.o:(.text+0x920360): multiple definition of `rupolykp'\r\nC:\\Users\\hisha\\AppData\\Local\\Temp\\go-link-217894499\\go.o:(.text+0x920350): first defined here\r\ncollect2.exe: error: ld returned 1 exit status\r\n\r\n\r\nError: Failed to build the program.\r\n```\r\n\r\n@gopherbot \r\n",
	"user": {
		"login": "hishamwaleed",
		"id": 15879346,
		"type": "User",
		"site_admin": false
	},
	"comments": 2,
	"closed_at": "2016-09-19T15:00:38Z",
	"created_at": "2016-09-19T05:02:16Z",
	"updated_at": "2016-09-19T15:01:37Z"
}
