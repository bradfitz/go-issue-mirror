{
	"id": 51282608,
	"number": 4764,
	"state": "closed",
	"title": "cmd/go: vet fails with \"no such file or directory\"",
	"body": "\u003cpre\u003e% go version\ngo version devel +46db2dd7ba7c Wed Feb 06 00:33:25 2013 +0800 darwin/amd64\n% cd $GOROOT/src/pkg\n% go vet ./crypto/rand\nvet: rand_windows.go: open rand_windows.go: no such file or directory\nexit status 2\n% cd crypto/rand/\n% pwd\n$GOROOT/src/pkg/crypto/rand\n% go vet\n% echo $?\n0\n\nThe problem is that when running ``go vet`` from outside the package, it returns\n\u0026quot;no such file or directory\u0026quot; for files that would not be linked with the\npackage (I'm on Darwin, so rand_windows.go is ignored). Here is the output for the\nsyscall package:\n\n% go vet syscall\nvet: creds_test.go: open creds_test.go: no such file or directory\nvet: dir_plan9.go: open dir_plan9.go: no such file or directory\nvet: dll_windows.go: open dll_windows.go: no such file or directory\nvet: env_plan9.go: open env_plan9.go: no such file or directory\nvet: env_windows.go: open env_windows.go: no such file or directory\nvet: exec_linux.go: open exec_linux.go: no such file or directory\nvet: exec_plan9.go: open exec_plan9.go: no such file or directory\nvet: exec_windows.go: open exec_windows.go: no such file or directory\nvet: lsf_linux.go: open lsf_linux.go: no such file or directory\nvet: netlink_linux.go: open netlink_linux.go: no such file or directory\nvet: race.go: open race.go: no such file or directory\nvet: route_freebsd.go: open route_freebsd.go: no such file or directory\nvet: route_netbsd.go: open route_netbsd.go: no such file or directory\nvet: route_openbsd.go: open route_openbsd.go: no such file or directory\nvet: security_windows.go: open security_windows.go: no such file or directory\nvet: sockcmsg_linux.go: open sockcmsg_linux.go: no such file or directory\nvet: syscall_darwin_386.go: open syscall_darwin_386.go: no such file or directory\nvet: syscall_freebsd.go: open syscall_freebsd.go: no such file or directory\nvet: syscall_freebsd_386.go: open syscall_freebsd_386.go: no such file or directory\nvet: syscall_freebsd_amd64.go: open syscall_freebsd_amd64.go: no such file or directory\nvet: syscall_freebsd_arm.go: open syscall_freebsd_arm.go: no such file or directory\nvet: syscall_linux.go: open syscall_linux.go: no such file or directory\nvet: syscall_linux_386.go: open syscall_linux_386.go: no such file or directory\nvet: syscall_linux_amd64.go: open syscall_linux_amd64.go: no such file or directory\nvet: syscall_linux_arm.go: open syscall_linux_arm.go: no such file or directory\nvet: syscall_netbsd.go: open syscall_netbsd.go: no such file or directory\nvet: syscall_netbsd_386.go: open syscall_netbsd_386.go: no such file or directory\nvet: syscall_netbsd_amd64.go: open syscall_netbsd_amd64.go: no such file or directory\nvet: syscall_openbsd.go: open syscall_openbsd.go: no such file or directory\nvet: syscall_openbsd_386.go: open syscall_openbsd_386.go: no such file or directory\nvet: syscall_openbsd_amd64.go: open syscall_openbsd_amd64.go: no such file or directory\nvet: syscall_plan9.go: open syscall_plan9.go: no such file or directory\nvet: syscall_plan9_386.go: open syscall_plan9_386.go: no such file or directory\nvet: syscall_plan9_amd64.go: open syscall_plan9_amd64.go: no such file or directory\nvet: syscall_windows.go: open syscall_windows.go: no such file or directory\nvet: syscall_windows_386.go: open syscall_windows_386.go: no such file or directory\nvet: syscall_windows_amd64.go: open syscall_windows_amd64.go: no such file or directory\nvet: syscall_windows_test.go: open syscall_windows_test.go: no such file or directory\nvet: types_darwin.go: open types_darwin.go: no such file or directory\nvet: types_freebsd.go: open types_freebsd.go: no such file or directory\nvet: types_linux.go: open types_linux.go: no such file or directory\nvet: types_netbsd.go: open types_netbsd.go: no such file or directory\nvet: types_openbsd.go: open types_openbsd.go: no such file or directory\nvet: zerrors_darwin_386.go: open zerrors_darwin_386.go: no such file or directory\nvet: zerrors_freebsd_386.go: open zerrors_freebsd_386.go: no such file or directory\nvet: zerrors_freebsd_amd64.go: open zerrors_freebsd_amd64.go: no such file or directory\nvet: zerrors_freebsd_arm.go: open zerrors_freebsd_arm.go: no such file or directory\nvet: zerrors_linux_386.go: open zerrors_linux_386.go: no such file or directory\nvet: zerrors_linux_amd64.go: open zerrors_linux_amd64.go: no such file or directory\nvet: zerrors_linux_arm.go: open zerrors_linux_arm.go: no such file or directory\nvet: zerrors_netbsd_386.go: open zerrors_netbsd_386.go: no such file or directory\nvet: zerrors_netbsd_amd64.go: open zerrors_netbsd_amd64.go: no such file or directory\nvet: zerrors_openbsd_386.go: open zerrors_openbsd_386.go: no such file or directory\nvet: zerrors_openbsd_amd64.go: open zerrors_openbsd_amd64.go: no such file or directory\nvet: zerrors_plan9_386.go: open zerrors_plan9_386.go: no such file or directory\nvet: zerrors_plan9_amd64.go: open zerrors_plan9_amd64.go: no such file or directory\nvet: zerrors_windows.go: open zerrors_windows.go: no such file or directory\nvet: zerrors_windows_386.go: open zerrors_windows_386.go: no such file or directory\nvet: zerrors_windows_amd64.go: open zerrors_windows_amd64.go: no such file or directory\nvet: zsyscall_darwin_386.go: open zsyscall_darwin_386.go: no such file or directory\nvet: zsyscall_freebsd_386.go: open zsyscall_freebsd_386.go: no such file or directory\nvet: zsyscall_freebsd_amd64.go: open zsyscall_freebsd_amd64.go: no such file or directory\nvet: zsyscall_freebsd_arm.go: open zsyscall_freebsd_arm.go: no such file or directory\nvet: zsyscall_linux_386.go: open zsyscall_linux_386.go: no such file or directory\nvet: zsyscall_linux_amd64.go: open zsyscall_linux_amd64.go: no such file or directory\nvet: zsyscall_linux_arm.go: open zsyscall_linux_arm.go: no such file or directory\nvet: zsyscall_netbsd_386.go: open zsyscall_netbsd_386.go: no such file or directory\nvet: zsyscall_netbsd_amd64.go: open zsyscall_netbsd_amd64.go: no such file or directory\nvet: zsyscall_openbsd_386.go: open zsyscall_openbsd_386.go: no such file or directory\nvet: zsyscall_openbsd_amd64.go: open zsyscall_openbsd_amd64.go: no such file or directory\nvet: zsyscall_plan9_386.go: open zsyscall_plan9_386.go: no such file or directory\nvet: zsyscall_plan9_amd64.go: open zsyscall_plan9_amd64.go: no such file or directory\nvet: zsyscall_windows_386.go: open zsyscall_windows_386.go: no such file or directory\nvet: zsyscall_windows_amd64.go: open zsyscall_windows_amd64.go: no such file or directory\nvet: zsysctl_openbsd.go: open zsysctl_openbsd.go: no such file or directory\nvet: zsysnum_darwin_386.go: open zsysnum_darwin_386.go: no such file or directory\nvet: zsysnum_freebsd_386.go: open zsysnum_freebsd_386.go: no such file or directory\nvet: zsysnum_freebsd_amd64.go: open zsysnum_freebsd_amd64.go: no such file or directory\nvet: zsysnum_freebsd_arm.go: open zsysnum_freebsd_arm.go: no such file or directory\nvet: zsysnum_linux_386.go: open zsysnum_linux_386.go: no such file or directory\nvet: zsysnum_linux_amd64.go: open zsysnum_linux_amd64.go: no such file or directory\nvet: zsysnum_linux_arm.go: open zsysnum_linux_arm.go: no such file or directory\nvet: zsysnum_netbsd_386.go: open zsysnum_netbsd_386.go: no such file or directory\nvet: zsysnum_netbsd_amd64.go: open zsysnum_netbsd_amd64.go: no such file or directory\nvet: zsysnum_openbsd_386.go: open zsysnum_openbsd_386.go: no such file or directory\nvet: zsysnum_openbsd_amd64.go: open zsysnum_openbsd_amd64.go: no such file or directory\nvet: zsysnum_plan9_386.go: open zsysnum_plan9_386.go: no such file or directory\nvet: zsysnum_plan9_amd64.go: open zsysnum_plan9_amd64.go: no such file or directory\nvet: zsysnum_windows_386.go: open zsysnum_windows_386.go: no such file or directory\nvet: zsysnum_windows_amd64.go: open zsysnum_windows_amd64.go: no such file or directory\nvet: ztypes_darwin_386.go: open ztypes_darwin_386.go: no such file or directory\nvet: ztypes_freebsd_386.go: open ztypes_freebsd_386.go: no such file or directory\nvet: ztypes_freebsd_amd64.go: open ztypes_freebsd_amd64.go: no such file or directory\nvet: ztypes_freebsd_arm.go: open ztypes_freebsd_arm.go: no such file or directory\nvet: ztypes_linux_386.go: open ztypes_linux_386.go: no such file or directory\nvet: ztypes_linux_amd64.go: open ztypes_linux_amd64.go: no such file or directory\nvet: ztypes_linux_arm.go: open ztypes_linux_arm.go: no such file or directory\nvet: ztypes_netbsd_386.go: open ztypes_netbsd_386.go: no such file or directory\nvet: ztypes_netbsd_amd64.go: open ztypes_netbsd_amd64.go: no such file or directory\nvet: ztypes_openbsd_386.go: open ztypes_openbsd_386.go: no such file or directory\nvet: ztypes_openbsd_amd64.go: open ztypes_openbsd_amd64.go: no such file or directory\nvet: ztypes_plan9_386.go: open ztypes_plan9_386.go: no such file or directory\nvet: ztypes_plan9_amd64.go: open ztypes_plan9_amd64.go: no such file or directory\nvet: ztypes_windows.go: open ztypes_windows.go: no such file or directory\nvet: ztypes_windows_386.go: open ztypes_windows_386.go: no such file or directory\nvet: ztypes_windows_amd64.go: open ztypes_windows_amd64.go: no such file or directory\nexit status 2\n\nIt also fails on commands that declare the \u0026quot;documentation\u0026quot; package in the\ndoc.go file:\n\n% cd $GOROOT/src/cmd\n% go vet ./gofmt\nvet: doc.go: open doc.go: no such file or directory\nexit status 2\n\nAgain, if I cd to $GOROOT/src/cmd/gofmt or $GOROOT/src/pkg/syscall and run\n\u0026quot;naked\u0026quot; go vet, everything works fine.\u003c/pre\u003e",
	"user": {
		"login": "fsouza",
		"id": 108725,
		"type": "User",
		"site_admin": false
	},
	"labels": [
		{
			"name": "FrozenDueToAge"
		}
	],
	"assignee": {
		"login": "rsc",
		"id": 104030,
		"type": "User",
		"site_admin": false
	},
	"comments": 2,
	"closed_at": "2014-12-08T10:25:17Z",
	"created_at": "2013-02-05T16:49:52Z",
	"updated_at": "2016-06-24T22:32:26Z",
	"milestone": {
		"id": 1067199,
		"number": 11,
		"title": "Go1.1"
	}
}
