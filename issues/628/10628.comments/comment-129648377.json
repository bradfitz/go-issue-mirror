{
	"id": 129648377,
	"body": "I turned of gocheck's pretty printing of the panic backtrace and found something interesting\r\n```\r\nwinton-01(~/src/github.com/juju/juju/featuretests) % env GOTRACEBACK=crash ./featuretests.test \r\npanic: runtime error: makeslice: cap out of range\r\n\r\ngoroutine 11 [running]:\r\nruntime.gopanic(0x14761e0, 0xc82027e020)\r\n        /home/ubuntu/go/src/runtime/panic.go:461 +0x39c fp=0xc820483e20 sp=0xc820483da0\r\nruntime.makeslice(0x10a0280, 0x0, 0xf46182595c618084, 0x0, 0x0, 0x0)\r\n        /home/ubuntu/go/src/runtime/slice.go:30 +0x1b8 fp=0xc820483e70 sp=0xc820483e20\r\nstrconv.quoteWith(0xf8410188e8410050, 0xf8410190e8410058, 0xc820020022, 0x0, 0x0)\r\n        /home/ubuntu/go/src/strconv/quote.go:17 +0x80 fp=0xc820483f30 sp=0xc820483e70\r\nstrconv.Quote(0xf8410188e8410050, 0xf8410190e8410058, 0x0, 0x0)\r\n        /home/ubuntu/go/src/strconv/quote.go:93 +0x50 fp=0xc820483f60 sp=0xc820483f30\r\nfmt.(*fmt).fmt_q(0xc8201dc398, 0xf8410188e8410050, 0xf8410190e8410058)\r\n        /home/ubuntu/go/src/fmt/format.go:378 +0x150 fp=0xc820483fe0 sp=0xc820483f60\r\nfmt.(*pp).fmtString(0xc8201dc340, 0xf8410188e8410050, 0xf8410190e8410058, 0xc800000071)\r\n        /home/ubuntu/go/src/fmt/print.go:527 +0xfc fp=0xc820484010 sp=0xc820483fe0\r\nfmt.(*pp).printArg(0xc8201dc340, 0x10cc860, 0xc82027e000, 0x71, 0x0, 0x0)\r\n        /home/ubuntu/go/src/fmt/print.go:797 +0xed8 fp=0xc8204841c8 sp=0xc820484010\r\nfmt.(*pp).doPrintf(0xc8201dc340, 0xc820484610, 0x18, 0xc82027e010, 0x1, 0x1)\r\n        /home/ubuntu/go/src/fmt/print.go:1219 +0x1a20 fp=0xc820484580 sp=0xc8204841c8\r\nfmt.Sprintf(0xc820484610, 0x18, 0xc82027e010, 0x1, 0x1, 0x0, 0x0)\r\n        /home/ubuntu/go/src/fmt/print.go:203 +0x68 fp=0xc8204845d0 sp=0xc820484580\r\ngithub.com/juju/errors.wrap(0x0, 0x0, 0x171b7c0, 0xe, 0x16fd2b0, 0xa, 0xc82027e010, 0x1, 0x1, 0x0, ...)\r\n        /home/ubuntu/src/github.com/juju/errors/errortypes.go:13 +0xa8 fp=0xc820484688 sp=0xc8204845d0\r\ngithub.com/juju/errors.NotFoundf(0x171b7c0, 0xe, 0xc820484890, 0x1, 0x1, 0x0, 0x0)\r\n        /home/ubuntu/src/github.com/juju/errors/errortypes.go:29 +0xfc fp=0xc8204847a8 sp=0xc820484688\r\ngithub.com/juju/juju/environs/configstore.CacheFile.readInfo(0xc8202ac720, 0xc8202ac750, 0xc8202ac780, 0xf8410188e8410050, 0xf8410190e8410058, 0x0, 0x0, 0x0)\r\n        /home/ubuntu/src/github.com/juju/juju/environs/configstore/cachefile.go:101 +0x770 fp=0xc820484a38 sp=0xc8204847a8\r\ngithub.com/juju/juju/environs/configstore.(*diskStore).readCacheFile(0xc820269f70, 0xf8410188e8410050, 0xf8410190e8410058, 0x0, 0x0, 0x0)\r\n        /home/ubuntu/src/github.com/juju/juju/environs/configstore/disk.go:217 +0x144 fp=0xc820484ae0 sp=0xc820484a38\r\ngithub.com/juju/juju/environs/configstore.(*diskStore).ReadInfo(0xc820269f70, 0xf8410188e8410050, 0xf8410190e8410058, 0x0, 0x0, 0x0, 0x0)\r\n        /home/ubuntu/src/github.com/juju/juju/environs/configstore/disk.go:195 +0x190 fp=0xc820484b90 sp=0xc820484ae0\r\ngithub.com/juju/juju/cmd/envcmd.ConnectionInfoForName(0xf8410188e8410050, 0xf8410190e8410058, 0x0, 0x0, 0x0, 0x0)\r\n        /home/ubuntu/src/github.com/juju/juju/cmd/envcmd/environmentcommand.go:198 +0x104 fp=0xc820484c20 sp=0xc820484b90\r\ngithub.com/juju/juju/cmd/envcmd.(*SysCommandBase).ConnectionInfo(0x478420, 0x0, 0x0, 0x0, 0x0)\r\n        /home/ubuntu/src/github.com/juju/juju/cmd/envcmd/systemcommand.go:130 +0xec fp=0xc820484c98 sp=0xc820484c20\r\ngithub.com/juju/juju/cmd/envcmd.(*SysCommandBase).ConnectionEndpoint(0x478420, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, ...)\r\n        /home/ubuntu/src/github.com/juju/juju/cmd/envcmd/systemcommand.go:116 +0x5c fp=0xc820484df8 sp=0xc820484c98\r\ngithub.com/juju/juju/cmd/juju/user.(*AddCommand).ConnectionEndpoint(0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, ...)\r\n        \u003cautogenerated\u003e:17 +0x30 fp=0xc820484e00 sp=0xc820484df8\r\ngithub.com/juju/juju/cmd/juju/user.writeServerFile(0x3fff846cae58, 0xc82040ac80, 0xc82040b590, 0x16fb618, 0x4, 0xc8202b7900, 0x18, 0xc8202ac5a0, 0x2c, 0x0, ...)\r\n        /home/ubuntu/src/github.com/juju/juju/cmd/juju/user/common.go:29 +0x80 fp=0xc820485090 sp=0xc820484e00\r\ngithub.com/juju/juju/cmd/juju/user.(*AddCommand).Run(0xc82040ac80, 0xc82040b590, 0x0, 0x0)\r\n        /home/ubuntu/src/github.com/juju/juju/cmd/juju/user/add.go:109 +0x790 fp=0xc8204852b8 sp=0xc820485090\r\ngithub.com/juju/juju/cmd/envcmd.(*sysCommandWrapper).Run(0xc82023e580, 0xc82040b590, 0x0, 0x0)\r\n        \u003cautogenerated\u003e:61 +0x9c fp=0xc820485300 sp=0xc8204852b8\r\ngithub.com/juju/cmd.(*SuperCommand).Run(0xc8204de000, 0xc82040b590, 0x0, 0x0)\r\n        /home/ubuntu/src/github.com/juju/cmd/supercommand.go:427 +0x720 fp=0xc820485530 sp=0xc820485300\r\ngithub.com/juju/juju/testing.RunCommand(0xc8204de0f0, 0x3fff846ca8f8, 0xc8204de000, 0xc82023e560, 0x2, 0x2, 0x0, 0x0, 0x0)\r\n        /home/ubuntu/src/github.com/juju/juju/testing/cmd.go:79 +0xe4 fp=0xc820485598 sp=0xc820485530\r\ngithub.com/juju/juju/featuretests.(*UserSuite).RunUserCommand(0xc8204cd6c0, 0xc8204de0f0, 0xc82023e560, 0x2, 0x2, 0x0, 0x0, 0x0)\r\n        /home/ubuntu/src/github.com/juju/juju/featuretests/cmd_juju_user_test.go:38 +0x7c fp=0xc820485610 sp=0xc820485598\r\ngithub.com/juju/juju/featuretests.(*UserSuite).TestUserAdd(0xc8204cd6c0, 0xc8204de0f0)\r\n        /home/ubuntu/src/github.com/juju/juju/featuretests/cmd_juju_user_test.go:42 +0xcc fp=0xc8204857a0 sp=0xc820485610\r\nruntime.call32(0xc82040a0a0, 0x1674618, 0xc820478670, 0x1000000010, 0x12)\r\n        /home/ubuntu/go/src/runtime/asm_ppc64x.s:429 +0x84 fp=0xc8204857d0 sp=0xc8204857a0\r\nreflect.Value.call(0x1673fe0, 0xc8204cd6c0, 0x3d13, 0x16f0870, 0x4, 0xc820485ee8, 0x1, 0x1, 0x0, 0x0, ...)\r\n        /home/ubuntu/go/src/reflect/value.go:432 +0xe54 fp=0xc820485b20 sp=0xc8204857d0\r\nreflect.Value.Call(0x1673fe0, 0xc8204cd6c0, 0x3d13, 0xc820485ee8, 0x1, 0x1, 0x0, 0x0, 0x0)\r\n        /home/ubuntu/go/src/reflect/value.go:300 +0x94 fp=0xc820485b80 sp=0xc820485b20\r\ngopkg.in/check%2ev1.(*suiteRunner).forkTest.func1(0xc8204de0f0)\r\n        /home/ubuntu/src/gopkg.in/check.v1/check.go:772 +0x5ac fp=0xc820485f48 sp=0xc820485b80\r\ngopkg.in/check%2ev1.(*suiteRunner).forkCall.func1(0xc82008e000, 0xc8204de0f0, 0xc8204caf00)\r\n        /home/ubuntu/src/gopkg.in/check.v1/check.go:665 +0x50 fp=0xc820485f60 sp=0xc820485f48\r\nruntime.goexit()\r\n        /home/ubuntu/go/src/runtime/asm_ppc64x.s:1157 +0x4 fp=0xc820485f60 sp=0xc820485f60\r\n```\r\nIt looks like the autogenerated method is not directly responsible (although adding an explicit forwarding method rather than letting the kernel generate the wrapper always fixes the crash)\r\n```\r\ngithub.com/juju/juju/cmd/envcmd.ConnectionInfoForName(0xf8410188e8410050, 0xf8410190e8410058, 0x0, 0x0, 0x0, 0x0)\r\n        /home/ubuntu/src/github.com/juju/juju/cmd/envcmd/environmentcommand.go:198 +0x104 fp=0xc820484c20 sp=0xc820484b90\r\ngithub.com/juju/juju/cmd/envcmd.(*SysCommandBase).ConnectionInfo(0x478420, 0x0, 0x0, 0x0, 0x0)\r\n        /home/ubuntu/src/github.com/juju/juju/cmd/envcmd/systemcommand.go:130 +0xec fp=0xc820484c98 sp=0xc820484c20\r\ngithub.com/juju/juju/cmd/envcmd.(*SysCommandBase).ConnectionEndpoint(0x478420, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, ...)\r\n        /home/ubuntu/src/github.com/juju/juju/cmd/envcmd/systemcommand.go:116 +0x5c fp=0xc820484df8 sp=0xc820484c98\r\ngithub.com/juju/juju/cmd/juju/user.(*AddCommand).ConnectionEndpoint(0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, ...)\r\n        \u003cautogenerated\u003e:17 +0x30 fp=0xc820484e00 sp=0xc820484df8\r\n```\r\n`github.com/juju/juju/cmd/envcmd.ConnectionInfoForName` is passed a string, and returns two interface values. The string passed in here is garbage.",
	"user": {
		"login": "davecheney",
		"id": 7171,
		"type": "User",
		"site_admin": false
	},
	"created_at": "2015-08-10T23:47:04Z",
	"updated_at": "2015-08-10T23:47:04Z"
}
