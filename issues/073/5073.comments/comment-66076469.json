{
	"id": 66076469,
	"body": "\u003ca id=\"c3\"\u003e\u003c/a\u003eComment 3:\n\n\u003cpre\u003eCan not reproduce.\nI apply the following patch:\n\n--- a/src/pkg/os/exec/exec.go\tThu Mar 21 22:37:13 2013 -0700\n+++ b/src/pkg/os/exec/exec.go\tFri Mar 22 12:22:54 2013 +0400\n@@ -235,8 +235,8 @@\n // Start starts the specified command but does not wait for it to complete.\n func (c *Cmd) Start() error {\n \tif c.err != nil {\n-\t\tc.closeDescriptors(c.closeAfterStart)\n-\t\tc.closeDescriptors(c.closeAfterWait)\n+\t\t// c.closeDescriptors(c.closeAfterStart)\n+\t\t// c.closeDescriptors(c.closeAfterWait)\n \t\treturn c.err\n \t}\n \tif c.Process != nil {\ndiff -r 9ca85035f95a src/pkg/os/exec/exec_test.go\n--- a/src/pkg/os/exec/exec_test.go\tThu Mar 21 22:37:13 2013 -0700\n+++ b/src/pkg/os/exec/exec_test.go\tFri Mar 22 12:22:54 2013 +0400\n@@ -154,7 +154,7 @@\n // \u003ca href=\"https://golang.org/issue/5071\"\u003eissue #5071\u003c/a\u003e\n func TestPipeLookPathLeak(t *testing.T) {\n \tfd0 := numOpenFDS(t)\n-\tfor i := 0; i \u0026lt; 4; i++ {\n+\tfor i := 0; i \u0026lt; 100; i++ {\n \t\tcmd := Command(\"something-that-does-not-exist-binary\")\n \t\tcmd.StdoutPipe()\n \t\tcmd.StderrPipe()\n\nAnd then:\n\n$ go test -cpu=1,2,4,8,16,32,1,2,4,8,16,32 os/exec\n\nbut it only says:\n\n--- FAIL: TestPipeLookPathLeak (0.04 seconds)\n\texec_test.go:168: leaked 6 fds; want ~0\n--- FAIL: TestPipeLookPathLeak-2 (0.10 seconds)\n\texec_test.go:168: leaked 600 fds; want ~0\n--- FAIL: TestPipeLookPathLeak-4 (0.10 seconds)\n\texec_test.go:168: leaked 600 fds; want ~0\n--- FAIL: TestPipeLookPathLeak-8 (0.10 seconds)\n\texec_test.go:168: leaked 600 fds; want ~0\n--- FAIL: TestPipeLookPathLeak-16 (0.10 seconds)\n\texec_test.go:168: leaked 600 fds; want ~0\n--- FAIL: TestPipeLookPathLeak-32 (0.10 seconds)\n\texec_test.go:168: leaked 600 fds; want ~0\n--- FAIL: TestPipeLookPathLeak-2 (0.14 seconds)\n\texec_test.go:168: leaked 600 fds; want ~0\n--- FAIL: TestPipeLookPathLeak-4 (0.10 seconds)\n\texec_test.go:168: leaked 600 fds; want ~0\n--- FAIL: TestPipeLookPathLeak-8 (0.10 seconds)\n\texec_test.go:168: leaked 600 fds; want ~0\n--- FAIL: TestPipeLookPathLeak-32 (0.10 seconds)\n\texec_test.go:168: leaked 600 fds; want ~0\u003c/pre\u003e",
	"user": {
		"login": "dvyukov",
		"id": 1095328,
		"type": "User",
		"site_admin": false
	},
	"created_at": "2013-03-22T08:26:35Z",
	"updated_at": "2014-12-22T06:23:25Z"
}
