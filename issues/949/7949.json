{
	"id": 51287440,
	"number": 7949,
	"state": "closed",
	"title": "runtime/pprof: CPU profile writer falls behind in big program",
	"body": "\u003cpre\u003eRunning pprof on a program that has O(10^6) cpu-bound goroutines loses ~50% of samples.\n\nCode is github.com/btracey/stackmc/examples/paper/rosen_unif\n\nSvg of pprof output: \u003ca href=\"http://stanford.edu/~btracey/gobench/stackmc/graph.svg\"\u003ehttp://stanford.edu/~btracey/gobench/stackmc/graph.svg\u003c/a\u003e\n\nWorking now on a shorter reproducer\n\n[btracey@zion ~]$ go env\nGOARCH=\u0026quot;amd64\u0026quot;\nGOBIN=\u0026quot;\u0026quot;\nGOCHAR=\u0026quot;6\u0026quot;\nGOEXE=\u0026quot;\u0026quot;\nGOHOSTARCH=\u0026quot;amd64\u0026quot;\nGOHOSTOS=\u0026quot;linux\u0026quot;\nGOOS=\u0026quot;linux\u0026quot;\nGOPATH=\u0026quot;/ADL/btracey/mygo\u0026quot;\nGORACE=\u0026quot;\u0026quot;\nGOROOT=\u0026quot;/ADL/btracey/gover/go_tip/go\u0026quot;\nGOTOOLDIR=\u0026quot;/ADL/btracey/gover/go_tip/go/pkg/tool/linux_amd64\u0026quot;\nCC=\u0026quot;gcc\u0026quot;\nGOGCCFLAGS=\u0026quot;-fPIC -m64 -pthread -fmessage-length=0\u0026quot;\nCXX=\u0026quot;g++\u0026quot;\nCGO_ENABLED=\u0026quot;1\u0026quot;\u003c/pre\u003e",
	"user": {
		"login": "btracey",
		"id": 3680859,
		"type": "User",
		"site_admin": false
	},
	"labels": [
		{
			"name": "FrozenDueToAge"
		},
		{
			"name": "Unfortunate"
		}
	],
	"comments": 8,
	"closed_at": "2014-12-08T10:44:03Z",
	"created_at": "2014-05-07T16:11:11Z",
	"updated_at": "2016-06-25T01:33:47Z",
	"milestone": {
		"id": 1067218,
		"number": 21,
		"title": "Go1.4"
	}
}
