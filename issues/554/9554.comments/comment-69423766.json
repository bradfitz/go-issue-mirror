{
	"id": 69423766,
	"body": "Here is the stack trace:\r\n\r\n```\r\ncpu% go test -run TestReverseProxyCancellation\r\ngoroutine 19 [running]:\r\nnet/http/httputil.func路015(0x304b0138, 0x104aec80, 0x10502310)\r\n\t/usr/go/src/net/http/httputil/reverseproxy_test.go:232 +0x21d\r\nnet/http.HandlerFunc.ServeHTTP(0x104b0010, 0x304b0138, 0x104aec80, 0x10502310)\r\n\t/usr/go/src/net/http/server.go:1322 +0x3a\r\nnet/http/httptest.(*waitGroupHandler).ServeHTTP(0x104b0630, 0x304b0138, 0x104aec80, 0x10502310)\r\n\t/usr/go/src/net/http/httptest/server.go:200 +0xa4\r\nnet/http.serverHandler.ServeHTTP(0x104f6240, 0x304b0138, 0x104aec80, 0x10502310)\r\n\t/usr/go/src/net/http/server.go:1760 +0x144\r\nnet/http.(*conn).serve(0x104fe3c0)\r\n\t/usr/go/src/net/http/server.go:1261 +0xa17\r\ncreated by net/http.(*Server).Serve\r\n\t/usr/go/src/net/http/server.go:1808 +0x303\r\n\r\ngoroutine 1 [chan receive]:\r\ntesting.RunTests(0x2c2df4, 0x380b00, 0x7, 0x7, 0x1)\r\n\t/usr/go/src/testing/testing.go:556 +0x8bb\r\ntesting.(*M).Run(0x104de1e0, 0x38f9c0)\r\n\t/usr/go/src/testing/testing.go:485 +0x5d\r\nmain.main()\r\n\tnet/http/httputil/_test/_testmain.go:64 +0x176\r\n\r\ngoroutine 6 [select]:\r\nnet/http.(*persistConn).roundTrip(0x104fe060, 0x104c04a8, 0x0, 0x0, 0x0)\r\n\t/usr/go/src/net/http/transport.go:1086 +0x748\r\nnet/http.(*Transport).RoundTrip(0x105021c0, 0x10502070, 0xaaefa, 0x0, 0x0)\r\n\t/usr/go/src/net/http/transport.go:235 +0x42c\r\nnet/http.send(0x10502070, 0x304af8f0, 0x105021c0, 0x16, 0x0, 0x0)\r\n\t/usr/go/src/net/http/client.go:220 +0x3b7\r\nnet/http.(*Client).send(0x382730, 0x10502070, 0x16, 0x0, 0x0)\r\n\t/usr/go/src/net/http/client.go:143 +0xf7\r\nnet/http.(*Client).doFollowingRedirects(0x382730, 0x10502070, 0x2c2e7c, 0x0, 0x0, 0x0)\r\n\t/usr/go/src/net/http/client.go:374 +0x9d1\r\nnet/http.(*Client).Do(0x382730, 0x10502070, 0x104dcd60, 0x0, 0x0)\r\n\t/usr/go/src/net/http/client.go:175 +0x8a\r\nnet/http/httputil.TestReverseProxyCancellation(0x104fe420)\r\n\t/usr/go/src/net/http/httputil/reverseproxy_test.go:264 +0x525\r\ntesting.tRunner(0x104fe420, 0x380b48)\r\n\t/usr/go/src/testing/testing.go:447 +0xb6\r\ncreated by testing.RunTests\r\n\t/usr/go/src/testing/testing.go:555 +0x881\r\n\r\ngoroutine 7 [syscall]:\r\nsyscall.Syscall(0x104dd2c0, 0x0, 0x0, 0x0, 0x0, 0x7, 0xa, 0x1)\r\n\t/usr/go/src/syscall/asm_plan9_386.s:22 +0x5\r\nsyscall.Open(0x104dd2a0, 0x11, 0x0, 0x0, 0x0, 0x0)\r\n\t/usr/go/src/syscall/zsyscall_plan9_386.go:70 +0x88\r\nos.OpenFile(0x104dd2a0, 0x11, 0x0, 0x0, 0x1053ddd4, 0x0, 0x0)\r\n\t/usr/go/src/os/file_plan9.go:111 +0x36a\r\nos.Open(0x104dd2a0, 0x11, 0x248c88, 0x0, 0x0)\r\n\t/usr/go/src/os/file.go:245 +0x4f\r\nnet.(*netFD).acceptPlan9(0x104f6200, 0x0, 0x0, 0x0)\r\n\t/usr/go/src/net/ipsock_plan9.go:205 +0x15e\r\nnet.(*TCPListener).AcceptTCP(0x104c03e0, 0xffffffff, 0x0, 0x0)\r\n\t/usr/go/src/net/tcpsock_plan9.go:126 +0x5e\r\nnet.(*TCPListener).Accept(0x104c03e0, 0x0, 0x0, 0x0, 0x0)\r\n\t/usr/go/src/net/tcpsock_plan9.go:139 +0x6c\r\nnet/http/httptest.(*historyListener).Accept(0x104dcc00, 0x0, 0x0, 0x0, 0x0)\r\n\t/usr/go/src/net/http/httptest/server.go:48 +0x5d\r\nnet/http.(*Server).Serve(0x104f6240, 0x304afb48, 0x104dcc00, 0x0, 0x0)\r\n\t/usr/go/src/net/http/server.go:1785 +0x8d\r\ncreated by net/http/httptest.(*Server).Start\r\n\t/usr/go/src/net/http/httptest/server.go:109 +0x2a8\r\n\r\ngoroutine 8 [syscall]:\r\nsyscall.Syscall(0x104dd0e0, 0x0, 0x0, 0x0, 0x0, 0x7, 0xa, 0x1)\r\n\t/usr/go/src/syscall/asm_plan9_386.s:22 +0x5\r\nsyscall.Open(0x104dd0c0, 0x11, 0x0, 0x0, 0x0, 0x0)\r\n\t/usr/go/src/syscall/zsyscall_plan9_386.go:70 +0x88\r\nos.OpenFile(0x104dd0c0, 0x11, 0x0, 0x0, 0x104b9dd4, 0x0, 0x0)\r\n\t/usr/go/src/os/file_plan9.go:111 +0x36a\r\nos.Open(0x104dd0c0, 0x11, 0x248c88, 0x0, 0x0)\r\n\t/usr/go/src/os/file.go:245 +0x4f\r\nnet.(*netFD).acceptPlan9(0x104f6300, 0x0, 0x0, 0x0)\r\n\t/usr/go/src/net/ipsock_plan9.go:205 +0x15e\r\nnet.(*TCPListener).AcceptTCP(0x104c0478, 0xffffffff, 0x0, 0x0)\r\n\t/usr/go/src/net/tcpsock_plan9.go:126 +0x5e\r\nnet.(*TCPListener).Accept(0x104c0478, 0x0, 0x0, 0x0, 0x0)\r\n\t/usr/go/src/net/tcpsock_plan9.go:139 +0x6c\r\nnet/http/httptest.(*historyListener).Accept(0x104dcd40, 0x0, 0x0, 0x0, 0x0)\r\n\t/usr/go/src/net/http/httptest/server.go:48 +0x5d\r\nnet/http.(*Server).Serve(0x104f6380, 0x304afb48, 0x104dcd40, 0x0, 0x0)\r\n\t/usr/go/src/net/http/server.go:1785 +0x8d\r\ncreated by net/http/httptest.(*Server).Start\r\n\t/usr/go/src/net/http/httptest/server.go:109 +0x2a8\r\n\r\ngoroutine 16 [syscall]:\r\nsyscall.Syscall6(0x7, 0x1057e000, 0x8000, 0xffffffff, 0xffffffff, 0x0, 0x0, 0x1d0260, 0x104f62c0, 0x10538ee0, ...)\r\n\t/usr/go/src/syscall/asm_plan9_386.s:57 +0x5\r\nsyscall.Pread(0x7, 0x1057e000, 0x8000, 0x8000, 0xffffffff, 0xffffffff, 0xd58ab, 0x0, 0x0)\r\n\t/usr/go/src/syscall/zsyscall_plan9_386.go:121 +0x79\r\nsyscall.Read(0x7, 0x1057e000, 0x8000, 0x8000, 0x0, 0x0, 0x0)\r\n\t/usr/go/src/syscall/syscall_plan9.go:123 +0x5f\r\nos.(*File).read(0x104c0548, 0x1057e000, 0x8000, 0x8000, 0x35d80, 0x0, 0x0)\r\n\t/usr/go/src/os/file_plan9.go:248 +0x54\r\nos.(*File).Read(0x104c0548, 0x1057e000, 0x8000, 0x8000, 0x1, 0x0, 0x0)\r\n\t/usr/go/src/os/file.go:95 +0x75\r\nnet.(*netFD).Read(0x104f6680, 0x1057e000, 0x8000, 0x8000, 0x0, 0x0, 0x0)\r\n\t/usr/go/src/net/fd_plan9.go:134 +0x103\r\nnet.(*conn).Read(0x104c0558, 0x1057e000, 0x8000, 0x8000, 0x0, 0x0, 0x0)\r\n\t/usr/go/src/net/net.go:121 +0x89\r\nio.Copy(0x304b0228, 0x104c0530, 0x304afbe8, 0x104c0558, 0x0, 0x0, 0x0, 0x0)\r\n\t/usr/go/src/io/io.go:362 +0x1d7\r\nnet/http.func路009()\r\n\t/usr/go/src/net/http/server.go:174 +0x65\r\ncreated by net/http.(*conn).closeNotify\r\n\t/usr/go/src/net/http/server.go:180 +0x286\r\n\r\ngoroutine 14 [syscall]:\r\nsyscall.Syscall6(0x8, 0x10516000, 0x1000, 0xffffffff, 0xffffffff, 0x0, 0x0, 0x3049e000, 0x0, 0x0, ...)\r\n\t/usr/go/src/syscall/asm_plan9_386.s:57 +0x5\r\nsyscall.Pread(0x8, 0x10516000, 0x1000, 0x1000, 0xffffffff, 0xffffffff, 0xd58ab, 0x0, 0x0)\r\n\t/usr/go/src/syscall/zsyscall_plan9_386.go:121 +0x79\r\nsyscall.Read(0x8, 0x10516000, 0x1000, 0x1000, 0x0, 0x0, 0x0)\r\n\t/usr/go/src/syscall/syscall_plan9.go:123 +0x5f\r\nos.(*File).read(0x104c0578, 0x10516000, 0x1000, 0x1000, 0x35d80, 0x0, 0x0)\r\n\t/usr/go/src/os/file_plan9.go:248 +0x54\r\nos.(*File).Read(0x104c0578, 0x10516000, 0x1000, 0x1000, 0x104dd1c0, 0x0, 0x0)\r\n\t/usr/go/src/os/file.go:95 +0x75\r\nnet.(*netFD).Read(0x104f66c0, 0x10516000, 0x1000, 0x1000, 0x0, 0x0, 0x0)\r\n\t/usr/go/src/net/fd_plan9.go:134 +0x103\r\nnet.(*conn).Read(0x104c0588, 0x10516000, 0x1000, 0x1000, 0x0, 0x0, 0x0)\r\n\t/usr/go/src/net/net.go:121 +0x89\r\nnet/http.noteEOFReader.Read(0x304afbe8, 0x104c0588, 0x104fe08c, 0x10516000, 0x1000, 0x1000, 0x104b04a0, 0x0, 0x0)\r\n\t/usr/go/src/net/http/transport.go:1276 +0x5b\r\nnet/http.(*noteEOFReader).Read(0x104b09e0, 0x10516000, 0x1000, 0x1000, 0x104dcf20, 0x0, 0x0)\r\n\t\u003cautogenerated\u003e:127 +0x9e\r\nbufio.(*Reader).fill(0x104de510)\r\n\t/usr/go/src/bufio/bufio.go:97 +0x15b\r\nbufio.(*Reader).Peek(0x104de510, 0x1, 0x0, 0x0, 0x0, 0x0, 0x0)\r\n\t/usr/go/src/bufio/bufio.go:132 +0xd1\r\nnet/http.(*persistConn).readLoop(0x104fe060)\r\n\t/usr/go/src/net/http/transport.go:842 +0x90\r\ncreated by net/http.(*Transport).dialConn\r\n\t/usr/go/src/net/http/transport.go:660 +0xa6e\r\n\r\ngoroutine 13 [select]:\r\nnet/http.(*persistConn).roundTrip(0x104fe000, 0x104c0580, 0x0, 0x0, 0x0)\r\n\t/usr/go/src/net/http/transport.go:1086 +0x748\r\nnet/http.(*Transport).RoundTrip(0x105021c0, 0x10502230, 0xf, 0x0, 0x0)\r\n\t/usr/go/src/net/http/transport.go:235 +0x42c\r\nnet/http/httputil.(*ReverseProxy).ServeHTTP(0x104dcc40, 0x304b0138, 0x104ae880, 0x105020e0)\r\n\t/usr/go/src/net/http/httputil/reverseproxy.go:191 +0x748\r\nnet/http/httptest.(*waitGroupHandler).ServeHTTP(0x104b0750, 0x304b0138, 0x104ae880, 0x105020e0)\r\n\t/usr/go/src/net/http/httptest/server.go:200 +0xa4\r\nnet/http.serverHandler.ServeHTTP(0x104f6380, 0x304b0138, 0x104ae880, 0x105020e0)\r\n\t/usr/go/src/net/http/server.go:1760 +0x144\r\nnet/http.(*conn).serve(0x104fe300)\r\n\t/usr/go/src/net/http/server.go:1261 +0xa17\r\ncreated by net/http.(*Server).Serve\r\n\t/usr/go/src/net/http/server.go:1808 +0x303\r\n\r\ngoroutine 15 [select]:\r\nnet/http.(*persistConn).writeLoop(0x104fe060)\r\n\t/usr/go/src/net/http/transport.go:945 +0x319\r\ncreated by net/http.(*Transport).dialConn\r\n\t/usr/go/src/net/http/transport.go:661 +0xa8a\r\n\r\ngoroutine 22 [select]:\r\nnet/http/httputil.func路006()\r\n\t/usr/go/src/net/http/httputil/reverseproxy.go:145 +0xeb\r\ncreated by net/http/httputil.func路007\r\n\t/usr/go/src/net/http/httputil/reverseproxy.go:150 +0xdd\r\n\r\ngoroutine 20 [syscall]:\r\nsyscall.Syscall6(0xd, 0x10596000, 0x1000, 0xffffffff, 0xffffffff, 0x0, 0x0, 0x3049e000, 0x0, 0x0, ...)\r\n\t/usr/go/src/syscall/asm_plan9_386.s:57 +0x5\r\nsyscall.Pread(0xd, 0x10596000, 0x1000, 0x1000, 0xffffffff, 0xffffffff, 0xd58ab, 0x0, 0x0)\r\n\t/usr/go/src/syscall/zsyscall_plan9_386.go:121 +0x79\r\nsyscall.Read(0xd, 0x10596000, 0x1000, 0x1000, 0x0, 0x0, 0x0)\r\n\t/usr/go/src/syscall/syscall_plan9.go:123 +0x5f\r\nos.(*File).read(0x104c0428, 0x10596000, 0x1000, 0x1000, 0x35d80, 0x0, 0x0)\r\n\t/usr/go/src/os/file_plan9.go:248 +0x54\r\nos.(*File).Read(0x104c0428, 0x10596000, 0x1000, 0x1000, 0x104dd1a0, 0x0, 0x0)\r\n\t/usr/go/src/os/file.go:95 +0x75\r\nnet.(*netFD).Read(0x104f6400, 0x10596000, 0x1000, 0x1000, 0x0, 0x0, 0x0)\r\n\t/usr/go/src/net/fd_plan9.go:134 +0x103\r\nnet.(*conn).Read(0x104c04b0, 0x10596000, 0x1000, 0x1000, 0x0, 0x0, 0x0)\r\n\t/usr/go/src/net/net.go:121 +0x89\r\nnet/http.noteEOFReader.Read(0x304afbe8, 0x104c04b0, 0x104fe02c, 0x10596000, 0x1000, 0x1000, 0x104b06bd, 0x0, 0x0)\r\n\t/usr/go/src/net/http/transport.go:1276 +0x5b\r\nnet/http.(*noteEOFReader).Read(0x104b06f0, 0x10596000, 0x1000, 0x1000, 0x104dcfa0, 0x0, 0x0)\r\n\t\u003cautogenerated\u003e:127 +0x9e\r\nbufio.(*Reader).fill(0x104de4b0)\r\n\t/usr/go/src/bufio/bufio.go:97 +0x15b\r\nbufio.(*Reader).Peek(0x104de4b0, 0x1, 0x0, 0x0, 0x0, 0x0, 0x0)\r\n\t/usr/go/src/bufio/bufio.go:132 +0xd1\r\nnet/http.(*persistConn).readLoop(0x104fe000)\r\n\t/usr/go/src/net/http/transport.go:842 +0x90\r\ncreated by net/http.(*Transport).dialConn\r\n\t/usr/go/src/net/http/transport.go:660 +0xa6e\r\n\r\ngoroutine 21 [select]:\r\nnet/http.(*persistConn).writeLoop(0x104fe000)\r\n\t/usr/go/src/net/http/transport.go:945 +0x319\r\ncreated by net/http.(*Transport).dialConn\r\n\t/usr/go/src/net/http/transport.go:661 +0xa8a\r\n\r\ngoroutine 23 [syscall]:\r\nsyscall.Syscall6(0xc, 0x105a8000, 0x8000, 0xffffffff, 0xffffffff, 0x0, 0x0, 0x0, 0x0, 0x0, ...)\r\n\t/usr/go/src/syscall/asm_plan9_386.s:57 +0x5\r\nsyscall.Pread(0xc, 0x105a8000, 0x8000, 0x8000, 0xffffffff, 0xffffffff, 0xd58ab, 0x0, 0x0)\r\n\t/usr/go/src/syscall/zsyscall_plan9_386.go:121 +0x79\r\nsyscall.Read(0xc, 0x105a8000, 0x8000, 0x8000, 0x0, 0x0, 0x0)\r\n\t/usr/go/src/syscall/syscall_plan9.go:123 +0x5f\r\nos.(*File).read(0x104c0610, 0x105a8000, 0x8000, 0x8000, 0x35d80, 0x0, 0x0)\r\n\t/usr/go/src/os/file_plan9.go:248 +0x54\r\nos.(*File).Read(0x104c0610, 0x105a8000, 0x8000, 0x8000, 0x1, 0x0, 0x0)\r\n\t/usr/go/src/os/file.go:95 +0x75\r\nnet.(*netFD).Read(0x104f6a80, 0x105a8000, 0x8000, 0x8000, 0x0, 0x0, 0x0)\r\n\t/usr/go/src/net/fd_plan9.go:134 +0x103\r\nnet.(*conn).Read(0x104c0620, 0x105a8000, 0x8000, 0x8000, 0x0, 0x0, 0x0)\r\n\t/usr/go/src/net/net.go:121 +0x89\r\nio.Copy(0x304b0228, 0x104c0638, 0x304afbe8, 0x104c0620, 0x0, 0x0, 0x0, 0x0)\r\n\t/usr/go/src/io/io.go:362 +0x1d7\r\nnet/http.func路009()\r\n\t/usr/go/src/net/http/server.go:174 +0x65\r\ncreated by net/http.(*conn).closeNotify\r\n\t/usr/go/src/net/http/server.go:180 +0x286\r\n--- FAIL: TestReverseProxyCancellation (10.20s)\r\n\treverseproxy_test.go:229: Failed to close backend connection\r\n\treverseproxy_test.go:266: Non-nil response\r\nFAIL\r\nexit status: 'httputil.test 3001866: 1'\r\nFAIL\tnet/http/httputil\t10.276s\r\n```",
	"user": {
		"login": "0intro",
		"id": 6043744,
		"type": "User",
		"site_admin": false
	},
	"created_at": "2015-01-10T00:05:21Z",
	"updated_at": "2015-01-10T00:05:21Z"
}
