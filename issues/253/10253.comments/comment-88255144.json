{
	"id": 88255144,
	"body": "In an attempt to get some readable assembly, this program (which still incorrectly prints false):\r\n\r\n```\r\npackage main\r\n\r\nvar text = \"abc\"\r\nvar s = \u0026str{text}\r\n\r\nfunc main() {\r\n        println(eq())\r\n}\r\n\r\n//go:nosplit\r\nfunc eq() bool {\r\n        return text[0] == s.text[0]\r\n}\r\n\r\ntype str struct {\r\n        text string\r\n}\r\n```\r\n\r\nProduces with ```go run -gcflags \"-l -B -S\" junk.go```:\r\n\r\n```\r\n\".eq t=1 nosplit size=112 value=0 args=0x8 locals=0x0 leaf\r\n        0x0000 00000 (/home/crawshaw/junk.go:11)        TEXT    \"\".eq(SB), $-8-8\r\n        0x0000 00000 (/home/crawshaw/junk.go:11)        FUNCDATA        ZR, gclocals·23e8278e2b69a3a75fa59b23c49ed6ad(SB)\r\n        0x0000 00000 (/home/crawshaw/junk.go:11)        FUNCDATA        $1, gclocals·33cdeccccebe80329f1fdbee7f5874cb(SB)\r\n        0x0000 00000 (/home/crawshaw/junk.go:11)        MOVD    ZR, R0\r\n        0x0004 00004 (/home/crawshaw/junk.go:11)        MOVBU   R0, R0\r\n        0x0008 00008 (/home/crawshaw/junk.go:12)        MOVD    \"\".text(SB), R0\r\n        0x0010 00016 (/home/crawshaw/junk.go:12)        MOVBU   (R0), R0\r\n        0x0014 00020 (/home/crawshaw/junk.go:12)        MOVD    \"\".s(SB), R1\r\n        0x001c 00028 (/home/crawshaw/junk.go:12)        CMP     R1, ZR\r\n        0x0020 00032 (/home/crawshaw/junk.go:12)        BNE     40\r\n        0x0024 00036 (/home/crawshaw/junk.go:12)        MOVD    ZR, (R1)\r\n        0x0028 00040 (/home/crawshaw/junk.go:12)        MOVD    (R1), R2\r\n        0x002c 00044 (/home/crawshaw/junk.go:12)        MOVD    R2, R0\r\n        0x0030 00048 (/home/crawshaw/junk.go:12)        MOVD    8(R1), R2\r\n        0x0034 00052 (/home/crawshaw/junk.go:12)        MOVD    R0, R1\r\n        0x0038 00056 (/home/crawshaw/junk.go:12)        MOVBU   (R1), R1\r\n        0x003c 00060 (/home/crawshaw/junk.go:12)        CMP     R1, R0\r\n        0x0040 00064 (/home/crawshaw/junk.go:12)        BEQ     80\r\n        0x0044 00068 (/home/crawshaw/junk.go:12)        MOVD    ZR, R0\r\n        0x0048 00072 (/home/crawshaw/junk.go:12)        MOVBU   R0, \"\".~r0(FP)\r\n        0x004c 00076 (/home/crawshaw/junk.go:12)        RET     (R30)\r\n        0x0050 00080 (/home/crawshaw/junk.go:12)        MOVD    $1, R0\r\n        0x0054 00084 (/home/crawshaw/junk.go:12)        MOVBU   R0, \"\".~r0(FP)\r\n        0x0058 00088 (/home/crawshaw/junk.go:12)        RET     (R30)\r\n        0x005c 00092 (/home/crawshaw/junk.go:12)        JMP     0(PC)\r\n        0x0060 00096 (/home/crawshaw/junk.go:12)        DWORD   \"\".text(SB)\r\n        0x0068 00104 (/home/crawshaw/junk.go:12)        DWORD   \"\".s(SB)\r\n```",
	"user": {
		"login": "crawshaw",
		"id": 161319,
		"type": "User",
		"site_admin": false
	},
	"created_at": "2015-03-31T21:25:15Z",
	"updated_at": "2015-03-31T21:25:15Z"
}
