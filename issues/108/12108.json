{
	"id": 100230018,
	"number": 12108,
	"state": "closed",
	"title": "cmd/compile: DUFFZERO in autogenerated methods corrupts LR",
	"body": "The following program faults on ppc64le\r\n\r\nhttp://play.golang.org/p/hRlQs7hss2\r\n```\r\npackage main\r\n\r\ntype APIEndpoint struct {\r\n        Addresses []string\r\n        Hostnames []string\r\n        CACert string\r\n        EnvironUUID string\r\n        ServerUUID string\r\n}\r\n\r\ntype Base struct {\r\n        name string\r\n}\r\n\r\nfunc (b *Base) ConnectionEndpoint() (APIEndpoint, error) {\r\n        return APIEndpoint{}, nil\r\n}\r\n\r\ntype Super struct {\r\n        Base\r\n}\r\n\r\ntype T interface {\r\n\tConnectionEndpoint() (APIEndpoint, error)\r\n}\r\n\r\nfunc main() {\r\n\tvar q T = new(Super)\r\n\tq.ConnectionEndpoint()\r\n}\r\n```\r\n```\r\n% go run x.go \r\npanic: runtime error: invalid memory address or nil pointer dereference\r\n[signal 0xb code=0x1 addr=0x0 pc=0x11208]\r\n\r\ngoroutine 1 [running]:\r\nmain.(*Super).ConnectionEndpoint(0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, ...)\r\n        \u003cautogenerated\u003e:1 +0x48\r\nmain.main()\r\n        /home/ubuntu/src/x/x.go:29 +0x9c\r\nexit status 2\r\n```\r\nThe program does not fault on any other architecture.\r\n\r\n/cc @rsc @aclements @minux ",
	"user": {
		"login": "davecheney",
		"id": 7171,
		"type": "User",
		"site_admin": false
	},
	"comments": 7,
	"closed_at": "2015-10-06T03:34:36Z",
	"created_at": "2015-08-11T05:37:57Z",
	"updated_at": "2015-10-06T03:34:36Z",
	"milestone": {
		"id": 1096159,
		"number": 24,
		"title": "Go1.6"
	}
}
