{
	"id": 66076687,
	"body": "\u003ca id=\"c2\"\u003e\u003c/a\u003eComment 2:\n\n\u003cpre\u003eI just ran the same tests off Go 1.0.3 release, and tried with different values of array\nlength.\n\n==== Go 1.0.3 ==== arrlen: 2048 ====\nBenchmarkArrayGlobal\t 1000000\t      1460 ns/op\nBenchmarkArrayGlobalPtr\t 1000000\t      2165 ns/op\nBenchmarkSliceGlobal\t 1000000\t      1446 ns/op\nBenchmarkArrayLocal\t 1000000\t      1447 ns/op\nBenchmarkSliceLocal\t 1000000\t      1455 ns/op\nBenchmarkArrayStructField\t 1000000\t      1455 ns/op\nBenchmarkSliceStructField\t 1000000\t      2259 ns/op\n\nFor Go 1.0.3, the takeaway seems to be that access time is equivalent (1460 ns/op) for:\n- global array\n- local array\n- array in local struct field\n- local slice\nIt then jumps about 50%, to about 2150-2250ns/op for:\n- ptr to global array\n- slice in local struct field\n\n==== Go Tip / 1.1 ==== arrlen: 2048 ====\nBenchmarkArrayGlobal\t 1000000\t      1742 ns/op\nBenchmarkArrayGlobalPtr\t 1000000\t      1738 ns/op\nBenchmarkSliceGlobal\t 1000000\t      1454 ns/op\nBenchmarkArrayLocal\t 1000000\t      1734 ns/op\nBenchmarkSliceLocal\t 1000000\t      1836 ns/op\nBenchmarkArrayStructField\t 1000000\t      2160 ns/op\nBenchmarkSliceStructField\t 1000000\t      2488 ns/op\n\nFor Go 1.1, It seems that global slice access time stays same as at Go 1.0.3 levels\n(1450ns/op).\n\nHowever, some other access times increased by about 20% to 1740ns/op:\n- global array\n- local array\nFor others, the changes were as expected. ie ptr and slice access slightly took slightly\nlonger than array access due to indirection costs.\n- array in local struct field\n- local slice\n- ptr to global array\nThe other unexpected thing, was the significant jump in access time when the array was a\nfield in the struct. It was even more pronounced for a slice struct field, which refers\nto a struct array field for it backing array.\n\n==== Go Tip / 1.1 ==== arrlen: 16 ====\nPASS\nBenchmarkArrayGlobal\t100000000\t        17.2 ns/op\nBenchmarkArrayGlobalPtr\t100000000\t        17.4 ns/op\nBenchmarkSliceGlobal\t100000000\t        12.2 ns/op\nBenchmarkArrayLocal\t100000000\t        17.1 ns/op\nBenchmarkSliceLocal\t100000000\t        17.9 ns/op\nBenchmarkArrayStructField\t100000000\t        17.1 ns/op\nBenchmarkSliceStructField\t100000000\t        23.1 ns/op\n\nTried with a much smaller array. The results were generally consistent.\n- Global Slice takes significantly less time to access than any array (global, local\nvariable or local struct field) or local slice.\n- Local Slice in Struct Field takes much higher access time.\u003c/pre\u003e",
	"user": {
		"login": "ugorji",
		"id": 1222082,
		"type": "User",
		"site_admin": false
	},
	"created_at": "2013-03-23T15:16:19Z",
	"updated_at": "2014-12-08T10:27:18Z"
}
