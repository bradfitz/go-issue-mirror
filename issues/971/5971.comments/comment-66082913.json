{
	"id": 66082913,
	"body": "\u003ca id=\"c3\"\u003e\u003c/a\u003eComment 3:\n\n\u003cpre\u003eDmitriy,\n\nI tried this on our windows-amd64 builder:\n\nc:\\go\\src\\pkg\\net\u0026gt;hg id\n87fd884c846b+ tip\n\nc:\\go\\src\\pkg\\net\u0026gt;hg diff\ndiff -r 87fd884c846b src/pkg/net/timeout_test.go\n--- a/src/pkg/net/timeout_test.go       Mon Jul 29 01:25:51 2013 +0200\n+++ b/src/pkg/net/timeout_test.go       Sun Jul 28 02:03:47 2013 +0000\n@@ -423,8 +423,6 @@\n        switch runtime.GOOS {\n        case \"plan9\":\n                t.Skipf(\"skipping test on %q\", runtime.GOOS)\n-       case \"windows\":\n-               t.Skipf(\"skipping test on %q, see \u003ca href=\"https://golang.org/issue/5971\"\u003eissue #5971\u003c/a\u003e\", runtime.GOOS)\n        }\n\n        defer runtime.GOMAXPROCS(runtime.GOMAXPROCS(maxProcs))\n@@ -498,7 +496,7 @@\n                                clientc \u0026lt;- copyRes{n, err, d}\n                        }()\n\n-                       const tooLong = 2000 * time.Millisecond\n+                       const tooLong = 10000 * time.Millisecond\n                        select {\n                        case res := \u0026lt;-clientc:\n                                if isTimeout(res.err) {\n\nand test works fine (I tried it many times)\n\nc:\\go\\src\\pkg\\net\u0026gt;go test -run=1\nPASS\nok      net     13.250s\n\nI can see CPU goes 100% during the test, so my explanation as \"busy wait\" and \"timer\ndoes not get fired\" is still possible.\n\nI can observe same behaviour on my pc that used to fail this test with wait=0 in\nruntime.netpoll - and it still does if I set wait to 0. It also PASS if I extend tooLong\ndeadline in our test.\n\nI could not reproduce the failure anywhere else, cpu affinity or not. Could you send me\nyour diff of \"set cpu affinity\" to see if I can use it.\n\nI didn't see BSOD anywhere.\n\nI also noticed our windows-amd64 builder OS has not been updated for a while (probably\nnever). Should we upgrade it to the latest version available?\n\nI doubt you will get much help from Microsoft, but fingers crossed. Perhaps you know\nsomeone who knows someone who might push your issue along.\n\nThank you for all you work.\n\nAlex\u003c/pre\u003e",
	"user": {
		"login": "alexbrainman",
		"id": 9796621,
		"type": "User",
		"site_admin": false
	},
	"created_at": "2013-07-29T04:11:25Z",
	"updated_at": "2014-12-22T06:27:07Z"
}
