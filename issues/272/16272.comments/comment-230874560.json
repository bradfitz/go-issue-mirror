{
	"id": 230874560,
	"body": "Go test also fails in the same way for TestAfterTick from the time package. It seems to work some of the time.\r\n\r\nHere is the output using the environment variable you provided: https://gist.github.com/trevorgray/29e73f2b0d98a5b382a9bb0a5f1b9fc1\r\n\r\n```go\r\npackage foo\r\n\r\nimport (\r\n\t\"testing\"\r\n\t\"time\"\r\n)\r\n\r\nfunc TestAfterTick(t *testing.T) {\r\n\tconst Count = 10\r\n\tDelta := 100 * time.Millisecond\r\n\tif testing.Short() {\r\n\t\tDelta = 10 * time.Millisecond\r\n\t}\r\n\tt0 := time.Now()\r\n\tfor i := 0; i \u003c Count; i++ {\r\n\t\t\u003c-time.After(Delta)\r\n\t}\r\n\tt1 := time.Now()\r\n\td := t1.Sub(t0)\r\n\ttarget := Delta * Count\r\n\tif d \u003c target*9/10 {\r\n\t\tt.Fatalf(\"%d ticks of %s too fast: took %s, expected %s\", Count, Delta, d, target)\r\n\t}\r\n\tif !testing.Short() \u0026\u0026 d \u003e target*30/10 {\r\n\t\tt.Fatalf(\"%d ticks of %s too slow: took %s, expected %s\", Count, Delta, d, target)\r\n\t}\r\n}\r\n```\r\n\r\n```\r\n$ go test foo_test.go\r\nok  \tcommand-line-arguments\t1.020s\r\n\r\n$ go test foo_test.go\r\nok  \tcommand-line-arguments\t1.035s\r\n\r\n$ go version\r\ngo version devel +5a9d5c3 Tue Jul 5 06:36:21 2016 +0000 darwin/amd64\r\n\r\n$ go test foo_test.go -count=10\r\n^\\SIGQUIT: quit\r\nPC=0x58203 m=0\r\n\r\ngoroutine 0 [idle]:\r\nruntime.mach_semaphore_timedwait(0x577d562300000803, 0x6604bdc, 0x7fff5fbff924, 0x577d5623, 0x6604bdc001981b0, 0x198460, 0x7fff5fbff958, 0x4eb03, 0x145ec948ce65e9dc, 0xffffffff, ...)\r\n\t/Users/trevorgray/go/src/runtime/sys_darwin_amd64.s:421 +0x13\r\nruntime.semasleep1(0x145ec948ce65e9dc, 0xffffffff)\r\n\t/Users/trevorgray/go/src/runtime/os_darwin.go:424 +0xda\r\nruntime.semasleep.func1()\r\n\t/Users/trevorgray/go/src/runtime/os_darwin.go:451 +0x33\r\nruntime.systemstack(0x198400)\r\n\t/Users/trevorgray/go/src/runtime/asm_amd64.s:298 +0x79\r\nruntime.mstart()\r\n\t/Users/trevorgray/go/src/runtime/proc.go:1078\r\n\r\ngoroutine 6 [syscall]:\r\nruntime.notetsleepg(0x198038, 0x5f5dc67, 0x16)\r\n\t/Users/trevorgray/go/src/runtime/lock_sema.go:257 +0x4b fp=0xc420028740 sp=0xc420028700\r\nruntime.timerproc()\r\n\t/Users/trevorgray/go/src/runtime/time.go:209 +0x2eb fp=0xc4200287c0 sp=0xc420028740\r\nruntime.goexit()\r\n\t/Users/trevorgray/go/src/runtime/asm_amd64.s:2086 +0x1 fp=0xc4200287c8 sp=0xc4200287c0\r\ncreated by runtime.addtimerLocked\r\n\t/Users/trevorgray/go/src/runtime/time.go:116 +0xee\r\n\r\ngoroutine 1 [chan receive]:\r\ntesting.(*T).Run(0xc42008a240, 0x10ebc2, 0xd, 0x11c268, 0x57ef5)\r\n\t/Users/trevorgray/go/src/testing/testing.go:647 +0x316\r\ntesting.RunTests.func1(0xc42008a240)\r\n\t/Users/trevorgray/go/src/testing/testing.go:793 +0x6d\r\ntesting.tRunner(0xc42008a240, 0xc42003de20)\r\n\t/Users/trevorgray/go/src/testing/testing.go:610 +0x81\r\ntesting.RunTests(0x11c288, 0x192230, 0x1, 0x1, 0xddeb)\r\n\t/Users/trevorgray/go/src/testing/testing.go:799 +0x2f0\r\ntesting.(*M).Run(0xc42003dee8, 0xc42000c4e8)\r\n\t/Users/trevorgray/go/src/testing/testing.go:743 +0x85\r\nmain.main()\r\n\tcommand-line-arguments/_test/_testmain.go:54 +0xc2\r\n\r\ngoroutine 8 [chan receive]:\r\ncommand-line-arguments.TestAfterTick(0xc42008a300)\r\n\t/Users/trevorgray/go/src/foo_test.go:16 +0xda\r\ntesting.tRunner(0xc42008a300, 0x11c268)\r\n\t/Users/trevorgray/go/src/testing/testing.go:610 +0x81\r\ncreated by testing.(*T).Run\r\n\t/Users/trevorgray/go/src/testing/testing.go:646 +0x2ec\r\n\r\nrax    0xe\r\nrbx    0x6604bdc\r\nrcx    0x7fff5fbff8f8\r\nrdx    0x6604bdc\r\nrdi    0x803\r\nrsi    0x577d5623\r\nrbp    0x7fff5fbff930\r\nrsp    0x7fff5fbff8f8\r\nr8     0x1\r\nr9     0x1\r\nr10    0x34b7827b93\r\nr11    0x206\r\nr12    0x0\r\nr13    0x4cca8a5f1198\r\nr14    0x145ec9488c6ad400\r\nr15    0x7\r\nrip    0x58203\r\nrflags 0x206\r\ncs     0x7\r\nfs     0x0\r\ngs     0x0\r\nFAIL\tcommand-line-arguments\t25.037s\r\n```",
	"user": {
		"login": "trevorgray",
		"id": 216851,
		"type": "User",
		"site_admin": false
	},
	"created_at": "2016-07-06T19:12:25Z",
	"updated_at": "2016-07-06T19:12:25Z"
}
