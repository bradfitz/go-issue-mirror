{
	"id": 238360541,
	"body": "You seem to be right, something is wrong with `-fsanitize=memory` in general on my system.\r\n\r\n```\r\nu@x1 ~\u003e cat a.c\r\nint main() {\r\n\treturn 0;\r\n}\r\nu@x1 ~\u003e clang -fsanitize=memory -o a a.c\r\nu@x1 ~\u003e ./a\r\nfish: “./a” terminated by signal SIGSEGV (Address boundary error)\r\n```\r\n\r\n```\r\nu@x1 ~\u003e coredumpctl gdb 3999\r\n           PID: 3999 (a)\r\n           UID: 1000 (u)\r\n           GID: 100 (users)\r\n        Signal: 11 (SEGV)\r\n     Timestamp: Mon 2016-08-08 22:06:24 CEST (20s ago)\r\n  Command Line: ./a\r\n    Executable: /home/u/a\r\n Control Group: /user.slice/user-1000.slice/session-c1.scope\r\n          Unit: session-c1.scope\r\n         Slice: user-1000.slice\r\n       Session: c1\r\n     Owner UID: 1000 (u)\r\n       Boot ID: 568a956a6d1d44b0ac0da6d1d8725fb1\r\n    Machine ID: 8be6e9b1337f4bf3864e9184c2ef52c8\r\n      Hostname: x1\r\n      Coredump: /var/lib/systemd/coredump/core.a.1000.568a956a6d1d44b0ac0da6d1d8725fb1.3999.1470686784000000000000.lz4\r\n       Message: Process 3999 (a) of user 1000 dumped core.\r\n                \r\n                Stack trace of thread 3999:\r\n                #0  0x000000000041e425 _ZN11__sanitizer20SizeClassAllocator64ILm123145302310912ELm8796093022208ELm8ENS_12SizeClassMapILm17ELm128ELm16EEEN6__msan20MsanMapUnmapCallbackEE13AllocateBatchEPNS_14AllocatorStatsEPNS_28SizeClassAllocatorLocalCacheIS5_EEm (a)\r\n                #1  0x000000000041e4e7 _ZN11__sanitizer28SizeClassAllocatorLocalCacheINS_20SizeClassAllocator64ILm123145302310912ELm8796093022208ELm8ENS_12SizeClassMapILm17ELm128ELm16EEEN6__msan20MsanMapUnmapCallbackEEEE6RefillEPS6_m (a)\r\n                #2  0x000000000041da41 _ZN6__msan14MsanReallocateEPN11__sanitizer10StackTraceEPvmmb (a)\r\n                #3  0x000000000041f96e __interceptor_malloc (a)\r\n                #4  0x00007ff3af9df181 _dl_signal_error (ld-linux-x86-64.so.2)\r\n                #5  0x00007ff3af9df343 _dl_signal_cerror (ld-linux-x86-64.so.2)\r\n                #6  0x00007ff3af9da0de _dl_lookup_symbol_x (ld-linux-x86-64.so.2)\r\n                #7  0x00007ff3aec0ddf1 do_sym (libc.so.6)\r\n                #8  0x00007ff3af0a4034 n/a (libdl.so.2)\r\n                #9  0x00007ff3af9df3c4 _dl_catch_error (ld-linux-x86-64.so.2)\r\n                #10 0x00007ff3af0a4541 n/a (libdl.so.2)\r\n                #11 0x00007ff3af0a4088 dlsym (libdl.so.2)\r\n                #12 0x0000000000465c7c _ZN14__interception22GetRealFunctionAddressEPKcPmmm (a)\r\n                #13 0x000000000044f655 _ZN6__msan22InitializeInterceptorsEv (a)\r\n                #14 0x000000000041a375 __msan_init (a)\r\n                #15 0x0000000000485c56 msan.module_ctor (a)\r\n                #16 0x0000000000485cad __libc_csu_init (a)\r\n                #17 0x00007ff3aeb0f260 __libc_start_main (libc.so.6)\r\n                #18 0x0000000000418bba _start (a)\r\n\r\nGNU gdb (GDB) 7.11.1\r\nCopyright (C) 2016 Free Software Foundation, Inc.\r\nLicense GPLv3+: GNU GPL version 3 or later \u003chttp://gnu.org/licenses/gpl.html\u003e\r\nThis is free software: you are free to change and redistribute it.\r\nThere is NO WARRANTY, to the extent permitted by law.  Type \"show copying\"\r\nand \"show warranty\" for details.\r\nThis GDB was configured as \"x86_64-pc-linux-gnu\".\r\nType \"show configuration\" for configuration details.\r\nFor bug reporting instructions, please see:\r\n\u003chttp://www.gnu.org/software/gdb/bugs/\u003e.\r\nFind the GDB manual and other documentation resources online at:\r\n\u003chttp://www.gnu.org/software/gdb/documentation/\u003e.\r\nFor help, type \"help\".\r\nType \"apropos word\" to search for commands related to \"word\"...\r\nReading symbols from /home/u/a...(no debugging symbols found)...done.\r\n[New LWP 3999]\r\n\r\nwarning: Could not load shared library symbols for linux-vdso.so.1.\r\nDo you need \"set solib-search-path\" or \"set sysroot\"?\r\n[Thread debugging using libthread_db enabled]\r\nUsing host libthread_db library \"/usr/lib/libthread_db.so.1\".\r\nCore was generated by `./a'.\r\nProgram terminated with signal SIGSEGV, Segmentation fault.\r\n#0  0x000000000041e425 in __sanitizer::SizeClassAllocator64\u003c123145302310912ul, 8796093022208ul, 8ul, __sanitizer::SizeClassMap\u003c17ul, 128ul, 16ul\u003e, __msan::MsanMapUnmapCallback\u003e::AllocateBatch(__sanitizer::AllocatorStats*, __sanitizer::SizeClassAllocatorLocalCache\u003c__sanitizer::SizeClassAllocator64\u003c123145302310912ul, 8796093022208ul, 8ul, __sanitizer::SizeClassMap\u003c17ul, 128ul, 16ul\u003e, __msan::MsanMapUnmapCallback\u003e \u003e*, unsigned long) ()\r\n```\r\n\r\nSorry for the noice, this should have been reported upstream I guess. Either to Arch or Clang.",
	"user": {
		"login": "mewmew",
		"id": 1414531,
		"type": "User",
		"site_admin": false
	},
	"created_at": "2016-08-08T20:08:21Z",
	"updated_at": "2016-08-08T20:08:21Z"
}
