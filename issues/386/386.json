{
	"id": 51276413,
	"number": 386,
	"state": "closed",
	"title": "all.bash gotest fails on line 164 segmentation fault on debian lenny on xen ",
	"body": "by **tntknight**:\n\n\u003cpre\u003egotest fails in all.bash with following error and segfault\n\n===================================================================\nmake[2]: Entering directory `/usr/local/go/src/pkg/archive/tar'\n8g -o _gotest_.8 common.go reader.go writer.go    reader_test.go \nwriter_test.go\nrm -f _test/archive/tar.a\ngopack grc _test/archive/tar.a _gotest_.8\nmake[2]: Leaving directory `/usr/local/go/src/pkg/archive/tar'\n\nMessage from syslogd@standcanada at Sat Dec  5 15:30:57 2009 ...\nstandcanada kernel: ------------[ cut here ]------------\n\nMessage from syslogd@standcanada at Sat Dec  5 15:30:57 2009 ...\nstandcanada kernel: invalid opcode: 0000 [#1] SMP\n/usr/local/go/bin/gotest: line 164:  8571 Segmentation fault      $E \n./$O.out \u0026quot;$@\u0026quot;\n\nMessage from syslogd@standcanada at Sat Dec  5 15:30:57 2009 ...\nstandcanada kernel: Process 8.out (pid: 8571, ti=ecbfc000 task=ed030410 \ntask.ti=ecbfc000)\nmake[1]: *** [test] Error 139\nmake[1]: Leaving directory `/usr/local/go/src/pkg/archive/tar'\nmake: *** [archive/tar.test] Error 2\nMessage from syslogd@standcanada at Sat Dec  5 15:30:57 2009 ...\nstandcanada kernel: Stack: 08eff20b 00000000 2cb81038 00000000 00000280 \n0000000f 00000001 c0109941\n\nMessage from syslogd@standcanada at Sat Dec  5 15:30:57 2009 ...\nstandcanada kernel:        ecbdddd8 ecbddc80 00000007 080b90d8 000fffff \n00000051 90d8ffff 08eff20b\n\nMessage from syslogd@standcanada at Sat Dec  5 15:30:57 2009 ...\nstandcanada kernel:        00000001 bffab83c 0806f043 ecbfc000 c0106d46 \n00000001 bffab788 00000010\n\nMessage from syslogd@standcanada at Sat Dec  5 15:30:57 2009 ...\nstandcanada kernel: Call Trace:\n\nMessage from syslogd@standcanada at Sat Dec  5 15:30:57 2009 ...\nstandcanada kernel:  [\u0026lt;c0109941\u0026gt;] write_ldt+0x1a7/0x1c3\n\nMessage from syslogd@standcanada at Sat Dec  5 15:30:57 2009 ...\nstandcanada kernel:  [\u0026lt;c0106d46\u0026gt;] syscall_call+0x7/0xb\n\nMessage from syslogd@standcanada at Sat Dec  5 15:30:57 2009 ...\nstandcanada kernel:  [\u0026lt;c0430000\u0026gt;] hrtimer_nanosleep_restart+0x28/0x51\n\nMessage from syslogd@standcanada at Sat Dec  5 15:30:57 2009 ...\nstandcanada kernel:  =======================\n\nMessage from syslogd@standcanada at Sat Dec  5 15:30:57 2009 ...\nstandcanada kernel: Code: f3 89 fe 89 04 24 e8 d5 00 00 00 89 f1 8b 7c 24 \n04 8b 14 24 89 fe 31 ff 89 34 24 8b 34 24 89 7c 24 04 e8 79 dc ff ff 85 c0 \n74 04 \u0026lt;0f\u0026gt; 0b eb fe 83 c4 10 5b 5e 5f c3 90 90 64 c6 05 21 b0 5a c0 01\n\nMessage from syslogd@standcanada at Sat Dec  5 15:30:57 2009 ...\nstandcanada kernel: EIP: [\u0026lt;c01034cb\u0026gt;] xen_write_ldt_entry+0x87/0x94 SS:ESP \n0069:ecbfdf64\n==========================================================================\n8g and 8l were built\n\n\nWhat steps will reproduce the problem?\n1.  8g helloworld.go \n2.  8l helloworld.8\n3. ./8.out\n\nWhat is the expected output? What do you see instead?\n\nexpected output: hello world\ninstead:\n==========================================================================\nMessage from syslogd@standcanada at Sat Dec  5 18:52:52 2009 ...\nstandcanada kernel: ------------[ cut here ]------------\n\nMessage from syslogd@standcanada at Sat Dec  5 18:52:52 2009 ...\nstandcanada kernel: invalid opcode: 0000 [#3] SMP\n\nMessage from syslogd@standcanada at Sat Dec  5 18:52:52 2009 ...\nstandcanada kernel: Process 8.out (pid: 17332, ti=ec7d2000 task=ec80e030 \ntask.ti=ec7d2000)\n\nMessage from syslogd@standcanada at Sat Dec  5 18:52:52 2009 ...\nstandcanada kernel: Stack: 08eff205 00000000 2c8d2038 00000000 00000280 \n0000000f 00000001 c0109941\n\nMessage from syslogd@standcanada at Sat Dec  5 18:52:52 2009 ...\nstandcanada kernel:        ec8a0358 ec8a0200 00000007 0805c474 000fffff \n00000051 c474ffff 08eff205\nSegmentation fault\nstandcanada /usr/local/go/test:\nMessage from syslogd@standcanada at Sat Dec  5 18:52:52 2009 ...\nstandcanada kernel:        00000001 bfac8b7c 0804886f ec7d2000 c0106d46 \n00000001 bfac8ac8 00000010\n\nMessage from syslogd@standcanada at Sat Dec  5 18:52:52 2009 ...\nstandcanada kernel: Call Trace:\n\nMessage from syslogd@standcanada at Sat Dec  5 18:52:52 2009 ...\nstandcanada kernel:  [\u0026lt;c0109941\u0026gt;] write_ldt+0x1a7/0x1c3\n\nMessage from syslogd@standcanada at Sat Dec  5 18:52:52 2009 ...\nstandcanada kernel:  [\u0026lt;c0106d46\u0026gt;] syscall_call+0x7/0xb\n\nMessage from syslogd@standcanada at Sat Dec  5 18:52:52 2009 ...\nstandcanada kernel:  [\u0026lt;c0430000\u0026gt;] hrtimer_nanosleep_restart+0x28/0x51\n\n\nMessage from syslogd@standcanada at Sat Dec  5 18:52:52 2009 ...\nstandcanada kernel:  =======================\n\nMessage from syslogd@standcanada at Sat Dec  5 18:52:52 2009 ...\nstandcanada kernel: Code: f3 89 fe 89 04 24 e8 d5 00 00 00 89 f1 8b 7c 24 \n04 8b 14 24 89 fe 31 ff 89 34 24 8b 34 24 89 7c 24 04 e8 79 dc ff ff 85 c0 \n74 04 \u0026lt;0f\u0026gt; 0b eb fe 83 c4 10 5b 5e 5f c3 90 90 64 c6 05 21 b0 5a c0 01\n\nMessage from syslogd@standcanada at Sat Dec  5 18:52:52 2009 ...\nstandcanada kernel: EIP: [\u0026lt;c01034cb\u0026gt;] xen_write_ldt_entry+0x87/0x94 SS:ESP \n0069:ec7d3f64\n==========================================================================\n\nWhat is your $GOOS?  $GOARCH?\nGOOS=linux\nGOARCH=386\n\n\nWhich revision are you using?  (hg identify)\nbdfc3faa253a tip\n\n\nPlease provide any additional information below.\nsystem is 32 bit Debian lenny running in a XEN slice on 64 bit hardware\n\nuname -a\nLinux standcanada 2.6.27.2-xenU #1 SMP Mon Oct 20 21:19:45 EDT 2008 i686 \nGNU/Linux\u003c/pre\u003e",
	"user": {
		"login": "gopherbot",
		"id": 8566911,
		"type": "User",
		"site_admin": false
	},
	"labels": [
		{
			"name": "ExpertNeeded"
		}
	],
	"assignee": {
		"login": "rsc",
		"id": 104030,
		"type": "User",
		"site_admin": false
	},
	"comments": 20,
	"closed_at": "2014-12-08T10:04:22Z",
	"created_at": "2009-12-05T19:08:44Z",
	"updated_at": "2016-03-12T22:17:44Z"
}
