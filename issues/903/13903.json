{
	"id": 125857562,
	"number": 13903,
	"state": "closed",
	"title": "cmd/compile: fatal error: runtime: cannot map pages in arena address space",
	"body": "go version: go version go1.5.2 windows/386 \r\ngo version: go1.6beta1 windows/386\r\noperator system : windows xp\r\n\r\nbuild pkg [https://github.com/visualfc/goqt](https://github.com/visualfc/goqt) \r\nGo1.4.2 compile correctly. On some machines Go1.5.2 dump `fatal error: runtime: cannot map pages in arena address space` and Go1.6 beta1 dump `fatal error: out of memory`\r\n\r\n### go1.5.2 build \r\n```\r\ngo.exe build \r\n# github.com/visualfc/goqt/ui\r\nfatal error: runtime: cannot map pages in arena address space\r\n\r\nruntime stack:\r\nruntime.throw(0x7b3040, 0x30)\r\n\tc:/go/src/runtime/panic.go:527 +0x7f\r\nruntime.sysMap(0x41c10000, 0x100000, 0x314cfd01, 0xbb2378)\r\n\tc:/go/src/runtime/mem_windows.go:112 +0x78\r\nruntime.mHeap_SysAlloc(0xb23640, 0x100000, 0x0)\r\n\tc:/go/src/runtime/malloc.go:426 +0x121\r\nruntime.mHeap_Grow(0xb23640, 0x8, 0x0)\r\n\tc:/go/src/runtime/mheap.go:628 +0x52\r\nruntime.mHeap_AllocSpanLocked(0xb23640, 0x1, 0x31c6eaa8)\r\n\tc:/go/src/runtime/mheap.go:532 +0x574\r\nruntime.mHeap_Alloc_m(0xb23640, 0x1, 0x3, 0x0, 0x31c6eaa8)\r\n\tc:/go/src/runtime/mheap.go:425 +0x281\r\nruntime.mHeap_Alloc.func1()\r\n\tc:/go/src/runtime/mheap.go:484 +0x3d\r\nruntime.systemstack(0x314cfee0)\r\n\tc:/go/src/runtime/asm_386.s:283 +0x81\r\nruntime.mHeap_Alloc(0xb23640, 0x1, 0x3, 0x100, 0x2000)\r\n\tc:/go/src/runtime/mheap.go:485 +0x5a\r\nruntime.mCentral_Grow(0xb27fb0, 0x0)\r\n\tc:/go/src/runtime/mcentral.go:190 +0x8e\r\nruntime.mCentral_CacheSpan(0xb27fb0, 0x31c6eaa8)\r\n\tc:/go/src/runtime/mcentral.go:86 +0x439\r\nruntime.mCache_Refill(0x31350254, 0x3, 0x31c6eaa8)\r\n\tc:/go/src/runtime/mcache.go:118 +0xae\r\nruntime.mallocgc.func2()\r\n\tc:/go/src/runtime/malloc.go:614 +0x2b\r\nruntime.systemstack(0x11350000)\r\n\tc:/go/src/runtime/asm_386.s:267 +0x57\r\nruntime.mstart()\r\n\tc:/go/src/runtime/proc1.go:668\r\n\r\ngoroutine 1 [running]:\r\nruntime.systemstack_switch()\r\n\tc:/go/src/runtime/asm_386.s:222 fp=0x18b0b120 sp=0x18b0b11c\r\nruntime.mallocgc(0x20, 0x74d500, 0x0, 0x760540)\r\n\tc:/go/src/runtime/malloc.go:615 +0x65a fp=0x18b0b188 sp=0x18b0b120\r\nruntime.newobject(0x74d500, 0x713ac0)\r\n\tc:/go/src/runtime/malloc.go:763 +0x41 fp=0x18b0b19c sp=0x18b0b188\r\ncmd/compile/internal/gc.(*Node).Convconst(0x41c0be60, 0x41c0bf20, 0x11370d80)\r\n\tc:/go/src/cmd/compile/internal/gc/const.go:1457 +0x130 fp=0x18b0b2a8 sp=0x18b0b19c\r\ncmd/compile/internal/x86.gmove(0x41c0be60, 0x41bfd9e0)\r\n\tc:/go/src/cmd/compile/internal/x86/gsubr.go:793 +0x360 fp=0x18b0b368 sp=0x18b0b2a8\r\ncmd/compile/internal/gc.cgen_wb(0x41c0be60, 0x41bfd9e0, 0xbadc00)\r\n\tc:/go/src/cmd/compile/internal/gc/cgen.go:252 +0x3c41 fp=0x18b0b578 sp=0x18b0b368\r\ncmd/compile/internal/gc.Cgen(0x41c0be60, 0x41bfd9e0)\r\n\tc:/go/src/cmd/compile/internal/gc/cgen.go:19 +0x2e fp=0x18b0b588 sp=0x18b0b578\r\ncmd/compile/internal/gc.Clearslim(0x41bfd9e0)\r\n\tc:/go/src/cmd/compile/internal/gc/gen.go:367 +0x165 fp=0x18b0b600 sp=0x18b0b588\r\ncmd/compile/internal/gc.Cgen_as_wb(0x41bfd9e0, 0x1d51cb40, 0x0)\r\n\tc:/go/src/cmd/compile/internal/gc/gen.go:947 +0x1aa fp=0x18b0b630 sp=0x18b0b600\r\ncmd/compile/internal/gc.Cgen_as(0x41bfd9e0, 0x1d51cb40)\r\n\tc:/go/src/cmd/compile/internal/gc/gen.go:907 +0x2e fp=0x18b0b640 sp=0x18b0b630\r\ncmd/compile/internal/gc.gen(0x41bfda40)\r\n\tc:/go/src/cmd/compile/internal/gc/gen.go:857 +0x17b fp=0x18b0b6f0 sp=0x18b0b640\r\ncmd/compile/internal/gc.Genlist(0x41bf09a0)\r\n\tc:/go/src/cmd/compile/internal/gc/gen.go:219 +0x2d fp=0x18b0b6f8 sp=0x18b0b6f0\r\ncmd/compile/internal/gc.cgen_call(0x1543a0c0, 0x0)\r\n\tc:/go/src/cmd/compile/internal/gc/cgen.go:2515 +0x97 fp=0x18b0b718 sp=0x18b0b6f8\r\ncmd/compile/internal/gc.Igen(0x1543a0c0, 0x41c0b380, 0x0)\r\n\tc:/go/src/cmd/compile/internal/gc/cgen.go:1676 +0x11e fp=0x18b0b758 sp=0x18b0b718\r\ncmd/compile/internal/gc.componentgen_wb(0x1543a0c0, 0x1543a180, 0x41c0b000, 0x41c0b000)\r\n\tc:/go/src/cmd/compile/internal/gc/gen.go:1141 +0x7b4 fp=0x18b0b82c sp=0x18b0b758\r\ncmd/compile/internal/gc.sgen_wb(0x1543a0c0, 0x1543a180, 0x8, 0x0, 0x0)\r\n\tc:/go/src/cmd/compile/internal/gc/cgen.go:2272 +0x386 fp=0x18b0b8b0 sp=0x18b0b82c\r\ncmd/compile/internal/gc.cgen_wb(0x1543a0c0, 0x1543a180, 0x0)\r\n\tc:/go/src/cmd/compile/internal/gc/cgen.go:86 +0x3ce fp=0x18b0bac0 sp=0x18b0b8b0\r\ncmd/compile/internal/gc.Cgen_as_wb(0x1543a180, 0x1543a0c0, 0x0)\r\n\tc:/go/src/cmd/compile/internal/gc/gen.go:956 +0x138 fp=0x18b0baf0 sp=0x18b0bac0\r\ncmd/compile/internal/gc.Cgen_as(0x1543a180, 0x1543a0c0)\r\n\tc:/go/src/cmd/compile/internal/gc/gen.go:907 +0x2e fp=0x18b0bb00 sp=0x18b0baf0\r\ncmd/compile/internal/gc.gen(0x41c0a000)\r\n\tc:/go/src/cmd/compile/internal/gc/gen.go:857 +0x17b fp=0x18b0bbb0 sp=0x18b0bb00\r\ncmd/compile/internal/gc.Genlist(0x41bf08b0)\r\n\tc:/go/src/cmd/compile/internal/gc/gen.go:219 +0x2d fp=0x18b0bbb8 sp=0x18b0bbb0\r\ncmd/compile/internal/gc.compile(0x15437500)\r\n\tc:/go/src/cmd/compile/internal/gc/pgen.go:471 +0xa69 fp=0x18b0bcf4 sp=0x18b0bbb8\r\ncmd/compile/internal/gc.funccompile(0x15437500)\r\n\tc:/go/src/cmd/compile/internal/gc/dcl.go:1484 +0x198 fp=0x18b0bd30 sp=0x18b0bcf4\r\ncmd/compile/internal/gc.Main()\r\n\tc:/go/src/cmd/compile/internal/gc/lex.go:473 +0x1a08 fp=0x18b0beb0 sp=0x18b0bd30\r\ncmd/compile/internal/x86.Main()\r\n\tc:/go/src/cmd/compile/internal/x86/galign.go:108 +0x53e fp=0x18b0bf1c sp=0x18b0beb0\r\nmain.main()\r\n\tc:/go/src/cmd/compile/main.go:24 +0xb2 fp=0x18b0bf88 sp=0x18b0bf1c\r\nruntime.main()\r\n\tc:/go/src/runtime/proc.go:111 +0x234 fp=0x18b0bfb0 sp=0x18b0bf88\r\nruntime.goexit()\r\n\tc:/go/src/runtime/asm_386.s:1662 +0x1 fp=0x18b0bfb4 sp=0x18b0bfb0\r\n```\r\n\r\n### go1.6 beta1 build\r\n```\r\ngo.exe build \r\n# github.com/visualfc/goqt/ui\r\nfatal error: out of memory\r\n\r\nruntime stack:\r\nruntime.throw(0x7b2190, 0xd)\r\n\tc:/go/src/runtime/panic.go:530 +0x7f\r\nruntime.(*mcache).refill(0x320000, 0x1, 0x10f84210)\r\n\tc:/go/src/runtime/mcache.go:121 +0xce\r\nruntime.mallocgc.func2()\r\n\tc:/go/src/runtime/malloc.go:638 +0x2b\r\nruntime.systemstack(0xbea3a0)\r\n\tc:/go/src/runtime/asm_386.s:313 +0x5e\r\nruntime.mstart()\r\n\tc:/go/src/runtime/proc.go:1042\r\n\r\ngoroutine 1 [running]:\r\nruntime.systemstack_switch()\r\n\tc:/go/src/runtime/asm_386.s:267 fp=0x51a2d878 sp=0x51a2d874\r\nruntime.mallocgc(0x8, 0x746fe0, 0x0, 0x14)\r\n\tc:/go/src/runtime/malloc.go:639 +0x6ca fp=0x51a2d8e4 sp=0x51a2d878\r\nruntime.newobject(0x746fe0, 0x10fd8000)\r\n\tc:/go/src/runtime/malloc.go:777 +0x41 fp=0x51a2d8f8 sp=0x51a2d8e4\r\nruntime.convT2E(0x746fe0, 0x10f843f8, 0x0, 0x0, 0x0)\r\n\tc:/go/src/runtime/iface.go:140 +0x89 fp=0x51a2d90c sp=0x51a2d8f8\r\ncmd/compile/internal/gc.symfmt(0x1196e880, 0x0, 0x0, 0x0)\r\n\tc:/go/src/cmd/compile/internal/gc/fmt.go:439 +0x870 fp=0x51a2d968 sp=0x51a2d90c\r\ncmd/compile/internal/gc.Sconv(0x1196e880, 0x0, 0x0, 0x0)\r\n\tc:/go/src/cmd/compile/internal/gc/fmt.go:1603 +0x130 fp=0x51a2d998 sp=0x51a2d968\r\ncmd/compile/internal/gc.dumpexportvar(0x1196e880)\r\n\tc:/go/src/cmd/compile/internal/gc/export.go:264 +0x2f0 fp=0x51a2da24 sp=0x51a2d998\r\ncmd/compile/internal/gc.dumpsym(0x1196e880)\r\n\tc:/go/src/cmd/compile/internal/gc/export.go:354 +0xf5 fp=0x51a2da74 sp=0x51a2da24\r\ncmd/compile/internal/gc.dumpexport()\r\n\tc:/go/src/cmd/compile/internal/gc/export.go:421 +0x35f fp=0x51a2dbec sp=0x51a2da74\r\ncmd/compile/internal/gc.dumpobj()\r\n\tc:/go/src/cmd/compile/internal/gc/obj.go:41 +0x510 fp=0x51a2dd14 sp=0x51a2dbec\r\ncmd/compile/internal/gc.Main()\r\n\tc:/go/src/cmd/compile/internal/gc/lex.go:495 +0x1ce0 fp=0x51a2dea8 sp=0x51a2dd14\r\ncmd/compile/internal/x86.Main()\r\n\tc:/go/src/cmd/compile/internal/x86/galign.go:108 +0x53e fp=0x51a2df14 sp=0x51a2dea8\r\nmain.main()\r\n\tc:/go/src/cmd/compile/main.go:30 +0x117 fp=0x51a2df80 sp=0x51a2df14\r\nruntime.main()\r\n\tc:/go/src/runtime/proc.go:185 +0x234 fp=0x51a2dfa8 sp=0x51a2df80\r\nruntime.goexit()\r\n\tc:/go/src/runtime/asm_386.s:1583 +0x1 fp=0x51a2dfac sp=0x51a2dfa8\r\n```",
	"user": {
		"login": "visualfc",
		"id": 714279,
		"type": "User",
		"site_admin": false
	},
	"comments": 10,
	"closed_at": "2016-05-10T18:11:30Z",
	"created_at": "2016-01-11T00:57:49Z",
	"updated_at": "2016-05-10T18:11:30Z",
	"milestone": {
		"id": 1414133,
		"number": 31,
		"title": "Go1.7"
	}
}
