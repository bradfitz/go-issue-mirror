{
	"id": 205461655,
	"body": "Probably I used different container, I've redone it and made it sure to match binary, top10 indeed shows `elliptics.NewReadSeekerKeyOffsetSize()` as main source for allocation, but profiler doesn't show excessive memory usage, both 1.5.3/1.6 look quite similar.\r\n1.5.3 version ran quite for a while (like days under load) and its memory usage is about 1.1Gb, 1.6 version ran for couple of minutes and sucked up 1.5Gb.\r\n\r\n1.6\r\n```\r\n159.70MB of 164.73MB total (96.95%)\r\nDropped 243 nodes (cum \u003c= 0.82MB)\r\nShowing top 10 nodes out of 56 (cum \u003e= 3MB)\r\n      flat  flat%   sum%        cum   cum%\r\n  137.92MB 83.73% 83.73%   137.92MB 83.73%  github.com/bioothod/elliptics-go/elliptics.NewReadSeekerKeyOffsetSize\r\n   13.88MB  8.43% 92.15%    13.88MB  8.43%  crypto/tls.(*block).reserve\r\n    4.51MB  2.74% 94.89%     4.51MB  2.74%  net/http.newBufioReader\r\n    2.01MB  1.22% 96.11%     2.01MB  1.22%  net/http.newBufioWriterSize\r\n    0.88MB  0.53% 96.64%     0.88MB  0.53%  bytes.makeSlice\r\n    0.50MB   0.3% 96.95%   161.85MB 98.25%  net/http.(*conn).serve\r\n         0     0% 96.95%    12.38MB  7.51%  bufio.(*Writer).Write\r\n         0     0% 96.95%     0.88MB  0.53%  bytes.(*Buffer).Write\r\n         0     0% 96.95%     0.88MB  0.53%  bytes.(*Buffer).grow\r\n         0     0% 96.95%        3MB  1.82%  crypto/tls.(*Conn).Handshake\r\n```\r\n\r\n1.5.3\r\n```\r\n292.83MB of 300.33MB total (97.50%)\r\nDropped 448 nodes (cum \u003c= 1.50MB)\r\nShowing top 10 nodes out of 53 (cum \u003e= 4MB)\r\n      flat  flat%   sum%        cum   cum%\r\n  262.97MB 87.56% 87.56%   262.97MB 87.56%  github.com/bioothod/elliptics-go/elliptics.NewReadSeekerKeyOffsetSize\r\n   20.57MB  6.85% 94.41%    20.57MB  6.85%  crypto/tls.(*block).reserve\r\n    3.01MB  1.00% 95.41%     3.01MB  1.00%  net/http.newBufioWriterSize\r\n    2.74MB  0.91% 96.32%     2.74MB  0.91%  bytes.makeSlice\r\n    2.51MB  0.84% 97.16%     2.51MB  0.84%  net/http.newBufioReader\r\n    1.03MB  0.34% 97.50%    19.60MB  6.53%  io.copyBuffer\r\n         0     0% 97.50%    18.57MB  6.18%  bufio.(*Writer).Write\r\n         0     0% 97.50%     2.74MB  0.91%  bytes.(*Buffer).Write\r\n         0     0% 97.50%     2.74MB  0.91%  bytes.(*Buffer).grow\r\n         0     0% 97.50%        4MB  1.33%  crypto/tls.(*Conn).Handshake\r\n```",
	"user": {
		"login": "bioothod",
		"id": 1847575,
		"type": "User",
		"site_admin": false
	},
	"created_at": "2016-04-04T19:36:02Z",
	"updated_at": "2016-04-04T19:36:02Z"
}
