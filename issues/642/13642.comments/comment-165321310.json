{
	"id": 165321310,
	"body": "One output with GOTRACEBACK=crash. Normally a run takes about 200 seconds. This one timed out (on its own) after 300 (edit: no, 1000). Because it wasn't a signal-induced exit the thread stacks were not dumped.\r\n\r\n```\r\n##### GOMAXPROCS=2 runtime -cpu=1,2,4\r\npanic: test timed out after 5m0s\r\n\r\ngoroutine 232209 [running]:\r\nruntime.gopanic(0x2293e0, 0xc820010300)\r\n\t/Users/rsc/go/src/runtime/panic.go:464 +0x3e6 fp=0xc82003bf28 sp=0xc82003bea8\r\ntesting.startAlarm.func1()\r\n\t/Users/rsc/go/src/testing/testing.go:717 +0x132 fp=0xc82003bfb0 sp=0xc82003bf28\r\nruntime.goexit()\r\n\t/Users/rsc/go/src/runtime/asm_amd64.s:1998 +0x1 fp=0xc82003bfb8 sp=0xc82003bfb0\r\ncreated by time.goFunc\r\n\t/Users/rsc/go/src/time/sleep.go:129 +0x3a\r\n\r\ngoroutine 1 [chan receive, 1 minutes]:\r\nruntime.gopark(0x35e1a0, 0xc82049c0b8, 0x2ebdc0, 0xc, 0x17, 0x3)\r\n\t/Users/rsc/go/src/runtime/proc.go:257 +0x163 fp=0xc82003ab70 sp=0xc82003ab48\r\nruntime.goparkunlock(0xc82049c0b8, 0x2ebdc0, 0xc, 0x509a17, 0x3)\r\n\t/Users/rsc/go/src/runtime/proc.go:263 +0x54 fp=0xc82003aba8 sp=0xc82003ab70\r\nruntime.chanrecv(0x21c6c0, 0xc82049c060, 0xc82003ad88, 0xc8202b5c01, 0x80000)\r\n\t/Users/rsc/go/src/runtime/chan.go:470 +0x49f fp=0xc82003ac30 sp=0xc82003aba8\r\nruntime.chanrecv1(0x21c6c0, 0xc82049c060, 0xc82003ad88)\r\n\t/Users/rsc/go/src/runtime/chan.go:355 +0x2b fp=0xc82003ac60 sp=0xc82003ac30\r\ntesting.RunTests(0x35db98, 0x458840, 0xa2, 0xa2, 0x229c01)\r\n\t/Users/rsc/go/src/testing/testing.go:576 +0x8b9 fp=0xc82003ade0 sp=0xc82003ac60\r\ntesting.(*M).Run(0xc82003af08, 0xd49c2)\r\n\t/Users/rsc/go/src/testing/testing.go:508 +0x81 fp=0xc82003ae68 sp=0xc82003ade0\r\nmain.main()\r\n\truntime/_test/_testmain.go:924 +0x117 fp=0xc82003af60 sp=0xc82003ae68\r\nruntime.main()\r\n\t/Users/rsc/go/src/runtime/proc.go:183 +0x2b0 fp=0xc82003afb0 sp=0xc82003af60\r\nruntime.goexit()\r\n\t/Users/rsc/go/src/runtime/asm_amd64.s:1998 +0x1 fp=0xc82003afb8 sp=0xc82003afb0\r\n\r\ngoroutine 17 [syscall, 16 minutes, locked to thread]:\r\nruntime.goexit()\r\n\t/Users/rsc/go/src/runtime/asm_amd64.s:1998 +0x1 fp=0xc820038fb8 sp=0xc820038fb0\r\n\r\ngoroutine 2 [runnable]:\r\nruntime.gopark(0x35e1a0, 0x45bab0, 0x2ecbc0, 0xf, 0x100000000000014, 0x1)\r\n\t/Users/rsc/go/src/runtime/proc.go:257 +0x163 fp=0xc820024758 sp=0xc820024730\r\nruntime.goparkunlock(0x45bab0, 0x2ecbc0, 0xf, 0xc820000114, 0x1)\r\n\t/Users/rsc/go/src/runtime/proc.go:263 +0x54 fp=0xc820024790 sp=0xc820024758\r\nruntime.forcegchelper()\r\n\t/Users/rsc/go/src/runtime/proc.go:224 +0xb8 fp=0xc8200247c0 sp=0xc820024790\r\nruntime.goexit()\r\n\t/Users/rsc/go/src/runtime/asm_amd64.s:1998 +0x1 fp=0xc8200247c8 sp=0xc8200247c0\r\ncreated by runtime.init.4\r\n\t/Users/rsc/go/src/runtime/proc.go:213 +0x2b\r\n\r\ngoroutine 3 [GC sweep wait]:\r\nruntime.gopark(0x35e1a0, 0x45bce0, 0x2e88f0, 0xd, 0x56514, 0x1)\r\n\t/Users/rsc/go/src/runtime/proc.go:257 +0x163 fp=0xc820024f48 sp=0xc820024f20\r\nruntime.goparkunlock(0x45bce0, 0x2e88f0, 0xd, 0x14, 0x1)\r\n\t/Users/rsc/go/src/runtime/proc.go:263 +0x54 fp=0xc820024f80 sp=0xc820024f48\r\nruntime.bgsweep(0xc82001a070)\r\n\t/Users/rsc/go/src/runtime/mgcsweep.go:79 +0x14d fp=0xc820024fb8 sp=0xc820024f80\r\nruntime.goexit()\r\n\t/Users/rsc/go/src/runtime/asm_amd64.s:1998 +0x1 fp=0xc820024fc0 sp=0xc820024fb8\r\ncreated by runtime.gcenable\r\n\t/Users/rsc/go/src/runtime/mgc.go:191 +0x53\r\n\r\ngoroutine 4 [finalizer wait, 1 minutes]:\r\nruntime.gopark(0x35e1a0, 0x476670, 0x2ec7e0, 0xe, 0x14, 0x1)\r\n\t/Users/rsc/go/src/runtime/proc.go:257 +0x163 fp=0xc8202d5718 sp=0xc8202d56f0\r\nruntime.goparkunlock(0x476670, 0x2ec7e0, 0xe, 0x2000000014, 0x1)\r\n\t/Users/rsc/go/src/runtime/proc.go:263 +0x54 fp=0xc8202d5750 sp=0xc8202d5718\r\nruntime.runfinq()\r\n\t/Users/rsc/go/src/runtime/mfinal.go:158 +0xaa fp=0xc8202d57c0 sp=0xc8202d5750\r\nruntime.goexit()\r\n\t/Users/rsc/go/src/runtime/asm_amd64.s:1998 +0x1 fp=0xc8202d57c8 sp=0xc8202d57c0\r\ncreated by runtime.createfing\r\n\t/Users/rsc/go/src/runtime/mfinal.go:139 +0x60\r\n\r\ngoroutine 5 [timer goroutine (idle)]:\r\nruntime.gopark(0x35e1a0, 0x45bdc0, 0x31da20, 0x16, 0x14, 0x1)\r\n\t/Users/rsc/go/src/runtime/proc.go:257 +0x163 fp=0xc820025f00 sp=0xc820025ed8\r\nruntime.goparkunlock(0x45bdc0, 0x31da20, 0x16, 0x14, 0x1)\r\n\t/Users/rsc/go/src/runtime/proc.go:263 +0x54 fp=0xc820025f38 sp=0xc820025f00\r\nruntime.timerproc()\r\n\t/Users/rsc/go/src/runtime/time.go:202 +0x123 fp=0xc820025fc0 sp=0xc820025f38\r\nruntime.goexit()\r\n\t/Users/rsc/go/src/runtime/asm_amd64.s:1998 +0x1 fp=0xc820025fc8 sp=0xc820025fc0\r\ncreated by runtime.addtimerLocked\r\n\t/Users/rsc/go/src/runtime/time.go:116 +0x11f\r\n\r\ngoroutine 208 [GC worker (idle)]:\r\nruntime.gopark(0x35dfe8, 0xc82002b400, 0x312a20, 0x10, 0xc820233714, 0x0)\r\n\t/Users/rsc/go/src/runtime/proc.go:257 +0x163 fp=0xc820233748 sp=0xc820233720\r\nruntime.gcBgMarkWorker(0xc82001c000)\r\n\t/Users/rsc/go/src/runtime/mgc.go:1379 +0x12c fp=0xc8202337b8 sp=0xc820233748\r\nruntime.goexit()\r\n\t/Users/rsc/go/src/runtime/asm_amd64.s:1998 +0x1 fp=0xc8202337c0 sp=0xc8202337b8\r\ncreated by runtime.gcBgMarkStartWorkers\r\n\t/Users/rsc/go/src/runtime/mgc.go:1326 +0x93\r\n\r\ngoroutine 232206 [runnable]:\r\nruntime.gcMarkDone()\r\n\t/Users/rsc/go/src/runtime/mgc.go:1037 fp=0xc8202d2f48 sp=0xc8202d2f40\r\nruntime.gcBgMarkWorker(0xc820095500)\r\n\t/Users/rsc/go/src/runtime/mgc.go:1456 +0x4d8 fp=0xc8202d2fb8 sp=0xc8202d2f48\r\nruntime.goexit()\r\n\t/Users/rsc/go/src/runtime/asm_amd64.s:1998 +0x1 fp=0xc8202d2fc0 sp=0xc8202d2fb8\r\ncreated by runtime.gcBgMarkStartWorkers\r\n\t/Users/rsc/go/src/runtime/mgc.go:1326 +0x93\r\n\r\ngoroutine 232345 [semacquire]:\r\nruntime.gopark(0x35e1a0, 0x464600, 0x2efc70, 0xa, 0x19, 0x4)\r\n\t/Users/rsc/go/src/runtime/proc.go:257 +0x163 fp=0xc82031f0c8 sp=0xc82031f0a0\r\nruntime.goparkunlock(0x464600, 0x2efc70, 0xa, 0x31a19, 0x4)\r\n\t/Users/rsc/go/src/runtime/proc.go:263 +0x54 fp=0xc82031f100 sp=0xc82031f0c8\r\nruntime.semacquire(0x44213c, 0x0)\r\n\t/Users/rsc/go/src/runtime/sema.go:104 +0x2f7 fp=0xc82031f160 sp=0xc82031f100\r\nruntime.stopTheWorld(0x2eefc0, 0xe)\r\n\t/Users/rsc/go/src/runtime/proc.go:867 +0x28 fp=0xc82031f178 sp=0xc82031f160\r\nruntime.ReadMemStats(0xc82031f1e8)\r\n\t/Users/rsc/go/src/runtime/mstats.go:162 +0x2c fp=0xc82031f1a0 sp=0xc82031f178\r\nruntime_test.TestPeriodicGC(0xc820189dd0)\r\n\t/Users/rsc/go/src/runtime/gc_test.go:223 +0xbf fp=0xc820321f48 sp=0xc82031f1a0\r\ntesting.tRunner(0xc820189dd0, 0x458d38)\r\n\t/Users/rsc/go/src/testing/testing.go:466 +0x98 fp=0xc820321f80 sp=0xc820321f48\r\nruntime.goexit()\r\n\t/Users/rsc/go/src/runtime/asm_amd64.s:1998 +0x1 fp=0xc820321f88 sp=0xc820321f80\r\ncreated by testing.RunTests\r\n\t/Users/rsc/go/src/testing/testing.go:575 +0x879\r\n\r\ngoroutine 209934 [GC worker (idle)]:\r\nruntime.gopark(0x35dfe8, 0xc820526000, 0x312a20, 0x10, 0xc8202d1f14, 0x0)\r\n\t/Users/rsc/go/src/runtime/proc.go:257 +0x163 fp=0xc8202d1f48 sp=0xc8202d1f20\r\nruntime.gcBgMarkWorker(0xc82001d500)\r\n\t/Users/rsc/go/src/runtime/mgc.go:1379 +0x12c fp=0xc8202d1fb8 sp=0xc8202d1f48\r\nruntime.goexit()\r\n\t/Users/rsc/go/src/runtime/asm_amd64.s:1998 +0x1 fp=0xc8202d1fc0 sp=0xc8202d1fb8\r\ncreated by runtime.gcBgMarkStartWorkers\r\n\t/Users/rsc/go/src/runtime/mgc.go:1326 +0x93\r\n\r\ngoroutine 232311 [GC worker (idle)]:\r\nruntime.gopark(0x35dfe8, 0x45c4c0, 0x312a20, 0x10, 0xc8202d3714, 0x0)\r\n\t/Users/rsc/go/src/runtime/proc.go:257 +0x163 fp=0xc8202d3748 sp=0xc8202d3720\r\nruntime.gcBgMarkWorker(0xc820094000)\r\n\t/Users/rsc/go/src/runtime/mgc.go:1379 +0x12c fp=0xc8202d37b8 sp=0xc8202d3748\r\nruntime.goexit()\r\n\t/Users/rsc/go/src/runtime/asm_amd64.s:1998 +0x1 fp=0xc8202d37c0 sp=0xc8202d37b8\r\ncreated by runtime.gcBgMarkStartWorkers\r\n\t/Users/rsc/go/src/runtime/mgc.go:1326 +0x93\r\nFAIL\truntime\t985.660s\r\n```\r\n\r\ngoroutine 232206 is calling gcMarkDone and has been preempted on entry to the function. \r\ngoroutine 232345 is calling ReadMemStats which is waiting on worldsema and won't get it until the GC finishes.\r\nThe GC won't finish until gcMarkDone moves things along.\r\n\r\nI can't tell if things had been stuck like this for long. It's possible this is just the state at this point, but it's also possible that regular (non-timer-triggered) goroutines were not being run at all.\r\n",
	"user": {
		"login": "rsc",
		"id": 104030,
		"type": "User",
		"site_admin": false
	},
	"created_at": "2015-12-17T03:00:28Z",
	"updated_at": "2015-12-17T03:00:42Z"
}
