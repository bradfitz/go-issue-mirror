{
	"id": 157041305,
	"body": "@mwhudson I know very little about macho as well. Here is what `nm` and `otool -l` give me. I'm happy to run other commands to help debug this, though I'll need guidance. Not sure if it is important, but the binary is linked using `extld=clang++`:\r\n\r\n```\r\n~/Development/go/bin go install -x -v github.com/cockroachdb/cockroach\r\nWORK=/var/folders/qc/fpqpgdqd167c70dtc6840xxh0000gn/T/go-build174439831\r\ngithub.com/cockroachdb/cockroach\r\nmkdir -p $WORK/github.com/cockroachdb/cockroach/_obj/\r\nmkdir -p $WORK/github.com/cockroachdb/cockroach/_obj/exe/\r\ncd /Users/pmattis/Development/go/src/github.com/cockroachdb/cockroach\r\n/Users/pmattis/Development/go-1.5/pkg/tool/darwin_amd64/compile -o $WORK/github.com/cockroachdb/cockroach.a -trimpath $WORK -p main -complete -buildid 3be2cbacc3a970735375300079a08c5f9fdd2806 -D _/Users/pmattis/Development/go/src/github.com/cockroachdb/cockroach -I $WORK -I /Users/pmattis/Development/go/pkg/darwin_amd64 -pack ./main.go\r\ncd .\r\n/Users/pmattis/Development/go-1.5/pkg/tool/darwin_amd64/link -o $WORK/github.com/cockroachdb/cockroach/_obj/exe/a.out -L $WORK -L /Users/pmattis/Development/go/pkg/darwin_amd64 -extld=clang++ -buildmode=exe -buildid=3be2cbacc3a970735375300079a08c5f9fdd2806 $WORK/github.com/cockroachdb/cockroach.a\r\nmkdir -p /Users/pmattis/Development/go/bin/\r\nmv $WORK/github.com/cockroachdb/cockroach/_obj/exe/a.out /Users/pmattis/Development/go/bin/cockroach\r\n\r\n~/Development/go/bin nm ./cockroach  | grep buildid\r\n0000000004318290 t go.buildid\r\n\r\n~/Development/go/bin otool -l ./cockroach\r\n./cockroach:\r\nLoad command 0\r\n      cmd LC_SEGMENT_64\r\n  cmdsize 72\r\n  segname __PAGEZERO\r\n   vmaddr 0x0000000000000000\r\n   vmsize 0x0000000004000000\r\n  fileoff 0\r\n filesize 0\r\n  maxprot 0x00000000\r\n initprot 0x00000000\r\n   nsects 0\r\n    flags 0x0\r\nLoad command 1\r\n      cmd LC_SEGMENT_64\r\n  cmdsize 1032\r\n  segname __TEXT\r\n   vmaddr 0x0000000004000000\r\n   vmsize 0x000000000144b000\r\n  fileoff 0\r\n filesize 21278720\r\n  maxprot 0x00000007\r\n initprot 0x00000005\r\n   nsects 12\r\n    flags 0x0\r\nSection\r\n  sectname __text\r\n   segname __TEXT\r\n      addr 0x0000000004002740\r\n      size 0x0000000000b5cf10\r\n    offset 10048\r\n     align 2^4 (16)\r\n    reloff 0\r\n    nreloc 0\r\n     flags 0x80000400\r\n reserved1 0\r\n reserved2 0\r\nSection\r\n  sectname __stubs\r\n   segname __TEXT\r\n      addr 0x0000000004b5f650\r\n      size 0x000000000000253e\r\n    offset 11925072\r\n     align 2^1 (2)\r\n    reloff 0\r\n    nreloc 0\r\n     flags 0x80000408\r\n reserved1 0 (index into indirect symbol table)\r\n reserved2 6 (size of stubs)\r\nSection\r\n  sectname __stub_helper\r\n   segname __TEXT\r\n      addr 0x0000000004b61b90\r\n      size 0x0000000000000b3e\r\n    offset 11934608\r\n     align 2^2 (4)\r\n    reloff 0\r\n    nreloc 0\r\n     flags 0x80000400\r\n reserved1 0\r\n reserved2 0\r\nSection\r\n  sectname __const\r\n   segname __TEXT\r\n      addr 0x0000000004b626d0\r\n      size 0x0000000000011d40\r\n    offset 11937488\r\n     align 2^4 (16)\r\n    reloff 0\r\n    nreloc 0\r\n     flags 0x00000000\r\n reserved1 0\r\n reserved2 0\r\nSection\r\n  sectname __gcc_except_tab\r\n   segname __TEXT\r\n      addr 0x0000000004b74410\r\n      size 0x000000000003afb0\r\n    offset 12010512\r\n     align 2^2 (4)\r\n    reloff 0\r\n    nreloc 0\r\n     flags 0x00000000\r\n reserved1 0\r\n reserved2 0\r\nSection\r\n  sectname __cstring\r\n   segname __TEXT\r\n      addr 0x0000000004baf3c0\r\n      size 0x0000000000015174\r\n    offset 12252096\r\n     align 2^4 (16)\r\n    reloff 0\r\n    nreloc 0\r\n     flags 0x00000002\r\n reserved1 0\r\n reserved2 0\r\nSection\r\n  sectname __rodata\r\n   segname __TEXT\r\n      addr 0x0000000004bc4540\r\n      size 0x000000000055f5d0\r\n    offset 12338496\r\n     align 2^5 (32)\r\n    reloff 0\r\n    nreloc 0\r\n     flags 0x00000000\r\n reserved1 0\r\n reserved2 0\r\nSection\r\n  sectname __typelink\r\n   segname __TEXT\r\n      addr 0x0000000005123b10\r\n      size 0x00000000000166f8\r\n    offset 17971984\r\n     align 2^3 (8)\r\n    reloff 0\r\n    nreloc 0\r\n     flags 0x00000000\r\n reserved1 0\r\n reserved2 0\r\nSection\r\n  sectname __gosymtab\r\n   segname __TEXT\r\n      addr 0x000000000513a208\r\n      size 0x0000000000000000\r\n    offset 18063880\r\n     align 2^0 (1)\r\n    reloff 0\r\n    nreloc 0\r\n     flags 0x00000000\r\n reserved1 0\r\n reserved2 0\r\nSection\r\n  sectname __gopclntab\r\n   segname __TEXT\r\n      addr 0x000000000513a220\r\n      size 0x00000000002f3518\r\n    offset 18063904\r\n     align 2^5 (32)\r\n    reloff 0\r\n    nreloc 0\r\n     flags 0x00000000\r\n reserved1 0\r\n reserved2 0\r\nSection\r\n  sectname __unwind_info\r\n   segname __TEXT\r\n      addr 0x000000000542d738\r\n      size 0x00000000000104fc\r\n    offset 21157688\r\n     align 2^2 (4)\r\n    reloff 0\r\n    nreloc 0\r\n     flags 0x00000000\r\n reserved1 0\r\n reserved2 0\r\nSection\r\n  sectname __eh_frame\r\n   segname __TEXT\r\n      addr 0x000000000543dc38\r\n      size 0x000000000000d3c0\r\n    offset 21224504\r\n     align 2^3 (8)\r\n    reloff 0\r\n    nreloc 0\r\n     flags 0x00000000\r\n reserved1 0\r\n reserved2 0\r\nLoad command 2\r\n      cmd LC_SEGMENT_64\r\n  cmdsize 1112\r\n  segname __DATA\r\n   vmaddr 0x000000000544b000\r\n   vmsize 0x000000000038f000\r\n  fileoff 21278720\r\n filesize 3518464\r\n  maxprot 0x00000007\r\n initprot 0x00000003\r\n   nsects 13\r\n    flags 0x0\r\nSection\r\n  sectname __nl_symbol_ptr\r\n   segname __DATA\r\n      addr 0x000000000544b000\r\n      size 0x0000000000000010\r\n    offset 21278720\r\n     align 2^3 (8)\r\n    reloff 0\r\n    nreloc 0\r\n     flags 0x00000006\r\n reserved1 1589 (index into indirect symbol table)\r\n reserved2 0\r\nSection\r\n  sectname __got\r\n   segname __DATA\r\n      addr 0x000000000544b010\r\n      size 0x0000000000000940\r\n    offset 21278736\r\n     align 2^3 (8)\r\n    reloff 0\r\n    nreloc 0\r\n     flags 0x00000006\r\n reserved1 1591 (index into indirect symbol table)\r\n reserved2 0\r\nSection\r\n  sectname __la_symbol_ptr\r\n   segname __DATA\r\n      addr 0x000000000544b950\r\n      size 0x00000000000031a8\r\n    offset 21281104\r\n     align 2^3 (8)\r\n    reloff 0\r\n    nreloc 0\r\n     flags 0x00000007\r\n reserved1 1887 (index into indirect symbol table)\r\n reserved2 0\r\nSection\r\n  sectname __mod_init_func\r\n   segname __DATA\r\n      addr 0x000000000544eaf8\r\n      size 0x0000000000000360\r\n    offset 21293816\r\n     align 2^3 (8)\r\n    reloff 0\r\n    nreloc 0\r\n     flags 0x00000009\r\n reserved1 0\r\n reserved2 0\r\nSection\r\n  sectname __const\r\n   segname __DATA\r\n      addr 0x000000000544ee60\r\n      size 0x0000000000010400\r\n    offset 21294688\r\n     align 2^4 (16)\r\n    reloff 0\r\n    nreloc 0\r\n     flags 0x00000000\r\n reserved1 0\r\n reserved2 0\r\nSection\r\n  sectname __data\r\n   segname __DATA\r\n      addr 0x000000000545f260\r\n      size 0x0000000000016ee0\r\n    offset 21361248\r\n     align 2^5 (32)\r\n    reloff 0\r\n    nreloc 0\r\n     flags 0x00000000\r\n reserved1 0\r\n reserved2 0\r\nSection\r\n  sectname __thread_vars\r\n   segname __DATA\r\n      addr 0x0000000005476140\r\n      size 0x0000000000000060\r\n    offset 21455168\r\n     align 2^0 (1)\r\n    reloff 0\r\n    nreloc 0\r\n     flags 0x00000013\r\n reserved1 0\r\n reserved2 0\r\nSection\r\n  sectname __noptrdata\r\n   segname __DATA\r\n      addr 0x00000000054761a0\r\n      size 0x000000000032f102\r\n    offset 21455264\r\n     align 2^5 (32)\r\n    reloff 0\r\n    nreloc 0\r\n     flags 0x00000000\r\n reserved1 0\r\n reserved2 0\r\nSection\r\n  sectname __thread_data\r\n   segname __DATA\r\n      addr 0x00000000057a52a8\r\n      size 0x0000000000000014\r\n    offset 24793768\r\n     align 2^3 (8)\r\n    reloff 0\r\n    nreloc 0\r\n     flags 0x00000011\r\n reserved1 0\r\n reserved2 0\r\nSection\r\n  sectname __thread_bss\r\n   segname __DATA\r\n      addr 0x00000000057a52c0\r\n      size 0x0000000000000168\r\n    offset 0\r\n     align 2^3 (8)\r\n    reloff 0\r\n    nreloc 0\r\n     flags 0x00000012\r\n reserved1 0\r\n reserved2 0\r\nSection\r\n  sectname __common\r\n   segname __DATA\r\n      addr 0x00000000057a5428\r\n      size 0x0000000000000f79\r\n    offset 0\r\n     align 2^3 (8)\r\n    reloff 0\r\n    nreloc 0\r\n     flags 0x00000001\r\n reserved1 0\r\n reserved2 0\r\nSection\r\n  sectname __noptrbss\r\n   segname __DATA\r\n      addr 0x00000000057a63c0\r\n      size 0x0000000000007860\r\n    offset 0\r\n     align 2^5 (32)\r\n    reloff 0\r\n    nreloc 0\r\n     flags 0x00000001\r\n reserved1 0\r\n reserved2 0\r\nSection\r\n  sectname __bss\r\n   segname __DATA\r\n      addr 0x00000000057adc20\r\n      size 0x000000000002ba58\r\n    offset 0\r\n     align 2^5 (32)\r\n    reloff 0\r\n    nreloc 0\r\n     flags 0x00000001\r\n reserved1 0\r\n reserved2 0\r\nLoad command 3\r\n      cmd LC_SEGMENT_64\r\n  cmdsize 72\r\n  segname __LINKEDIT\r\n   vmaddr 0x00000000057da000\r\n   vmsize 0x0000000000658000\r\n  fileoff 31580160\r\n filesize 6649016\r\n  maxprot 0x00000007\r\n initprot 0x00000001\r\n   nsects 0\r\n    flags 0x0\r\nLoad command 4\r\n            cmd LC_DYLD_INFO_ONLY\r\n        cmdsize 48\r\n     rebase_off 0\r\n    rebase_size 0\r\n       bind_off 31580160\r\n      bind_size 4864\r\n  weak_bind_off 31585024\r\n weak_bind_size 37160\r\n  lazy_bind_off 31622184\r\n lazy_bind_size 10232\r\n     export_off 31632416\r\n    export_size 392088\r\nLoad command 5\r\n     cmd LC_SYMTAB\r\n cmdsize 24\r\n  symoff 32068496\r\n   nsyms 115725\r\n  stroff 33934000\r\n strsize 4295176\r\nLoad command 6\r\n            cmd LC_DYSYMTAB\r\n        cmdsize 80\r\n      ilocalsym 0\r\n      nlocalsym 105472\r\n     iextdefsym 105472\r\n     nextdefsym 9898\r\n      iundefsym 115370\r\n      nundefsym 355\r\n         tocoff 0\r\n           ntoc 0\r\n      modtaboff 0\r\n        nmodtab 0\r\n   extrefsymoff 0\r\n    nextrefsyms 0\r\n indirectsymoff 33920096\r\n  nindirectsyms 3476\r\n      extreloff 0\r\n        nextrel 0\r\n      locreloff 0\r\n        nlocrel 0\r\nLoad command 7\r\n          cmd LC_LOAD_DYLINKER\r\n      cmdsize 32\r\n         name /usr/lib/dyld (offset 12)\r\nLoad command 8\r\n     cmd LC_UUID\r\n cmdsize 24\r\n    uuid 627006E0-27F5-307F-849A-377495039B6C\r\nLoad command 9\r\n      cmd LC_VERSION_MIN_MACOSX\r\n  cmdsize 16\r\n  version 10.10\r\n      sdk 10.11\r\nLoad command 10\r\n      cmd LC_SOURCE_VERSION\r\n  cmdsize 16\r\n  version 0.0\r\nLoad command 11\r\n       cmd LC_MAIN\r\n   cmdsize 24\r\n  entryoff 3629472\r\n stacksize 0\r\nLoad command 12\r\n          cmd LC_LOAD_DYLIB\r\n      cmdsize 104\r\n         name /System/Library/Frameworks/CoreFoundation.framework/Versions/A/CoreFoundation (offset 24)\r\n   time stamp 2 Wed Dec 31 19:00:02 1969\r\n      current version 1253.0.0\r\ncompatibility version 150.0.0\r\nLoad command 13\r\n          cmd LC_LOAD_DYLIB\r\n      cmdsize 96\r\n         name /System/Library/Frameworks/Security.framework/Versions/A/Security (offset 24)\r\n   time stamp 2 Wed Dec 31 19:00:02 1969\r\n      current version 57336.1.9\r\ncompatibility version 1.0.0\r\nLoad command 14\r\n          cmd LC_LOAD_DYLIB\r\n      cmdsize 56\r\n         name /usr/lib/libSystem.B.dylib (offset 24)\r\n   time stamp 2 Wed Dec 31 19:00:02 1969\r\n      current version 1225.1.1\r\ncompatibility version 1.0.0\r\nLoad command 15\r\n          cmd LC_LOAD_DYLIB\r\n      cmdsize 48\r\n         name /usr/lib/libc++.1.dylib (offset 24)\r\n   time stamp 2 Wed Dec 31 19:00:02 1969\r\n      current version 120.1.0\r\ncompatibility version 1.0.0\r\nLoad command 16\r\n      cmd LC_FUNCTION_STARTS\r\n  cmdsize 16\r\n  dataoff 32024504\r\n datasize 43992\r\nLoad command 17\r\n      cmd LC_DATA_IN_CODE\r\n  cmdsize 16\r\n  dataoff 32068496\r\n datasize 0\r\nLoad command 18\r\n      cmd LC_SEGMENT_64\r\n  cmdsize 1032\r\n  segname __DWARF\r\n   vmaddr 0x0000000005e32000\r\n   vmsize 0x0000000000678000\r\n  fileoff 24797184\r\n filesize 6779048\r\n  maxprot 0x00000007\r\n initprot 0x00000003\r\n   nsects 12\r\n    flags 0x0\r\nSection\r\n  sectname __debug_abbrev\r\n   segname __DWARF\r\n      addr 0x0000000005e32000\r\n      size 0x0000000000000114\r\n    offset 24797184\r\n     align 2^0 (1)\r\n    reloff 0\r\n    nreloc 0\r\n     flags 0x00000000\r\n reserved1 0\r\n reserved2 0\r\nSection\r\n  sectname __debug_aranges\r\n   segname __DWARF\r\n      addr 0x0000000005e32114\r\n      size 0x0000000000000050\r\n    offset 24797460\r\n     align 2^0 (1)\r\n    reloff 0\r\n    nreloc 0\r\n     flags 0x00000000\r\n reserved1 0\r\n reserved2 0\r\nSection\r\n  sectname __debug_frame\r\n   segname __DWARF\r\n      addr 0x0000000005e32164\r\n      size 0x00000000000b6ce8\r\n    offset 24797540\r\n     align 2^0 (1)\r\n    reloff 0\r\n    nreloc 0\r\n     flags 0x00000000\r\n reserved1 0\r\n reserved2 0\r\nSection\r\n  sectname __debug_info\r\n   segname __DWARF\r\n      addr 0x0000000005ee8e4c\r\n      size 0x00000000001dec79\r\n    offset 25546316\r\n     align 2^0 (1)\r\n    reloff 0\r\n    nreloc 0\r\n     flags 0x00000000\r\n reserved1 0\r\n reserved2 0\r\nSection\r\n  sectname __debug_line\r\n   segname __DWARF\r\n      addr 0x00000000060c7ac5\r\n      size 0x000000000007a379\r\n    offset 27507397\r\n     align 2^0 (1)\r\n    reloff 0\r\n    nreloc 0\r\n     flags 0x00000000\r\n reserved1 0\r\n reserved2 0\r\nSection\r\n  sectname __debug_pubnames\r\n   segname __DWARF\r\n      addr 0x0000000006141e3e\r\n      size 0x000000000010b7b5\r\n    offset 28007998\r\n     align 2^0 (1)\r\n    reloff 0\r\n    nreloc 0\r\n     flags 0x00000000\r\n reserved1 0\r\n reserved2 0\r\nSection\r\n  sectname __debug_pubtypes\r\n   segname __DWARF\r\n      addr 0x000000000624d5f3\r\n      size 0x00000000000555c7\r\n    offset 29103603\r\n     align 2^0 (1)\r\n    reloff 0\r\n    nreloc 0\r\n     flags 0x00000000\r\n reserved1 0\r\n reserved2 0\r\nSection\r\n  sectname __debug_str\r\n   segname __DWARF\r\n      addr 0x00000000062a2bba\r\n      size 0x0000000000145dbc\r\n    offset 29453242\r\n     align 2^0 (1)\r\n    reloff 0\r\n    nreloc 0\r\n     flags 0x00000000\r\n reserved1 0\r\n reserved2 0\r\nSection\r\n  sectname __apple_names\r\n   segname __DWARF\r\n      addr 0x00000000063e8976\r\n      size 0x00000000000880b0\r\n    offset 30787958\r\n     align 2^0 (1)\r\n    reloff 0\r\n    nreloc 0\r\n     flags 0x00000000\r\n reserved1 0\r\n reserved2 0\r\nSection\r\n  sectname __apple_types\r\n   segname __DWARF\r\n      addr 0x0000000006470a26\r\n      size 0x000000000003863a\r\n    offset 31345190\r\n     align 2^0 (1)\r\n    reloff 0\r\n    nreloc 0\r\n     flags 0x00000000\r\n reserved1 0\r\n reserved2 0\r\nSection\r\n  sectname __apple_namespac\r\n   segname __DWARF\r\n      addr 0x00000000064a9060\r\n      size 0x0000000000000024\r\n    offset 31576160\r\n     align 2^0 (1)\r\n    reloff 0\r\n    nreloc 0\r\n     flags 0x00000000\r\n reserved1 0\r\n reserved2 0\r\nSection\r\n  sectname __apple_objc\r\n   segname __DWARF\r\n      addr 0x00000000064a9084\r\n      size 0x0000000000000024\r\n    offset 31576196\r\n     align 2^0 (1)\r\n    reloff 0\r\n    nreloc 0\r\n     flags 0x00000000\r\n reserved1 0\r\n reserved2 0\r\n```",
	"user": {
		"login": "petermattis",
		"id": 6201335,
		"type": "User",
		"site_admin": false
	},
	"created_at": "2015-11-16T14:11:03Z",
	"updated_at": "2015-11-16T14:11:03Z"
}
