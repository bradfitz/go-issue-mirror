{
	"id": 66096181,
	"body": "\u003ca id=\"c12\"\u003e\u003c/a\u003eComment 12:\n\n\u003cpre\u003e\u0026gt; ... It would be great to extend that (fork it?) to also download and install the\ncorrect versions of WiX.\n\nThis\n\ndiff --git a/winstrap.go b/winstrap.go\nindex 89564b1..53b6dc7 100644\n--- a/winstrap.go\n+++ b/winstrap.go\n@@ -19,6 +19,7 @@ var files = map[string]string{\n \t\"ChromeStandaloneSetup.exe\": \"\u003ca href=\"https://dl.google.com/tag/s/appguid%3D%7B8A69D345-D564-463C-AFF1-A69D9E530F96%7D%26iid%3D%7BAF3A54A1-01DD-6358-922D-9F48BABA316B%7D%26lang%3Den%26browser%3D2%26usagestats%3D0%26appname%3DGoogle%2520Chrome%26needsadmin%3Dfalse%26installdataindex%3Ddefaultbrowser/update2/installers/ChromeStandaloneSetup.exe\"\u003ehttps://dl.google.com/tag/s/appguid%3D%7B8A69D345-D564-463C-AFF1-A69D9E530F96%7D%26iid%3D%7BAF3A54A1-01DD-6358-922D-9F48BABA316B%7D%26lang%3Den%26browser%3D2%26usagestats%3D0%26appname%3DGoogle%2520Chrome%26needsadmin%3Dfalse%26installdataindex%3Ddefaultbrowser/update2/installers/ChromeStandaloneSetup.exe\u003c/a\u003e\",\n \t\"Mercurial.exe\":             \"\u003ca href=\"http://mercurial.selenic.com/release/windows/Mercurial-2.3.1.exe\"\u003ehttp://mercurial.selenic.com/release/windows/Mercurial-2.3.1.exe\u003c/a\u003e\",\n \t\"mingw-inst.exe\":            \"\u003ca href=\"http://superb-dca3.dl.sourceforge.net/project/mingw/Installer/mingw-get-inst/mingw-get-inst-20120426/mingw-get-inst-20120426.exe\"\u003ehttp://superb-dca3.dl.sourceforge.net/project/mingw/Installer/mingw-get-inst/mingw-get-inst-20120426/mingw-get-inst-20120426.exe\u003c/a\u003e\",\n+\t\"Wix35.msi\":                \n\"\u003ca href=\"http://download-codeplex.sec.s-msft.com/Download/Release?ProjectName=wix\u0026DownloadId=204417\u0026FileTime=129409234222130000\u0026Build=20919\"\u003ehttp://download-codeplex.sec.s-msft.com/Download/Release?ProjectName=wix\u0026DownloadId=204417\u0026FileTime=129409234222130000\u0026Build=20919\u003c/a\u003e\",\n }\n \n var altMain func()\n@@ -32,7 +33,7 @@ func main() {\n \t}\n \tflag.Parse()\n \tif !*flagYes {\n-\t\tlog.Printf(\"This program will install Go, Mingw, Mercurial, Chrome, etc. Type\n'go\u0026lt;enter\u0026gt;' to proceed.\")\n+\t\tlog.Printf(\"This program will install Go, Mingw, Mercurial, Chrome, Wix, etc. Type\n'go\u0026lt;enter\u0026gt;' to proceed.\")\n \t\tif !awaitString(\"go\") {\n \t\t\tlog.Printf(\"Canceled.\")\n \t\t\tawaitEnter()\n@@ -49,6 +50,7 @@ func main() {\n \twg.Wait()\n \n \tcheckMingw()\n+\tcheckWix()\n \tcheckoutGo()\n \n \trunGoMakeBat(\"386\")\n@@ -170,7 +172,18 @@ func removeEnvs(envs []string, removeKeys ...string) []string {\n \n func checkMingw() {\n \tfor !fileExists(mingwBin) {\n-\t\tlog.Printf(\"%s doesn't exist. Install mingw and then press enter...\")\n+\t\tlog.Printf(\"%s doesn't exist. Install mingw and then press enter...\", mingwBin)\n+\t\tawaitEnter()\n+\t}\n+}\n+\n+func checkWix() {\n+\tconst (\n+\t\tdir1 = `C:\\Program Files\\Windows Installer XML v3.5\\bin`\n+\t\tdir2 = `C:\\Program Files (x86)\\Windows Installer XML v3.5\\bin`\n+\t)\n+\tfor !fileExists(dir1) \u0026\u0026 !fileExists(dir2) {\n+\t\tlog.Printf(\"Neither %s nor %s exist. Install wix and then press enter...\", dir1, dir2)\n \t\tawaitEnter()\n \t}\n }\n\nwould download Wix 3.5 (that is what you use in makerelease at this moment).\n\nAlex\u003c/pre\u003e",
	"user": {
		"login": "alexbrainman",
		"id": 9796621,
		"type": "User",
		"site_admin": false
	},
	"created_at": "2014-08-05T06:56:31Z",
	"updated_at": "2014-12-22T06:35:46Z"
}
