{
	"id": 108481131,
	"body": "@ianlancetaylor @bradfitz Here is how to reproduce the bug\r\n\r\nRunning `fsm` to reproduce the bug.\r\n\r\nPrerequisites:\r\n\r\n1. A Linux system. I do not guarantee anything works on any other\r\n   system. This software was written with Linux in mind!\r\n2. Git\r\n3. Go built from master (for reproducing the bug)\r\n4. A C++ compiler supporting C++11 I use `gcc 4.8.2`. Later versions are\r\n   also known to work. The C++ compiler is for compiling `bliss` in\r\n   https://github.com/timtadh/goiso .\r\n\r\nNote, this program is part of my research for my PhD. It is not super\r\nfriendly to run and only works on Linux. Sorry for the inconvenience\r\nthis may cause you!\r\n\r\nSteps:\r\n\r\n    $ git clone git@github.com:timtadh/fsm\r\n    $ git checkout 2510774dfe2a578e94bc8ba52dbc3e467af001c4\r\n    $ cd fsm\r\n    $ git submodule init\r\n    $ git submodule update\r\n    $ cat .activate \r\n    export GOPATH=$(pwd):$GOPATH\r\n    export PATH=$(pwd)/bin:$PATH\r\n    $ source .activate\r\n    $ go install github.com/timtadh/fsm\r\n\r\nAt this point you should have a working `fsm` program. Note that you may\r\nget some gcc warnings about non-static data initializers.\r\n\r\nTest that fsm is working\r\n\r\n    $ fsm -h\r\n\r\nyou should see a helpful message on how to use fsm.\r\n\r\nNow you need to download the data\r\n\u003chttp://tyrocine.case.edu/static/wiki-sort.gz\u003e . If you use wget you may\r\nsee a certificate error. This is due to the way CWRU signed the cert\r\n(this is a server I run to host student code). If you download via\r\nFirefox or Chrome the cert should correctly validate.\r\n\r\nTo run:\r\n\r\n    $ fsm -s 5 -m 8 --mem-profile=mem.pprof --mem-cache -o /tmp/wiki ./wiki-sort.gz\r\n\r\nSee the `-h` flag for definitions of each of the flags used. This\r\nprogram is a research project so it is a bit rough around the edges!\r\n\r\nThe program should run for a while and then fail with a panic such as:\r\n\r\n    panic: Key was a bad value -2401018187971961171 [] 0xc208455fa0\r\n    0xc208965200\r\n\r\n    goroutine 110 [running]:\r\n    github.com/timtadh/fsm/mine.(*Miner).collector(0xc2084d8230, 0x7fb150290510, 0xc208449400, 0xc208f780c0)\r\n            /tmp/fsm/src/github.com/timtadh/fsm/mine/mine.go:329 +0x321\r\n    created by github.com/timtadh/fsm/mine.(*Miner).makeCollectors\r\n            /tmp/fsm/src/github.com/timtadh/fsm/mine/mine.go:354 +0x1fb\r\n\r\n    goroutine 1 [chan receive, 1 minutes]:\r\n    main.main()\r\n            /tmp/fsm/src/github.com/timtadh/fsm/main.go:458 +0x232a\r\n\r\n    goroutine 17 [syscall, 1 minutes, locked to thread]:\r\n    runtime.goexit()\r\n\r\nIf you re-run with go 1.4.2 you should no longer see the crash.\r\n\r\n",
	"user": {
		"login": "timtadh",
		"id": 38620,
		"type": "User",
		"site_admin": false
	},
	"created_at": "2015-06-03T15:22:44Z",
	"updated_at": "2015-06-03T15:22:44Z"
}
