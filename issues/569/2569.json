{
	"id": 51279398,
	"number": 2569,
	"state": "closed",
	"title": "hg undoc crashes",
	"body": "\u003cpre\u003eBefore filing a bug, please check whether it has been fixed since\nthe latest release: run \u0026quot;hg pull\u0026quot;, \u0026quot;hg update default\u0026quot;, rebuild, and\nretry\nwhat you did to\nreproduce the problem.  Thanks.\n\nWhat steps will reproduce the problem?\n1. hg undo 5071044\n\nWhat is the expected output?\nUndo changelist\n\nWhat do you see instead?\n** unknown exception encountered, please report by visiting\n**  \u003ca href=\"http://mercurial.selenic.com/wiki/BugTracker\"\u003ehttp://mercurial.selenic.com/wiki/BugTracker\u003c/a\u003e\n** Python 2.7.2+ (default, Oct  4 2011, 20:06:09) [GCC 4.6.1]\n** Mercurial Distributed SCM (version 2.0)\n** Extensions loaded: color, pager, extdiff, churn, mq, hgk, graphlog, codereview\nTraceback (most recent call last):\n  File \u0026quot;/usr/local/bin/hg\u0026quot;, line 5, in \u0026lt;module\u0026gt;\n    pkg_resources.run_script('mercurial==2.0', 'hg')\n  File \u0026quot;/usr/local/lib/python2.7/dist-packages/pkg_resources.py\u0026quot;, line 499, in run_script\n    self.require(requires)[0].run_script(script_name, ns)\n  File \u0026quot;/usr/local/lib/python2.7/dist-packages/pkg_resources.py\u0026quot;, line 1235, in run_script\n    execfile(script_filename, namespace, namespace)\n  File \u0026quot;/usr/local/lib/python2.7/dist-packages/mercurial-2.0-py2.7-linux-x86_64.egg/EGG-INFO/scripts/hg\u0026quot;, line 38, in \u0026lt;module\u0026gt;\n    mercurial.dispatch.run()\n  File \u0026quot;/usr/local/lib/python2.7/dist-packages/mercurial-2.0-py2.7-linux-x86_64.egg/mercurial/dispatch.py\u0026quot;, line 27, in run\n    sys.exit(dispatch(request(sys.argv[1:])))\n  File \u0026quot;/usr/local/lib/python2.7/dist-packages/mercurial-2.0-py2.7-linux-x86_64.egg/mercurial/dispatch.py\u0026quot;, line 64, in dispatch\n    return _runcatch(req)\n  File \u0026quot;/usr/local/lib/python2.7/dist-packages/mercurial-2.0-py2.7-linux-x86_64.egg/mercurial/dispatch.py\u0026quot;, line 87, in _runcatch\n    return _dispatch(req)\n  File \u0026quot;/usr/local/lib/python2.7/dist-packages/mercurial-2.0-py2.7-linux-x86_64.egg/mercurial/dispatch.py\u0026quot;, line 684, in _dispatch\n    cmdpats, cmdoptions)\n  File \u0026quot;/usr/local/lib/python2.7/dist-packages/mercurial-2.0-py2.7-linux-x86_64.egg/mercurial/dispatch.py\u0026quot;, line 466, in runcommand\n    ret = _runcommand(ui, options, cmd, d)\n  File \u0026quot;/usr/local/lib/python2.7/dist-packages/mercurial-2.0-py2.7-linux-x86_64.egg/mercurial/extensions.py\u0026quot;, line 184, in wrap\n    return wrapper(origfn, *args, **kwargs)\n  File \u0026quot;/usr/local/lib/python2.7/dist-packages/mercurial-2.0-py2.7-linux-x86_64.egg/hgext/pager.py\u0026quot;, line 107, in pagecmd\n    return orig(ui, options, cmd, cmdfunc)\n  File \u0026quot;/usr/local/lib/python2.7/dist-packages/mercurial-2.0-py2.7-linux-x86_64.egg/mercurial/extensions.py\u0026quot;, line 184, in wrap\n    return wrapper(origfn, *args, **kwargs)\n  File \u0026quot;/usr/local/lib/python2.7/dist-packages/mercurial-2.0-py2.7-linux-x86_64.egg/hgext/color.py\u0026quot;, line 373, in colorcmd\n    return orig(ui_, opts, cmd, cmdfunc)\n  File \u0026quot;/usr/local/lib/python2.7/dist-packages/mercurial-2.0-py2.7-linux-x86_64.egg/mercurial/dispatch.py\u0026quot;, line 738, in _runcommand\n    return checkargs()\n  File \u0026quot;/usr/local/lib/python2.7/dist-packages/mercurial-2.0-py2.7-linux-x86_64.egg/mercurial/dispatch.py\u0026quot;, line 692, in checkargs\n    return cmdfunc()\n  File \u0026quot;/usr/local/lib/python2.7/dist-packages/mercurial-2.0-py2.7-linux-x86_64.egg/mercurial/dispatch.py\u0026quot;, line 681, in \u0026lt;lambda\u0026gt;\n    d = lambda: util.checksignature(func)(ui, *args, **cmdoptions)\n  File \u0026quot;/usr/local/lib/python2.7/dist-packages/mercurial-2.0-py2.7-linux-x86_64.egg/mercurial/util.py\u0026quot;, line 454, in check\n    return func(*args, **kwargs)\n  File \u0026quot;/usr/local/lib/python2.7/dist-packages/mercurial-2.0-py2.7-linux-x86_64.egg/mercurial/extensions.py\u0026quot;, line 139, in wrap\n    util.checksignature(origfn), *args, **kwargs)\n  File \u0026quot;/usr/local/lib/python2.7/dist-packages/mercurial-2.0-py2.7-linux-x86_64.egg/mercurial/util.py\u0026quot;, line 454, in check\n    return func(*args, **kwargs)\n  File \u0026quot;/usr/local/lib/python2.7/dist-packages/mercurial-2.0-py2.7-linux-x86_64.egg/hgext/mq.py\u0026quot;, line 3229, in mqcommand\n    return orig(ui, repo, *args, **kwargs)\n  File \u0026quot;/usr/local/lib/python2.7/dist-packages/mercurial-2.0-py2.7-linux-x86_64.egg/mercurial/util.py\u0026quot;, line 454, in check\n    return func(*args, **kwargs)\n  File \u0026quot;/home/miki/Projects/go/lib/codereview/codereview.py\u0026quot;, line 1392, in undo\n    return clpatch_or_undo(ui, repo, clname, opts, mode=\u0026quot;undo\u0026quot;)\n  File \u0026quot;/home/miki/Projects/go/lib/codereview/codereview.py\u0026quot;, line 1501, in clpatch_or_undo\n    if not found:\nUnboundLocalError: local variable 'found' referenced before assignment\n\n\nWhich compiler are you using (5g, 6g, 8g, gccgo)?\n6g\n\nWhich operating system are you using?\nLinux\n\nWhich revision are you using?  (hg identify)\n021414aecce6 tip\u003c/pre\u003e",
	"user": {
		"login": "tebeka",
		"id": 87697,
		"type": "User",
		"site_admin": false
	},
	"labels": [
		{
			"name": "FrozenDueToAge"
		}
	],
	"comments": 2,
	"closed_at": "2014-12-08T10:13:43Z",
	"created_at": "2011-12-15T18:31:53Z",
	"updated_at": "2016-06-24T21:21:52Z",
	"milestone": {
		"id": 1061233,
		"number": 7,
		"title": "Go1"
	}
}
