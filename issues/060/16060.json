{
	"id": 160157264,
	"number": 16060,
	"state": "closed",
	"title": "net/http: infinite hang on dial",
	"body": "Please answer these questions before submitting your issue. Thanks!\r\n\r\n1. What version of Go are you using (`go version`)?\r\n1.6.2\r\n\r\n2. What operating system and processor architecture are you using (`go env`)?\r\nGOARCH=\"amd64\"\r\nGOBIN=\"/data/go/bin\"\r\nGOEXE=\".exe\"\r\nGOHOSTARCH=\"amd64\"\r\nGOHOSTOS=\"freebsd\"\r\nGOOS=\"freebsd\"\r\nGOPATH=\"/data/go\"\r\nGORACE=\"\"\r\nGOROOT=\"/usr/local/go\"\r\nGOTOOLDIR=\"/usr/local/go/pkg/tool/freebsd_amd64\"\r\nGO15VENDOREXPERIMENT=\"1\"\r\nCC=\"clang\"\r\nGOGCCFLAGS=\"-m64 -fno-caret-diagnostics -Qunused-arguments -fmessage-length=0\"\r\nCXX=\"clang++\"\r\nCGO_ENABLED=\"0\"\r\n\r\n3. What did you do?\r\nAttempt an http request using http.Client\r\n\r\n4. What did you expect to see?\r\nSuccess or failure of the request\r\n\r\n\r\n5. What did you see instead?\r\nRequest hung indefinitely still attempting to \"dial\" but no active OS socket.\r\n\r\nHere are traces from relevant goroutines:\r\n```\r\ngoroutine 8 [select, 31 minutes]:\r\nnet/http.(*persistConn).roundTrip(0xc8202f0410, 0xc82055ad30, 0x0, 0x0, 0x0)\r\n\t/usr/local/go/src/net/http/transport.go:1473 +0xf1f\r\nnet/http.(*Transport).RoundTrip(0xc8200dc000, 0xc8203f9c00, 0xc8200dc000, 0x0, 0x0)\r\n\t/usr/local/go/src/net/http/transport.go:324 +0x9bb\r\nnet/http.send(0xc8203f9c00, 0x800c48528, 0xc8200dc000, 0x0, 0x0, 0x0, 0xc8204e4480, 0x0, 0x0)\r\n\t/usr/local/go/src/net/http/client.go:260 +0x6b7\r\nnet/http.(*Client).send(0xbd3380, 0xc8203f9c00, 0x0, 0x0, 0x0, 0xd8, 0x0, 0x0)\r\n\t/usr/local/go/src/net/http/client.go:155 +0x185\r\nnet/http.(*Client).doFollowingRedirects(0xbd3380, 0xc8203f9c00, 0xa25ee0, 0x0, 0x0, 0x0)\r\n\t/usr/local/go/src/net/http/client.go:475 +0x8a4\r\nnet/http.(*Client).Get(0xbd3380, 0xc8204e4420, 0x21, 0xc8202f0000, 0x0, 0x0)\r\n\t/usr/local/go/src/net/http/client.go:422 +0xaa\r\nnet/http.Get(0xc8204e4420, 0x21, 0xc82022f6b8, 0x0, 0x0)\r\n\t/usr/local/go/src/net/http/client.go:397 +0x45\r\n...\r\n\r\ngoroutine 58 [IO wait, 33 minutes]:\r\nnet.runtime_pollWait(0x800c49cd0, 0x72, 0xc8202e1000)\r\n\t/usr/local/go/src/runtime/netpoll.go:160 +0x60\r\nnet.(*pollDesc).Wait(0xc8203ae760, 0x72, 0x0, 0x0)\r\n\t/usr/local/go/src/net/fd_poll_runtime.go:73 +0x3a\r\nnet.(*pollDesc).WaitRead(0xc8203ae760, 0x0, 0x0)\r\n\t/usr/local/go/src/net/fd_poll_runtime.go:78 +0x36\r\nnet.(*netFD).Read(0xc8203ae700, 0xc8202e1000, 0x1000, 0x1000, 0x0, 0x800c44050, 0xc82000e130)\r\n\t/usr/local/go/src/net/fd_unix.go:250 +0x23a\r\nnet.(*conn).Read(0xc8200de030, 0xc8202e1000, 0x1000, 0x1000, 0x0, 0x0, 0x0)\r\n\t/usr/local/go/src/net/net.go:172 +0xe4\r\nnet/http.noteEOFReader.Read(0x800cc80f8, 0xc8200de030, 0xc8202f0478, 0xc8202e1000, 0x1000, 0x1000, 0x408333, 0x0, 0x0)\r\n\t/usr/local/go/src/net/http/transport.go:1687 +0x67\r\nnet/http.(*noteEOFReader).Read(0xc820428520, 0xc8202e1000, 0x1000, 0x1000, 0xc8201a4d1d, 0x0, 0x0)\r\n\t\u003cautogenerated\u003e:287 +0xd0\r\nbufio.(*Reader).fill(0xc82017e360)\r\n\t/usr/local/go/src/bufio/bufio.go:97 +0x1e9\r\nbufio.(*Reader).Peek(0xc82017e360, 0x1, 0x0, 0x0, 0x0, 0x0, 0x0)\r\n\t/usr/local/go/src/bufio/bufio.go:132 +0xcc\r\nnet/http.(*persistConn).readLoop(0xc8202f0410)\r\n\t/usr/local/go/src/net/http/transport.go:1073 +0x177\r\ncreated by net/http.(*Transport).dialConn\r\n\t/usr/local/go/src/net/http/transport.go:857 +0x10a6\r\n\r\ngoroutine 59 [select, 31 minutes]:\r\nnet/http.(*persistConn).writeLoop(0xc8202f0410)\r\n\t/usr/local/go/src/net/http/transport.go:1277 +0x472\r\ncreated by net/http.(*Transport).dialConn\r\n\t/usr/local/go/src/net/http/transport.go:858 +0x10cb\r\n```\r\n\r\n",
	"user": {
		"login": "stevenh",
		"id": 104239,
		"type": "User",
		"site_admin": false
	},
	"comments": 10,
	"closed_at": "2016-06-28T22:04:44Z",
	"created_at": "2016-06-14T11:24:00Z",
	"updated_at": "2016-06-29T10:50:18Z",
	"milestone": {
		"id": 1714149,
		"number": 40,
		"title": "Go1.7Maybe"
	}
}
