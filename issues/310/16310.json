{
	"id": 164663708,
	"number": 16310,
	"state": "closed",
	"title": "golint crashes with tip",
	"body": "Please answer these questions before submitting your issue. Thanks!\r\n\r\n1. What version of Go are you using (`go version`)?\r\ngo version devel +54b499e Fri Jul 8 19:40:59 2016 +0000 linux/amd64\r\n\r\n2. What operating system and processor architecture are you using (`go env`)?\r\n```\r\nGOARCH=\"amd64\"\r\nGOBIN=\"\"\r\nGOEXE=\"\"\r\nGOHOSTARCH=\"amd64\"\r\nGOHOSTOS=\"linux\"\r\nGOOS=\"linux\"\r\nGOPATH=\"/home/vadmeste/work/gospace/\"\r\nGORACE=\"\"\r\nGOROOT=\"/home/vadmeste/work/gotip\"\r\nGOTOOLDIR=\"/home/vadmeste/work/gotip/pkg/tool/linux_amd64\"\r\nCC=\"gcc\"\r\nGOGCCFLAGS=\"-fPIC -m64 -pthread -fmessage-length=0 -fdebug-prefix-map=/tmp/go-build556579675=/tmp/go-build -gno-record-gcc-switches\"\r\nCXX=\"g++\"\r\nCGO_ENABLED=\"1\"\r\n```\r\n\r\n3. What did you do?\r\n```\r\n$ go get github.com/golang/lint/golint # (revision c7bacac2b21ca01afa1dee0acf64df3ce047c28f)\r\n$ go get github.com/minio/mc\r\n$ cd $GOPATH/src/github.com/minio/mc\r\n$ git checkout 7a21e4bb0d2c8db9a96065e883ec8336f216a380\r\n$ golint .\r\n```\r\n4. What did you expect to see?\r\nRegular results.\r\n\r\n5. What did you see instead?\r\nA panic\r\n\r\n```\r\npanic: NoColor already declared [recovered]\r\n\tpanic: NoColor already declared\r\n\r\ngoroutine 1 [running]:\r\npanic(0x6029e0, 0xc4200e8760)\r\n\t/home/vadmeste/work/gotip/src/runtime/panic.go:500 +0x1a1\r\ngo/types.(*Checker).handleBailout(0xc42046c000, 0xc4205f95e0)\r\n\t/home/vadmeste/work/gotip/src/go/types/check.go:213 +0xae\r\npanic(0x6029e0, 0xc4200e8760)\r\n\t/home/vadmeste/work/gotip/src/runtime/panic.go:458 +0x243\r\ngolang.org/x/tools/go/gcimporter15.(*importer).declare(0xc42085c620, 0x740420, 0xc420477950)\r\n\t/home/vadmeste/work/gospace/src/golang.org/x/tools/go/gcimporter15/bimport.go:184 +0x16b\r\ngolang.org/x/tools/go/gcimporter15.(*importer).obj(0xc42085c620, 0xfffffffffffffffc)\r\n\t/home/vadmeste/work/gospace/src/golang.org/x/tools/go/gcimporter15/bimport.go:204 +0x1bd\r\ngolang.org/x/tools/go/gcimporter15.BImportData(0xc420169cc0, 0xc420462ab0, 0xc4206be000, 0xa739, 0xfe00, 0xc4200e4021, 0x16, 0x31, 0x40c2b4, 0x62f700, ...)\r\n\t/home/vadmeste/work/gospace/src/golang.org/x/tools/go/gcimporter15/bimport.go:97 +0x3e8\r\ngolang.org/x/tools/go/gcimporter15.Import(0xc420462ab0, 0xc4200e4021, 0x16, 0x64a264, 0x1, 0xc4208aeeb0, 0x0, 0x0)\r\n\t/home/vadmeste/work/gospace/src/golang.org/x/tools/go/gcimporter15/gcimporter.go:178 +0x5da\r\ngithub.com/golang/lint.importer.ImportFrom(0x66b318, 0xc420462ab0, 0xc4200e4021, 0x16, 0x64a264, 0x1, 0x0, 0x628660, 0x2f88c801, 0x7f6b38893900)\r\n\t/home/vadmeste/work/gospace/src/github.com/golang/lint/lint16.go:16 +0x58\r\ngithub.com/golang/lint.(*importer).ImportFrom(0xc42045f950, 0xc4200e4021, 0x16, 0x64a264, 0x1, 0x0, 0xc4204edea0, 0x0, 0x0)\r\n\t\u003cautogenerated\u003e:5 +0x97\r\ngo/types.(*Checker).collectObjects(0xc42046c000)\r\n\t/home/vadmeste/work/gotip/src/go/types/resolver.go:191 +0x81d\r\ngo/types.(*Checker).checkFiles(0xc42046c000, 0xc420058800, 0x48, 0x80, 0x0, 0x0)\r\n\t/home/vadmeste/work/gotip/src/go/types/check.go:225 +0xaa\r\ngo/types.(*Checker).Files(0xc42046c000, 0xc420058800, 0x48, 0x80, 0xc420462ba0, 0xc420058800)\r\n\t/home/vadmeste/work/gotip/src/go/types/check.go:218 +0x49\r\ngo/types.(*Config).Check(0xc420466ec0, 0xc420335190, 0x4, 0xc420147840, 0xc420058800, 0x48, 0x80, 0xc420455a40, 0xc420465e40, 0x18, ...)\r\n\t/home/vadmeste/work/gotip/src/go/types/api.go:344 +0x19f\r\ngithub.com/golang/lint.(*pkg).typeCheck(0xc420126550, 0xbf0000000044f3f0, 0x8)\r\n\t/home/vadmeste/work/gospace/src/github.com/golang/lint/lint.go:274 +0x403\r\ngithub.com/golang/lint.(*pkg).lint(0xc420126550, 0xc42014baa0, 0xc42021d918, 0xc42021d910)\r\n\t/home/vadmeste/work/gospace/src/github.com/golang/lint/lint.go:130 +0x40\r\ngithub.com/golang/lint.(*Linter).LintFiles(0xc4205f9a40, 0xc4205f9ae0, 0xc42003fab8, 0xc42003fac8, 0x510, 0x0, 0x0)\r\n\t/home/vadmeste/work/gospace/src/github.com/golang/lint/lint.go:110 +0x6e7\r\nmain.lintFiles(0xc42009b000, 0x48, 0x80)\r\n\t/home/vadmeste/work/gospace/src/github.com/golang/lint/golint/golint.go:92 +0x234\r\nmain.lintImportedPackage(0xc420071500, 0x0, 0x0)\r\n\t/home/vadmeste/work/gospace/src/github.com/golang/lint/golint/golint.go:136 +0x364\r\nmain.lintDir(0x7ffc172560bb, 0x1)\r\n\t/home/vadmeste/work/gospace/src/github.com/golang/lint/golint/golint.go:107 +0x60\r\nmain.main()\r\n\t/home/vadmeste/work/gospace/src/github.com/golang/lint/golint/golint.go:52 +0x333\r\n```\r\n\r\n",
	"user": {
		"login": "vadmeste",
		"id": 283197,
		"type": "User",
		"site_admin": false
	},
	"labels": [
		{
			"name": "WaitingForInfo"
		}
	],
	"assignee": {
		"login": "griesemer",
		"id": 8528975,
		"type": "User",
		"site_admin": false
	},
	"comments": 3,
	"closed_at": "2016-07-18T22:22:25Z",
	"created_at": "2016-07-09T11:46:50Z",
	"updated_at": "2016-07-18T23:32:46Z",
	"milestone": {
		"id": 1714149,
		"number": 40,
		"title": "Go1.7Maybe"
	}
}
