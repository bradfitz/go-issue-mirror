{
	"id": 51287158,
	"number": 7754,
	"state": "open",
	"title": "gccgo: crash due to running out of memory (likely)",
	"body": "\u003cpre\u003eTest case: \u003ca href=\"http://play.golang.org/p/xoT0jSBOci\"\u003ehttp://play.golang.org/p/xoT0jSBOci\u003c/a\u003e\n\nPerhaps it's possible to give a nicer error message.\n\n$ gccgo overflow.go \nterminate called after throwing an instance of 'std::bad_alloc'\n  what():  std::bad_alloc\ngo1: internal compiler error: Aborted\n0x99a9ef crash_signal\n\t/tmp/go-build-release/gccgo-srcdir/gcc/toplev.c:337\n0x1063bbc __gnu_cxx::__verbose_terminate_handler()\n\t/usr/crosstool/v15/gcc-4.6.x-glibc-2.11.1-grte/x86/debug-src/gcc-4_6/libstdc++-v3/libsupc++/vterminate.cc:95\n0x10628f5 __cxxabiv1::__terminate(void (*)())\n\t/usr/crosstool/v15/gcc-4.6.x-glibc-2.11.1-grte/x86/debug-src/gcc-4_6/libstdc++-v3/libsupc++/eh_terminate.cc:40\n0x1062922 std::terminate()\n\t/usr/crosstool/v15/gcc-4.6.x-glibc-2.11.1-grte/x86/debug-src/gcc-4_6/libstdc++-v3/libsupc++/eh_terminate.cc:50\n0x1062a55 __cxa_throw\n\t/usr/crosstool/v15/gcc-4.6.x-glibc-2.11.1-grte/x86/debug-src/gcc-4_6/libstdc++-v3/libsupc++/eh_throw.cc:83\n0x1062cfc operator new(unsigned long)\n\t/usr/crosstool/v15/gcc-4.6.x-glibc-2.11.1-grte/x86/debug-src/gcc-4_6/libstdc++-v3/libsupc++/new_op.cc:58\n0x104be58 __gnu_cxx::new_allocator\u0026lt;char\u0026gt;::allocate(unsigned long, void const*)\n\t/usr/crosstool/v15/gcc-4.6.x-glibc-2.11.1-grte/x86/debug-src/build-gcc/x86_64-unknown-linux-gnu/libstdc++-v3/include/ext/new_allocator.h:92\n0x104be58 std::basic_string\u0026lt;char, std::char_traits\u0026lt;char\u0026gt;,\nstd::allocator\u0026lt;char\u0026gt; \u0026gt;::_Rep::_S_create(unsigned long, unsigned long,\nstd::allocator\u0026lt;char\u0026gt; const\u0026amp;)\n\t/usr/crosstool/v15/gcc-4.6.x-glibc-2.11.1-grte/x86/debug-src/build-gcc/x86_64-unknown-linux-gnu/libstdc++-v3/include/bits/basic_string.tcc:609\n0x104cb3a std::basic_string\u0026lt;char, std::char_traits\u0026lt;char\u0026gt;,\nstd::allocator\u0026lt;char\u0026gt; \u0026gt;::_Rep::_M_clone(std::allocator\u0026lt;char\u0026gt; const\u0026amp;,\nunsigned long)\n\t/usr/crosstool/v15/gcc-4.6.x-glibc-2.11.1-grte/x86/debug-src/build-gcc/x86_64-unknown-linux-gnu/libstdc++-v3/include/bits/basic_string.tcc:631\n0x104cc1f std::basic_string\u0026lt;char, std::char_traits\u0026lt;char\u0026gt;,\nstd::allocator\u0026lt;char\u0026gt; \u0026gt;::reserve(unsigned long)\n\t/usr/crosstool/v15/gcc-4.6.x-glibc-2.11.1-grte/x86/debug-src/build-gcc/x86_64-unknown-linux-gnu/libstdc++-v3/include/bits/basic_string.tcc:512\n0x104cc1f std::basic_string\u0026lt;char, std::char_traits\u0026lt;char\u0026gt;,\nstd::allocator\u0026lt;char\u0026gt; \u0026gt;::reserve(unsigned long)\n\t/usr/crosstool/v15/gcc-4.6.x-glibc-2.11.1-grte/x86/debug-src/build-gcc/x86_64-unknown-linux-gnu/libstdc++-v3/include/bits/basic_string.tcc:503\n0x104d11c std::basic_string\u0026lt;char, std::char_traits\u0026lt;char\u0026gt;,\nstd::allocator\u0026lt;char\u0026gt; \u0026gt;::append(std::basic_string\u0026lt;char,\nstd::char_traits\u0026lt;char\u0026gt;, std::allocator\u0026lt;char\u0026gt; \u0026gt; const\u0026amp;)\n\t/usr/crosstool/v15/gcc-4.6.x-glibc-2.11.1-grte/x86/debug-src/build-gcc/x86_64-unknown-linux-gnu/libstdc++-v3/include/bits/basic_string.tcc:334\n0x56ddfd operator+\u0026lt;char, std::char_traits\u0026lt;char\u0026gt;, std::allocator\u0026lt;char\u0026gt; \u0026gt;\n\t/google/src/files/34541112/depot/google3/third_party/crosstool/v15/release/wrappers/x86/bin/../../../gcc/x86/bin/../lib/gcc/x86_64-unknown-linux-gnu/4.6.x-google/../../../../include/c++/4.6.x-google/bits/basic_string.h:2310\n0x56ddfd Binary_expression::do_lower(Gogo*, Named_object*, Statement_inserter*, int)\n\t/tmp/go-build-release/gccgo-srcdir/gcc/go/gofrontend/expressions.cc:5327\n0x5914ae Expression::lower(Gogo*, Named_object*, Statement_inserter*, int)\n\t/tmp/go-build-release/gccgo-srcdir/gcc/go/gofrontend/expressions.h:623\n0x5914ae Lower_parse_tree::expression(Expression**)\n\t/tmp/go-build-release/gccgo-srcdir/gcc/go/gofrontend/gogo.cc:1715\n0x5914ae Lower_parse_tree::expression(Expression**)\n\t/tmp/go-build-release/gccgo-srcdir/gcc/go/gofrontend/gogo.cc:1703\n0x559595 Expression::traverse(Expression**, Traverse*)\n\t/tmp/go-build-release/gccgo-srcdir/gcc/go/gofrontend/expressions.cc:54\n0x59151c Named_constant::traverse_expression(Traverse*)\n\t/tmp/go-build-release/gccgo-srcdir/gcc/go/gofrontend/gogo.cc:4992\n0x59151c Lower_parse_tree::constant(Named_object*, bool)\n\t/tmp/go-build-release/gccgo-srcdir/gcc/go/gofrontend/gogo.cc:1624\nPlease submit a full bug report,\nwith preprocessed source if appropriate.\nPlease include the complete backtrace with any bug report.\nSee \u0026lt;\u003ca href=\"http://go.ext.google.com/go/\u0026gt\"\u003ehttp://go.ext.google.com/go/\u0026gt\u003c/a\u003e; for instructions.\u003c/pre\u003e",
	"user": {
		"login": "griesemer",
		"id": 8528975,
		"type": "User",
		"site_admin": false
	},
	"comments": 4,
	"created_at": "2014-04-10T19:48:41Z",
	"updated_at": "2015-04-15T17:34:39Z",
	"milestone": {
		"id": 1069171,
		"number": 23,
		"title": "Gccgo"
	}
}
