{
	"id": 51286187,
	"number": 7099,
	"state": "closed",
	"title": "runtime: TestTimerFairness{2} occasionally hangs",
	"body": "\u003cpre\u003eMaybe it isn't so fair after all...\n\nI saw 3 of these in an overnight run of all.bash.  The test hangs and gets killed after\n6 minutes.\n\nSIGQUIT: quit^M                                                                         \n                                                                                \nPC=0xf776342e^M                                                                         \n                                                                                \n^M                                                                                      \n                                                                                \n^M                                                                                      \n                                                                                \ngoroutine 1 [chan receive]:^M                                                           \n                                                                                \ntesting.RunTests(0x8270818, 0x84a53e0, 0x4f, 0x4f, 0x1)^M                               \n                                                                                \n        /usr/local/google/home/khr/sandbox/go-issue7083/src/pkg/testing/testing.go:472 +0x79d^M                                                                          \ntesting.Main(0x8270818, 0x84a53e0, 0x4f, 0x4f, 0x84a6800, ...)^M                        \n                                                                                \n        /usr/local/google/home/khr/sandbox/go-issue7083/src/pkg/testing/testing.go:403 +0x6b^M                                                                           \nmain.main()^M                                                                           \n                                                                                \n        /tmp/go-build192147761/runtime/_test/_testmain.go:513 +0x83^M                                                                                                    \n^M                                                                                      \n                                                                                \ngoroutine 60 [finalizer wait]:^M                                                        \n                                                                                \nruntime.park(0x8055240, 0x84a78b8, 0x84a668e)^M                                         \n                                                                                \n        /usr/local/google/home/khr/sandbox/go-issue7083/src/pkg/runtime/proc.c:1341 +0x65^M                                                                              \nrunfinq()^M                                                                             \n                                                                                \n        /usr/local/google/home/khr/sandbox/go-issue7083/src/pkg/runtime/mgc0.c:2486 +0x7b^M                                                                              \nruntime.goexit()^M                                                                      \n                                                                                \n        /usr/local/google/home/khr/sandbox/go-issue7083/src/pkg/runtime/proc.c:1393^M                                                                                    \n^M                                                                                      \n                                                                                \ngoroutine 160309 [runnable]:^M                                                          \n                                                                                \nruntime_test.TestTimerFairness(0x188ef6c0)^M                                            \n                                                                                \n        /usr/local/google/home/khr/sandbox/go-issue7083/src/pkg/runtime/proc_test.go:157 +0x173^M                                                                        \ntesting.tRunner(0x188ef6c0, 0x84a56e0)^M                                                \n                                                                                \n        /usr/local/google/home/khr/sandbox/go-issue7083/src/pkg/testing/testing.go:391 +0x88^M                                                                           \ncreated by testing.RunTests^M                                                           \n                                                                                \n        /usr/local/google/home/khr/sandbox/go-issue7083/src/pkg/testing/testing.go:471 +0x782^M                                                                          \n^M                                                                                      \n                                                                                \ngoroutine 160311 [running]:^M                                                           \n                                                                                \n        goroutine running on other thread; stack unavailable^M                                                                                                           \ncreated by runtime_test.TestTimerFairness^M                                             \n                                                                                \n        /usr/local/google/home/khr/sandbox/go-issue7083/src/pkg/runtime/proc_test.go:152 +0xca^M                                                                         \n^M                                                                                      \n                                                                                \ngoroutine 160310 [running]:^M                                                           \n                                                                                \n        goroutine running on other thread; stack unavailable^M                                                                                                           \ncreated by runtime_test.TestTimerFairness^M                                             \n                                                                                \n        /usr/local/google/home/khr/sandbox/go-issue7083/src/pkg/runtime/proc_test.go:152 +0xca^M                                                                         \n\neax     0xf0^M                                                                          \n                                                                                \nebx     0x84a97b4^M                                                                     \n                                                                                \necx     0x0^M                                                                           \n                                                                                \nedx     0x0^M                                                                           \n                                                                                \nedi     0x0^M                                                                           \n                                                                                \nesi     0x0^M                                                                           \n                                                                                \nebp     0x0^M                                                                           \n                                                                                \nesp     0xffa7b5f4^M                                                                    \n                                                                                \neip     0xf776342e^M                                                                    \n                                                                                \neflags  0x296^M                                                                         \n                                                                                \ncs      0x23^M                                                                          \n                                                                                \nfs      0x0^M                                                                           \n                                                                                \ngs      0x3f^M                                                                          \n                                                                                \n*** Test killed with quit: ran too long (6m0s).^M                                       \n                                                                                \nFAIL    runtime 360.051s^M                                                              \n                                                                                \n\n\n\nSIGQUIT: quit^M                                                                         \n                                                                                \nPC=0xf77d242e^M                                                                         \n                                                                                \n^M                                                                                      \n                                                                                \n^M                                                                                      \n                                                                                \ngoroutine 1 [chan receive]:^M                                                           \n                                                                                \ntesting.RunTests(0x8270818, 0x84a53e0, 0x4f, 0x4f, 0x1)^M                               \n                                                                                \n        /usr/local/google/home/khr/sandbox/go-issue7083/src/pkg/testing/testing.go:472 +0x79d^M                                                                          \ntesting.Main(0x8270818, 0x84a53e0, 0x4f, 0x4f, 0x84a6800, ...)^M                        \n                                                                                \n        /usr/local/google/home/khr/sandbox/go-issue7083/src/pkg/testing/testing.go:403 +0x6b^M                                                                           \nmain.main()^M                                                                           \n                                                                                \n        /tmp/go-build861571265/runtime/_test/_testmain.go:513 +0x83^M                                                                                                    \n^M                                                                                      \n                                                                                \ngoroutine 61 [finalizer wait]:^M                                                        \n                                                                                \nruntime.park(0x8055240, 0x84a78b8, 0x84a668e)^M                                         \n                                                                                \n        /usr/local/google/home/khr/sandbox/go-issue7083/src/pkg/runtime/proc.c:1341 +0x65^M                                                                              \nrunfinq()^M                                                                             \n                                                                                \n        /usr/local/google/home/khr/sandbox/go-issue7083/src/pkg/runtime/mgc0.c:2486 +0x7b^M                                                                              \nruntime.goexit()^M                                                                      \n                                                                                \n        /usr/local/google/home/khr/sandbox/go-issue7083/src/pkg/runtime/proc.c:1393^M                                                                                    \n^M                                                                                      \n                                                                                \ngoroutine 240491 [running]:^M                                                           \n                                                                                \n        goroutine running on other thread; stack unavailable^M                                                                                                           \ncreated by runtime_test.TestTimerFairness^M                                             \n                                                                                \n        /usr/local/google/home/khr/sandbox/go-issue7083/src/pkg/runtime/proc_test.go:152 +0xca^M                                                                         \n^M                                                                                      \n                                                                                \ngoroutine 240494 [running]:^M                                                           \n                                                                                \n        goroutine running on other thread; stack unavailable^M                                                                                                           \ncreated by runtime_test.TestTimerFairness2^M                                            \n                                                                                \n        /usr/local/google/home/khr/sandbox/go-issue7083/src/pkg/runtime/proc_test.go:183 +0xca^M                                                                         \n^M                                                                                      \n                                                                                \ngoroutine 240492 [running]:^M                                                           \n                                                                                \n        goroutine running on other thread; stack unavailable^M                                                                                                           \ncreated by runtime_test.TestTimerFairness^M                                             \n                                                                                \n        /usr/local/google/home/khr/sandbox/go-issue7083/src/pkg/runtime/proc_test.go:152 +0xca^M                                                                         \n^M                                                                                      \n                                                                                \ngoroutine 240496 [running]:^M                                                           \n                                                                                \n        goroutine running on other thread; stack unavailable^M                                                                                                           \n^M                                                                                      \n                                                                                \ngoroutine 240493 [chan receive]:^M                                                      \n                                                                                \nruntime_test.TestTimerFairness2(0x187476c0)^M                                           \n                                                                                \n        /usr/local/google/home/khr/sandbox/go-issue7083/src/pkg/runtime/proc_test.go:186 +0x106^M                                                                        \ntesting.tRunner(0x187476c0, 0x84a56ec)^M                                                \n                                                                                \n        /usr/local/google/home/khr/sandbox/go-issue7083/src/pkg/testing/testing.go:391 +0x88^M                                                                           \ncreated by testing.RunTests^M                                                           \n                                                                                \n        /usr/local/google/home/khr/sandbox/go-issue7083/src/pkg/testing/testing.go:471 +0x782^M                                                                          \n\neax     0xf0^M                                                                          \n                                                                                \nebx     0x84a97b4^M                                                                     \n                                                                                \necx     0x0^M                                                                           \n                                                                                \nedx     0x0^M                                                                           \n                                                                                \nedi     0x0^M                                                                           \n                                                                                \nesi     0x0^M                                                                           \n                                                                                \nebp     0x0^M                                                                           \n                                                                                \nesp     0xffaa7034^M                                                                    \n                                                                                \neip     0xf77d242e^M                                                                    \n                                                                                \neflags  0x296^M                                                                         \n                                                                                \ncs      0x23^M                                                                          \n                                                                                \nfs      0x0^M                                                                           \n                                                                                \ngs      0x3f^M                                                                          \n                                                                                \n*** Test killed with quit: ran too long (6m0s).^M                                       \n                                                                                \nFAIL    runtime 360.056s^M\u003c/pre\u003e",
	"user": {
		"login": "randall77",
		"id": 6889504,
		"type": "User",
		"site_admin": false
	},
	"labels": [
		{
			"name": "FrozenDueToAge"
		}
	],
	"comments": 4,
	"closed_at": "2014-12-08T10:39:28Z",
	"created_at": "2014-01-10T19:29:13Z",
	"updated_at": "2016-06-25T01:25:22Z",
	"milestone": {
		"id": 1067211,
		"number": 17,
		"title": "Go1.3"
	}
}
