{
	"id": 51278784,
	"number": 2139,
	"state": "closed",
	"title": "GC linker produces invalid windows binaries",
	"body": "by **zexigh**:\n\n\u003cpre\u003eWhich compiler are you using (5g, 6g, 8g, gccgo)?\n8g\n\nWhich operating system are you using?\nWindows 7\n\n\nGC linker produces invalid windows binaries. Indeed according to pecoff_v8.docx:\n\nAn 8-byte, null-padded UTF-8 encoded string. If the string is exactly 8 characters\nlong, there is no terminating null. For longer names, this field contains a slash (/)\nthat is followed by an ASCII representation of a decimal number that is an offset into\nthe string table.\n\n*** Executable images do not use a string table and do not support section names longer\nthan 8 characters. Long names in object files are truncated if they are emitted to an\nexecutable file. ***\n\nBut GC linker produces /\u0026lt;num\u0026gt; section names.\n\nBecause of this, Microsoft COFF/PE dumper crashes when dumping files generated by GC\nlinker:\n\nLINK : fatal error LNK1000: Internal error during DumpSections\n\n  Version 10.00.30319.01\n\n  ExceptionCode            = C0000005\n  ExceptionFlags           = 00000000\n  ExceptionAddress         = 000000013F9DC64C (000000013F9C0000) \u0026quot;C:\\Program Fil\nes (x86)\\Microsoft Visual Studio 10.0\\VC\\Bin\\amd64\\link.exe\u0026quot;\n  NumberParameters         = 00000002\n  ExceptionInformation[ 0] = 0000000000000000\n  ExceptionInformation[ 1] = 0000000000000004\n\nWhat steps will reproduce the problem?\n1. Write hello.go program, compile it and link it\n2. Execute dumpbin hello.exe\u003c/pre\u003e",
	"user": {
		"login": "gopherbot",
		"id": 8566911,
		"type": "User",
		"site_admin": false
	},
	"labels": [
		{
			"name": "FrozenDueToAge"
		}
	],
	"comments": 7,
	"closed_at": "2014-12-08T10:11:30Z",
	"created_at": "2011-08-08T15:46:08Z",
	"updated_at": "2016-06-24T19:33:11Z"
}
