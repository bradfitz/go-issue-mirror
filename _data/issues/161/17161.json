{
	"id": 177852952,
	"number": 17161,
	"state": "open",
	"title": "runtime: darwin mach error semaphore_wait: 49",
	"body": "A trybot run failed, unable to build a package on Darwin:\r\n\r\nhttps://go-review.googlesource.com/c/29390/\r\nhttps://storage.googleapis.com/go-build-log/31a66204/darwin-amd64-10_11_93806cd8.log\r\n```\r\nok  \tcrypto/tls\t0.991s\r\nok  \tcrypto/x509\t1.191s\r\nok  \tdatabase/sql\t0.075s\r\nok  \tdatabase/sql/driver\t0.022s\r\nok  \tdebug/dwarf\t0.031s\r\nok  \tdebug/elf\t0.063s\r\n# testmain\r\nmach error semaphore_wait: 49\r\nfatal error: mach error\r\n\r\nruntime stack:\r\nruntime.throw(0x1c96ab, 0xa)\r\n\t/private/var/folders/dx/k53rs1s93538b4x20g46cj_w0000gn/T/workdir/go/src/runtime/panic.go:556 +0x95 fp=0xc42003fe20 sp=0xc42003fe00\r\nruntime.macherror(0xc400000031, 0x1ca8e4, 0xe)\r\n\t/private/var/folders/dx/k53rs1s93538b4x20g46cj_w0000gn/T/workdir/go/src/runtime/os_darwin.go:241 +0xb7 fp=0xc42003fe40 sp=0xc42003fe20\r\nruntime.semasleep1(0xffffffffffffffff, 0x0)\r\n\t/private/var/folders/dx/k53rs1s93538b4x20g46cj_w0000gn/T/workdir/go/src/runtime/os_darwin.go:462 +0x7c fp=0xc42003fe80 sp=0xc42003fe40\r\nruntime.semasleep.func1()\r\n\t/private/var/folders/dx/k53rs1s93538b4x20g46cj_w0000gn/T/workdir/go/src/runtime/os_darwin.go:471 +0x33 fp=0xc42003fea8 sp=0xc42003fe80\r\nruntime.systemstack(0xc42003fec0)\r\n\t/private/var/folders/dx/k53rs1s93538b4x20g46cj_w0000gn/T/workdir/go/src/runtime/asm_amd64.s:314 +0xab fp=0xc42003feb0 sp=0xc42003fea8\r\nruntime.semasleep(0xffffffffffffffff, 0xc42003ff08)\r\n\t/private/var/folders/dx/k53rs1s93538b4x20g46cj_w0000gn/T/workdir/go/src/runtime/os_darwin.go:472 +0x44 fp=0xc42003fee8 sp=0xc42003feb0\r\nruntime.notesleep(0x297e30)\r\n\t/private/var/folders/dx/k53rs1s93538b4x20g46cj_w0000gn/T/workdir/go/src/runtime/lock_sema.go:166 +0xb4 fp=0xc42003ff18 sp=0xc42003fee8\r\nruntime.gcMark(0x1475caeb6df2b10b)\r\n\t/private/var/folders/dx/k53rs1s93538b4x20g46cj_w0000gn/T/workdir/go/src/runtime/mgc.go:1598 +0x459 fp=0xc42003ff60 sp=0xc42003ff18\r\nruntime.gcMarkTermination.func1()\r\n\t/private/var/folders/dx/k53rs1s93538b4x20g46cj_w0000gn/T/workdir/go/src/runtime/mgc.go:1186 +0x2d fp=0xc42003ff78 sp=0xc42003ff60\r\nruntime.systemstack(0xc42001f300)\r\n\t/private/var/folders/dx/k53rs1s93538b4x20g46cj_w0000gn/T/workdir/go/src/runtime/asm_amd64.s:298 +0x79 fp=0xc42003ff80 sp=0xc42003ff78\r\nruntime.mstart()\r\n\t/private/var/folders/dx/k53rs1s93538b4x20g46cj_w0000gn/T/workdir/go/src/runtime/proc.go:1079 fp=0xc42003ff88 sp=0xc42003ff80\r\n\r\ngoroutine 17 [garbage collection]:\r\nruntime.systemstack_switch()\r\n\t/private/var/folders/dx/k53rs1s93538b4x20g46cj_w0000gn/T/workdir/go/src/runtime/asm_amd64.s:252 fp=0xc42002a538 sp=0xc42002a530\r\nruntime.gcMarkTermination()\r\n\t/private/var/folders/dx/k53rs1s93538b4x20g46cj_w0000gn/T/workdir/go/src/runtime/mgc.go:1194 +0x141 fp=0xc42002a728 sp=0xc42002a538\r\nruntime.gcMarkDone()\r\n\t/private/var/folders/dx/k53rs1s93538b4x20g46cj_w0000gn/T/workdir/go/src/runtime/mgc.go:1158 +0x1d8 fp=0xc42002a748 sp=0xc42002a728\r\nruntime.gcBgMarkWorker(0xc42001f300)\r\n\t/private/var/folders/dx/k53rs1s93538b4x20g46cj_w0000gn/T/workdir/go/src/runtime/mgc.go:1505 +0x2d4 fp=0xc42002a7b8 sp=0xc42002a748\r\nruntime.goexit()\r\n\t/private/var/folders/dx/k53rs1s93538b4x20g46cj_w0000gn/T/workdir/go/src/runtime/asm_amd64.s:2163 +0x1 fp=0xc42002a7c0 sp=0xc42002a7b8\r\ncreated by runtime.gcBgMarkStartWorkers\r\n\t/private/var/folders/dx/k53rs1s93538b4x20g46cj_w0000gn/T/workdir/go/src/runtime/mgc.go:1349 +0x98\r\n\r\ngoroutine 1 [runnable]:\r\ncmd/link/internal/ld.(*objReader).readInt32(0xc420073590, 0xc421b033e0)\r\n\t/private/var/folders/dx/k53rs1s93538b4x20g46cj_w0000gn/T/workdir/go/src/cmd/link/internal/ld/objfile.go:515 fp=0xc420073158 sp=0xc420073150\r\ncmd/link/internal/ld.(*objReader).readSym(0xc420073590)\r\n\t/private/var/folders/dx/k53rs1s93538b4x20g46cj_w0000gn/T/workdir/go/src/cmd/link/internal/ld/objfile.go:327 +0x3fe fp=0xc420073348 sp=0xc420073158\r\ncmd/link/internal/ld.(*objReader).loadObjFile(0xc420073590)\r\n\t/private/var/folders/dx/k53rs1s93538b4x20g46cj_w0000gn/T/workdir/go/src/cmd/link/internal/ld/objfile.go:223 +0x442 fp=0xc420073508 sp=0xc420073348\r\ncmd/link/internal/ld.LoadObjFile(0xc4204a8000, 0xc4217a73a0, 0xc420eac200, 0x7, 0xfa9de, 0xc4217f92c0, 0x5e)\r\n\t/private/var/folders/dx/k53rs1s93538b4x20g46cj_w0000gn/T/workdir/go/src/cmd/link/internal/ld/objfile.go:162 +0x113 fp=0xc4200736b0 sp=0xc420073508\r\ncmd/link/internal/ld.ldobj(0xc4204a8000, 0xc4217a73a0, 0xc420eac200, 0x7, 0xfaa70, 0xc4217f92c0, 0x5e, 0xc420f2ccc0, 0x56, 0x1, ...)\r\n\t/private/var/folders/dx/k53rs1s93538b4x20g46cj_w0000gn/T/workdir/go/src/cmd/link/internal/ld/lib.go:1309 +0xacc fp=0xc420073950 sp=0xc4200736b0\r\ncmd/link/internal/ld.objfile(0xc4204a8000, 0xc420f2a850)\r\n\t/private/var/folders/dx/k53rs1s93538b4x20g46cj_w0000gn/T/workdir/go/src/cmd/link/internal/ld/lib.go:745 +0x42d fp=0xc420073b90 sp=0xc420073950\r\ncmd/link/internal/ld.(*Link).loadlib(0xc4204a8000)\r\n\t/private/var/folders/dx/k53rs1s93538b4x20g46cj_w0000gn/T/workdir/go/src/cmd/link/internal/ld/lib.go:430 +0x1d8 fp=0xc420073d40 sp=0xc420073b90\r\ncmd/link/internal/ld.Main()\r\n\t/private/var/folders/dx/k53rs1s93538b4x20g46cj_w0000gn/T/workdir/go/src/cmd/link/internal/ld/main.go:182 +0x7e0 fp=0xc420073ec8 sp=0xc420073d40\r\nmain.main()\r\n\t/private/var/folders/dx/k53rs1s93538b4x20g46cj_w0000gn/T/workdir/go/src/cmd/link/main.go:55 +0x139 fp=0xc420073f48 sp=0xc420073ec8\r\nruntime.main()\r\n\t/private/var/folders/dx/k53rs1s93538b4x20g46cj_w0000gn/T/workdir/go/src/runtime/proc.go:183 +0x1f4 fp=0xc420073fa0 sp=0xc420073f48\r\nruntime.goexit()\r\n\t/private/var/folders/dx/k53rs1s93538b4x20g46cj_w0000gn/T/workdir/go/src/runtime/asm_amd64.s:2163 +0x1 fp=0xc420073fa8 sp=0xc420073fa0\r\n\r\ngoroutine 2 [force gc (idle)]:\r\nruntime.gopark(0x1d55b0, 0x297170, 0x1cac2b, 0xf, 0x1d5414, 0x1)\r\n\t/private/var/folders/dx/k53rs1s93538b4x20g46cj_w0000gn/T/workdir/go/src/runtime/proc.go:259 +0x13a fp=0xc42002e748 sp=0xc42002e718\r\nruntime.goparkunlock(0x297170, 0x1cac2b, 0xf, 0xc420000114, 0x1)\r\n\t/private/var/folders/dx/k53rs1s93538b4x20g46cj_w0000gn/T/workdir/go/src/runtime/proc.go:265 +0x5e fp=0xc42002e788 sp=0xc42002e748\r\nruntime.forcegchelper()\r\n\t/private/var/folders/dx/k53rs1s93538b4x20g46cj_w0000gn/T/workdir/go/src/runtime/proc.go:224 +0x9e fp=0xc42002e7c0 sp=0xc42002e788\r\nruntime.goexit()\r\n\t/private/var/folders/dx/k53rs1s93538b4x20g46cj_w0000gn/T/workdir/go/src/runtime/asm_amd64.s:2163 +0x1 fp=0xc42002e7c8 sp=0xc42002e7c0\r\ncreated by runtime.init.3\r\n\t/private/var/folders/dx/k53rs1s93538b4x20g46cj_w0000gn/T/workdir/go/src/runtime/proc.go:213 +0x35\r\n\r\ngoroutine 3 [GC sweep wait]:\r\nruntime.gopark(0x1d55b0, 0x297320, 0x1ca29d, 0xd, 0x4c014, 0x1)\r\n\t/private/var/folders/dx/k53rs1s93538b4x20g46cj_w0000gn/T/workdir/go/src/runtime/proc.go:259 +0x13a fp=0xc42002ef38 sp=0xc42002ef08\r\nruntime.goparkunlock(0x297320, 0x1ca29d, 0xd, 0x14, 0x1)\r\n\t/private/var/folders/dx/k53rs1s93538b4x20g46cj_w0000gn/T/workdir/go/src/runtime/proc.go:265 +0x5e fp=0xc42002ef78 sp=0xc42002ef38\r\nruntime.bgsweep(0xc420056000)\r\n\t/private/var/folders/dx/k53rs1s93538b4x20g46cj_w0000gn/T/workdir/go/src/runtime/mgcsweep.go:79 +0x12e fp=0xc42002efb8 sp=0xc42002ef78\r\nruntime.goexit()\r\n\t/private/var/folders/dx/k53rs1s93538b4x20g46cj_w0000gn/T/workdir/go/src/runtime/asm_amd64.s:2163 +0x1 fp=0xc42002efc0 sp=0xc42002efb8\r\ncreated by runtime.gcenable\r\n\t/private/var/folders/dx/k53rs1s93538b4x20g46cj_w0000gn/T/workdir/go/src/runtime/mgc.go:204 +0x61\r\n\r\ngoroutine 4 [finalizer wait]:\r\nruntime.gopark(0x1d55b0, 0x2b58b8, 0x1ca7a2, 0xe, 0x14, 0x1)\r\n\t/private/var/folders/dx/k53rs1s93538b4x20g46cj_w0000gn/T/workdir/go/src/runtime/proc.go:259 +0x13a fp=0xc42002f708 sp=0xc42002f6d8\r\nruntime.goparkunlock(0x2b58b8, 0x1ca7a2, 0xe, 0x14, 0x1)\r\n\t/private/var/folders/dx/k53rs1s93538b4x20g46cj_w0000gn/T/workdir/go/src/runtime/proc.go:265 +0x5e fp=0xc42002f748 sp=0xc42002f708\r\nruntime.runfinq()\r\n\t/private/var/folders/dx/k53rs1s93538b4x20g46cj_w0000gn/T/workdir/go/src/runtime/mfinal.go:158 +0xaf fp=0xc42002f7c0 sp=0xc42002f748\r\nruntime.goexit()\r\n\t/private/var/folders/dx/k53rs1s93538b4x20g46cj_w0000gn/T/workdir/go/src/runtime/asm_amd64.s:2163 +0x1 fp=0xc42002f7c8 sp=0xc42002f7c0\r\ncreated by runtime.createfing\r\n\t/private/var/folders/dx/k53rs1s93538b4x20g46cj_w0000gn/T/workdir/go/src/runtime/mfinal.go:139 +0x62\r\n\r\ngoroutine 5 [GC worker (idle)]:\r\nruntime.gopark(0x1d5460, 0xc420010570, 0x1caf10, 0x10, 0x14, 0x0)\r\n\t/private/var/folders/dx/k53rs1s93538b4x20g46cj_w0000gn/T/workdir/go/src/runtime/proc.go:259 +0x13a fp=0xc42002ff48 sp=0xc42002ff18\r\nruntime.gcBgMarkWorker(0xc42001e000)\r\n\t/private/var/folders/dx/k53rs1s93538b4x20g46cj_w0000gn/T/workdir/go/src/runtime/mgc.go:1428 +0x108 fp=0xc42002ffb8 sp=0xc42002ff48\r\nruntime.goexit()\r\n\t/private/var/folders/dx/k53rs1s93538b4x20g46cj_w0000gn/T/workdir/go/src/runtime/asm_amd64.s:2163 +0x1 fp=0xc42002ffc0 sp=0xc42002ffb8\r\ncreated by runtime.gcBgMarkStartWorkers\r\n\t/private/var/folders/dx/k53rs1s93538b4x20g46cj_w0000gn/T/workdir/go/src/runtime/mgc.go:1349 +0x98\r\n\r\ngoroutine 6 [GC worker (idle)]:\r\nruntime.gopark(0x1d5460, 0xc420010580, 0x1caf10, 0x10, 0x14, 0x0)\r\n\t/private/var/folders/dx/k53rs1s93538b4x20g46cj_w0000gn/T/workdir/go/src/runtime/proc.go:259 +0x13a fp=0xc420030748 sp=0xc420030718\r\nruntime.gcBgMarkWorker(0xc420020600)\r\n\t/private/var/folders/dx/k53rs1s93538b4x20g46cj_w0000gn/T/workdir/go/src/runtime/mgc.go:1428 +0x108 fp=0xc4200307b8 sp=0xc420030748\r\nruntime.goexit()\r\n\t/private/var/folders/dx/k53rs1s93538b4x20g46cj_w0000gn/T/workdir/go/src/runtime/asm_amd64.s:2163 +0x1 fp=0xc4200307c0 sp=0xc4200307b8\r\ncreated by runtime.gcBgMarkStartWorkers\r\n\t/private/var/folders/dx/k53rs1s93538b4x20g46cj_w0000gn/T/workdir/go/src/runtime/mgc.go:1349 +0x98\r\n\r\ngoroutine 18 [GC worker (idle)]:\r\nruntime.gopark(0x1d5460, 0xc42049c010, 0x1caf10, 0x10, 0x14, 0x0)\r\n\t/private/var/folders/dx/k53rs1s93538b4x20g46cj_w0000gn/T/workdir/go/src/runtime/proc.go:259 +0x13a fp=0xc42002af48 sp=0xc42002af18\r\nruntime.gcBgMarkWorker(0xc420021900)\r\n\t/private/var/folders/dx/k53rs1s93538b4x20g46cj_w0000gn/T/workdir/go/src/runtime/mgc.go:1428 +0x108 fp=0xc42002afb8 sp=0xc42002af48\r\nruntime.goexit()\r\n\t/private/var/folders/dx/k53rs1s93538b4x20g46cj_w0000gn/T/workdir/go/src/runtime/asm_amd64.s:2163 +0x1 fp=0xc42002afc0 sp=0xc42002afb8\r\ncreated by runtime.gcBgMarkStartWorkers\r\n\t/private/var/folders/dx/k53rs1s93538b4x20g46cj_w0000gn/T/workdir/go/src/runtime/mgc.go:1349 +0x98\r\n\r\ngoroutine 7 [GC worker (idle)]:\r\nruntime.gopark(0x1d5460, 0xc420010590, 0x1caf10, 0x10, 0x14, 0x0)\r\n\t/private/var/folders/dx/k53rs1s93538b4x20g46cj_w0000gn/T/workdir/go/src/runtime/proc.go:259 +0x13a fp=0xc420030f48 sp=0xc420030f18\r\nruntime.gcBgMarkWorker(0xc420022c00)\r\n\t/private/var/folders/dx/k53rs1s93538b4x20g46cj_w0000gn/T/workdir/go/src/runtime/mgc.go:1428 +0x108 fp=0xc420030fb8 sp=0xc420030f48\r\nruntime.goexit()\r\n\t/private/var/folders/dx/k53rs1s93538b4x20g46cj_w0000gn/T/workdir/go/src/runtime/asm_amd64.s:2163 +0x1 fp=0xc420030fc0 sp=0xc420030fb8\r\ncreated by runtime.gcBgMarkStartWorkers\r\n\t/private/var/folders/dx/k53rs1s93538b4x20g46cj_w0000gn/T/workdir/go/src/runtime/mgc.go:1349 +0x98\r\n\r\ngoroutine 19 [GC worker (idle)]:\r\nruntime.gopark(0x1d5460, 0xc42049c020, 0x1caf10, 0x10, 0x14, 0x0)\r\n\t/private/var/folders/dx/k53rs1s93538b4x20g46cj_w0000gn/T/workdir/go/src/runtime/proc.go:259 +0x13a fp=0xc42002b748 sp=0xc42002b718\r\nruntime.gcBgMarkWorker(0xc420024000)\r\n\t/private/var/folders/dx/k53rs1s93538b4x20g46cj_w0000gn/T/workdir/go/src/runtime/mgc.go:1428 +0x108 fp=0xc42002b7b8 sp=0xc42002b748\r\nruntime.goexit()\r\n\t/private/var/folders/dx/k53rs1s93538b4x20g46cj_w0000gn/T/workdir/go/src/runtime/asm_amd64.s:2163 +0x1 fp=0xc42002b7c0 sp=0xc42002b7b8\r\ncreated by runtime.gcBgMarkStartWorkers\r\n\t/private/var/folders/dx/k53rs1s93538b4x20g46cj_w0000gn/T/workdir/go/src/runtime/mgc.go:1349 +0x98\r\nok  \tdebug/gosym\t0.571s\r\nok  \tdebug/macho\t0.027s\r\nok  \tdebug/pe\t0.031s\r\nok  \tdebug/plan9obj\t0.061s\r\nok  \tencoding/ascii85\t0.027s\r\nok  \tencoding/asn1\t0.062s\r\nok  \tencoding/base32\t0.020s\r\nFAIL\tencoding/base64 [build failed]\r\nok  \tencoding/binary\t0.027s\r\nok  \tencoding/csv\t0.017s\r\nok  \tencoding/gob\t0.083s\r\nok  \tencoding/hex\t0.058s\r\nok  \tencoding/json\t0.216s\r\nok  \tencoding/pem\t0.064s\r\nok  \tencoding/xml\t0.053s\r\nok  \terrors\t0.088s\r\nok  \texpvar\t0.016s\r\n2016/09/19 10:52:48 Failed: exit status 2\r\n\r\n\r\nError: tests failed: dist test failed: go_test:debug/gosym: exit status 1\r\n```",
	"user": {
		"login": "bradfitz",
		"id": 2621,
		"type": "User",
		"site_admin": false
	},
	"labels": [
		{
			"name": "NeedsInvestigation"
		}
	],
	"comments": 8,
	"created_at": "2016-09-19T17:56:06Z",
	"updated_at": "2016-10-18T04:05:34Z",
	"milestone": {
		"id": 1709363,
		"number": 38,
		"title": "Go1.8"
	}
}
