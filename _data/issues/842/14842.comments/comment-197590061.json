{
	"id": 197590061,
	"body": "What's happening is the single file you provided is being compiled in a\n\"fake\" package. That package is no longer a sibling of the correct vendor/\ndirectory so those paths are invisible.\n\nI cannot comment on if this is supported behaviour or not, but can tell you\nthat the go tool really wants to work with packages, not single files, and\nyou will get much better results if you do things its way.\n\nOn Thu, 17 Mar 2016, 09:37 Bradley, \u003cnotifications@github.com\u003e wrote:\n\n\u003e Please answer these questions before submitting your issue. Thanks!\n\u003e\n\u003e *What version of Go are you using (go version)?*\n\u003e go version go1.6 darwin/amd64\n\u003e\n\u003e *What operating system and processor architecture are you using (go env)?*\n\u003e go env\n\u003e GOARCH=\"amd64\"\n\u003e GOBIN=\"\"\n\u003e GOEXE=\"\"\n\u003e GOHOSTARCH=\"amd64\"\n\u003e GOHOSTOS=\"darwin\"\n\u003e GOOS=\"darwin\"\n\u003e GOPATH=\"/Users/Bradley/go\"\n\u003e GORACE=\"\"\n\u003e GOROOT=\"/usr/local/go\"\n\u003e GOTOOLDIR=\"/usr/local/go/pkg/tool/darwin_amd64\"\n\u003e GO15VENDOREXPERIMENT=\"1\"\n\u003e CC=\"clang\"\n\u003e GOGCCFLAGS=\"-fPIC -m64 -pthread -fno-caret-diagnostics -Qunused-arguments\n\u003e -fmessage-length=0 -fno-common\"\n\u003e CXX=\"clang++\"\n\u003e CGO_ENABLED=\"1\"\n\u003e\n\u003e *What did you do?*\n\u003e I am not sure if\n\u003e go test \u003csingle file\u003e\n\u003e is officially supported but it used to work. If any of the packages\n\u003e imported by the test file are in the new vendor directory I get an error.\n\u003e If none of the packages are in the vendor directory the test runs fine.\n\u003e\n\u003e *What did you expect to see?*\n\u003e\n\u003e I expect it to first print the path to my projects vendor directory, then\n\u003e look in the GOPATH, and then look in the GOROOT.\n\u003e\n\u003e *What did you see instead?*\n\u003e\n\u003e Bradleys-MacBook-Pro:wallet-api Bradley$ go test ./integration/api_test.go\n\u003e # command-line-arguments\n\u003e integration/api_test.go:19:2: cannot find package \"command-li/vendor/golang.org/x/net/context\" in any of:\n\u003e     /usr/local/go/src/command-li/vendor/golang.org/x/net/context (from $GOROOT)\n\u003e     /Users/Bradley/go/src/command-li/vendor/golang.org/x/net/context (from $GOPATH)\n\u003e\n\u003e It seems to be manipulating the string wrong to determine the paths for\n\u003e where it is supposed to look.\n\u003e I can change how we run certain tests regardless but this behavior does\n\u003e not seem correct.\n\u003e\n\u003e â€”\n\u003e You are receiving this because you are subscribed to this thread.\n\u003e Reply to this email directly or view it on GitHub\n\u003e \u003chttps://github.com/golang/go/issues/14842\u003e\n\u003e\n",
	"user": {
		"login": "davecheney",
		"id": 7171,
		"type": "User",
		"site_admin": false
	},
	"created_at": "2016-03-16T22:44:04Z",
	"updated_at": "2016-03-16T22:44:04Z"
}
