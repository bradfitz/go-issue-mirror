{
	"id": 66079008,
	"body": "\u003ca id=\"c5\"\u003e\u003c/a\u003eComment 5:\n\n\u003cpre\u003eI've found a way to reproduce this more reliably:\n\nGOGC=0 GOGCTRACE=1 GOMAXPROCS=2 ./runtime.test -test.short\n-test.cpu=1,2,4,1,2,4,1,2,4,1,2,4,1,2,4,1,2,4,1,2,4,1,2,4,1,2,4,1,2,4,1,2,4,1,2,4,1,2,4,1,2,4,1,2,4,1,2,4,1,2,4,1,2,4,1,2,4,1,2,4,1,2,4,1,2,4\n-test.v\n\nIt failed within 3 or 4 runs.\n\nHere's another trace:\n\n=== RUN TestPseudoRandomSend-2\ngc313476(2): 0+0+0 ms, 10 -\u003e 10 MB 3021 -\u003e 3021 (1262540-1259519) objects, 2(30)\nhandoff, 6(385) steal, 31/4/0 yields\ngc313477(2): 0+0+0 ms, 10 -\u003e 10 MB 3022 -\u003e 3022 (1262542-1259520) objects, 2(23)\nhandoff, 4(413) steal, 40/6/1 yields\ngc313478(2): 0+0+0 ms, 10 -\u003e 10 MB 3023 -\u003e 3023 (1262544-1259521) objects, 2(19)\nhandoff, 6(421) steal, 37/3/0 yields\ngc313479(2): 0+0+0 ms, 10 -\u003e 10 MB 3024 -\u003e 3024 (1262546-1259522) objects, 2(12)\nhandoff, 10(1357) steal, 36/15/2 yields\ngc313480(2): 0+0+0 ms, 10 -\u003e 10 MB 3025 -\u003e 3025 (1262548-1259523) objects, 1(15)\nhandoff, 5(170) steal, 31/4/0 yields\ngc313481(2): 0+0+0 ms, 10 -\u003e 10 MB 3026 -\u003e 3026 (1262550-1259524) objects, 2(10)\nhandoff, 10(1357) steal, 26/15/2 yields\ngc313482(2): 0+0+0 ms, 10 -\u003e 10 MB 3027 -\u003e 3027 (1262552-1259525) objects, 2(43)\nhandoff, 6(421) steal, 36/7/0 yields\ngc313483(2): 0+0+0 ms, 10 -\u003e 10 MB 3028 -\u003e 3023 (1262554-1259531) objects, 0(0) handoff,\n5(408) steal, 22/11/0 yields\ngc313484(2): 0+0+0 ms, 10 -\u003e 10 MB 3023 -\u003e 3023 (1262556-1259533) objects, 1(9) handoff,\n4(418) steal, 24/3/0 yields\ngc313485(2): 0+0+0 ms, 10 -\u003e 10 MB 3023 -\u003e 3023 (1262558-1259535) objects, 3(56)\nhandoff, 5(1124) steal, 22/14/1 yields\ngc313486(2): 0+0+0 ms, 10 -\u003e 10 MB 3023 -\u003e 3023 (1262560-1259537) objects, 3(61)\nhandoff, 4(1123) steal, 22/15/1 yields\ngc313487(2): 0+0+0 ms, 10 -\u003e 10 MB 3023 -\u003e 3023 (1262562-1259539) objects, 4(115)\nhandoff, 4(834) steal, 22/15/1 yields\ngc313488(2): 0+0+0 ms, 10 -\u003e 10 MB 3023 -\u003e 3023 (1262564-1259541) objects, 1(5) handoff,\n5(419) steal, 22/2/0 yields\nSIGSEGV: segmentation violation\nPC=0x4065cf\n\nselunlock(0xc2008cab40)\n        /home/alberts/go/src/pkg/runtime/chan.c:817 +0x3f\npark0(0xc200817200)\n        /home/alberts/go/src/pkg/runtime/proc.c:1186 +0x7a\nruntime.mcall()\n        /home/alberts/go/src/pkg/runtime/asm_amd64.s:195 +0x49\n\ngoroutine 1 [chan receive]:\nruntime.park(0x40d1b0, 0xc2003103b0, 0x75f90a)\n        /home/alberts/go/src/pkg/runtime/proc.c:1175 +0x64\nruntime.chanrecv(0x573a00, 0xc200310360, 0x7f4c9831cce0, 0x0, 0x0, ...)\n        /home/alberts/go/src/pkg/runtime/chan.c:366 +0x566\nruntime.chanrecv1()\n        /home/alberts/go/src/pkg/runtime/chan.c:458 +0x38\ntesting.RunTests(0x650528, 0x760260, 0x31, 0x31, 0x1, ...)\n        /build/go/go/src/pkg/testing/testing.go:434 +0x88e\ntesting.Main(0x650528, 0x760260, 0x31, 0x31, 0x762040, ...)\n        /build/go/go/src/pkg/testing/testing.go:365 +0x8a\nmain.main()\n        runtime/_test/_testmain.go:319 +0x9a\nruntime.main()\n        /home/alberts/go/src/pkg/runtime/proc.c:182 +0x92\nruntime.goexit()\n        /home/alberts/go/src/pkg/runtime/proc.c:1223\n\ngoroutine 2 [syscall]:\nruntime.entersyscallblock()\n        /home/alberts/go/src/pkg/runtime/proc.c:1333 +0x16e\nruntime.MHeap_Scavenger()\n        /home/alberts/go/src/pkg/runtime/mheap.c:454 +0xee\nruntime.goexit()\n        /home/alberts/go/src/pkg/runtime/proc.c:1223\ncreated by runtime.main\n        /home/alberts/go/src/pkg/runtime/proc.c:165\n\ngoroutine 68 [timer goroutine (idle)]:\nruntime.park(0x40d1b0, 0x763420, 0x75a686)\n        /home/alberts/go/src/pkg/runtime/proc.c:1175 +0x64\ntimerproc()\n        /home/alberts/go/src/pkg/runtime/ztime_linux_amd64.c:187 +0x79\nruntime.goexit()\n        /home/alberts/go/src/pkg/runtime/proc.c:1223\ncreated by addtimer\n        /home/alberts/go/src/pkg/runtime/ztime_linux_amd64.c:82\n\ngoroutine 36 [finalizer wait]:\nruntime.park(0x0, 0x0, 0x760ad1)\n        /home/alberts/go/src/pkg/runtime/proc.c:1175 +0x64\nrunfinq()\n        /home/alberts/go/src/pkg/runtime/mgc0.c:2182 +0x6d\nruntime.goexit()\n        /home/alberts/go/src/pkg/runtime/proc.c:1223\ncreated by runtime.gc\n        /home/alberts/go/src/pkg/runtime/mgc0.c:1886\n\ngoroutine 560834 [runnable]:\nruntime.gosched()\n        /home/alberts/go/src/pkg/runtime/proc.c:1201 +0x25\nruntime.Gosched()\n        /home/alberts/go/src/pkg/runtime/proc.c:1621 +0x18\nruntime_test.funcÂ·001()\n        /home/alberts/go/src/pkg/runtime/chan_test.go:38 +0x55\nruntime.goexit()\n        /home/alberts/go/src/pkg/runtime/proc.c:1223\ncreated by runtime_test.TestPseudoRandomSend\n        /home/alberts/go/src/pkg/runtime/chan_test.go:42 +0x12d\n\ngoroutine 560833 [running]:\nruntime.park(0xc2008cab40, 0x7f4c9835c7e8, 0x75fa36)\n        /home/alberts/go/src/pkg/runtime/proc.c:1175 +0x64\nselectgo(0x7f4c97e14ec8)\n        /home/alberts/go/src/pkg/runtime/chan.c:1119 +0x28d\ncreated by testing.RunTests\n        /build/go/go/src/pkg/testing/testing.go:433 +0x86b\nrax     0x0\nrbx     0x0\nrcx     0x0\nrdx     0xc200310ee0\nrdi     0x419320\nrsi     0xc200791a00\nrbp     0xc200310ea0\nrsp     0xc200797f58\nr8      0xffffffff\nr9      0xc200310ea0\nr10     0x0\nr11     0x202\nr12     0x0\nr13     0x4f\nr14     0x3f59824c084218\nr15     0x6261d0\nrip     0x4065cf\nrflags  0x10202\ncs      0x33\nfs      0x0\ngs      0x0\u003c/pre\u003e",
	"user": {
		"login": "alberts",
		"id": 409689,
		"type": "User",
		"site_admin": false
	},
	"created_at": "2013-05-08T08:16:43Z",
	"updated_at": "2014-12-08T10:29:19Z"
}
