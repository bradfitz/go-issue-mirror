{
	"id": 51286638,
	"number": 7389,
	"state": "closed",
	"title": "ssh: unhandled message while openning NewSession",
	"body": "by **dmage.ru**:\n\n\u003cpre\u003eNewSession hangs with sshd OpenSSH_6.4p1-hpn14v2, OpenSSL 1.0.1f 6 Jan 2014, Gentoo.\n\nWhat steps will reproduce the problem?\n1. minimal client code \u003ca href=\"https://gist.github.com/dmage/9157272\"\u003ehttps://gist.github.com/dmage/9157272\u003c/a\u003e\n2. you may use packer with VirtualBox to run ssh server\n\u003ca href=\"https://github.com/mitchellh/packer/issues/902\"\u003ehttps://github.com/mitchellh/packer/issues/902\u003c/a\u003e (it will start sshd and hang at\nNewSession)\n\nWhat is the expected output?\nmessage \u0026quot;done\u0026quot;\n\nWhat do you see instead?\none unhandled message and forever-wait\nmainLoop: unhandled message *ssh.kexInitMsg: \u0026amp;{[123 127 9 29 48 2 135 210 65 202 160\n32 85 5 119 142] [diffie-hellman-group-exchange-sha256\ndiffie-hellman-group-exchange-sha1 diffie-hellman-group14-sha1\ndiffie-hellman-group1-sha1] [ssh-rsa ssh-dss] [aes128-ctr aes192-ctr aes256-ctr\narcfour256 arcfour128 aes128-gcm@openssh.com aes256-gcm@openssh.com aes128-cbc 3des-cbc\nblowfish-cbc cast128-cbc aes192-cbc aes256-cbc arcfour rijndael-cbc@lysator.liu.se]\n[aes128-ctr aes192-ctr aes256-ctr arcfour256 arcfour128 aes128-gcm@openssh.com\naes256-gcm@openssh.com aes128-cbc 3des-cbc blowfish-cbc cast128-cbc aes192-cbc\naes256-cbc arcfour rijndael-cbc@lysator.liu.se] [hmac-md5-etm@openssh.com\nhmac-sha1-etm@openssh.com umac-64-etm@openssh.com umac-128-etm@openssh.com\nhmac-sha2-256-etm@openssh.com hmac-sha2-512-etm@openssh.com\nhmac-ripemd160-etm@openssh.com hmac-sha1-96-etm@openssh.com hmac-md5-96-etm@openssh.com\nhmac-md5 hmac-sha1 umac-64@openssh.com umac-128@openssh.com hmac-sha2-256 hmac-sha2-512\nhmac-ripemd160 hmac-ripemd160@openssh.com hmac-sha1-96 hmac-md5-96]\n[hmac-md5-etm@openssh.com hmac-sha1-etm@openssh.com umac-64-etm@openssh.com\numac-128-etm@openssh.com hmac-sha2-256-etm@openssh.com hmac-sha2-512-etm@openssh.com\nhmac-ripemd160-etm@openssh.com hmac-sha1-96-etm@openssh.com hmac-md5-96-etm@openssh.com\nhmac-md5 hmac-sha1 umac-64@openssh.com umac-128@openssh.com hmac-sha2-256 hmac-sha2-512\nhmac-ripemd160 hmac-ripemd160@openssh.com hmac-sha1-96 hmac-md5-96] [none\nzlib@openssh.com] [none zlib@openssh.com] [] [] false 0}\n\nWhich operating system are you using?\nGentoo\n\nWhich version are you using?  (run 'go version' or 'gccgo --version')\ngo version go1.2 linux/amd64\u003c/pre\u003e",
	"user": {
		"login": "gopherbot",
		"id": 8566911,
		"type": "User",
		"site_admin": false
	},
	"labels": [
		{
			"name": "FrozenDueToAge"
		}
	],
	"comments": 6,
	"closed_at": "2014-12-08T10:41:07Z",
	"created_at": "2014-02-22T16:17:14Z",
	"updated_at": "2016-06-25T01:28:15Z"
}
