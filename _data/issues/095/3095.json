{
	"id": 51280117,
	"number": 3095,
	"state": "closed",
	"title": "ssh: need example",
	"body": "by **zhubicen**:\n\n\u003cpre\u003e\u003ca href=\"http://groups.google.com/group/golang-nuts/browse_thread/thread/51fb49a90709d670\"\u003ehttp://groups.google.com/group/golang-nuts/browse_thread/thread/51fb49a90709d670\u003c/a\u003e\n\nWhat steps will reproduce the problem?\n0. I am trying to use the ssh library to write a simple ssh client \n1. following code is used:\nimport \u0026quot;code.google.com/p/go.crypto/ssh\u0026quot;\nfunc SshConnect(host string, user string, passwd string)(*SshConn, \nerror){ \n        config := \u0026amp;ssh.ClientConfig { \n        User: user, \n    Auth: []ssh.ClientAuth \n{ssh.ClientAuthPassword(password(passwd)),}, \n        } \n        clientConn, err := ssh.Dial(\u0026quot;tcp\u0026quot;, fmt.Sprintf(\u0026quot;%s:22\u0026quot;, host), \nconfig) \n        if err != nil{ \n                return nil, err \n        } \n        this := \u0026amp;SshConn{host, clientConn} \n        return this, nil \n} \n3.The code can be compiled, but in run time it always return error: \u0026quot;ssh: no common\nalgorithms\u0026quot; \n\nWhat is the expected output?\nCan connect the server sucess\n\nWhat do you see instead?\nreturn error: \u0026quot;ssh: no common algorithms\u0026quot; \n\nWhich compiler are you using (5g, 6g, 8g, gccgo)?\ngowin386_weekly.2012-02-14.\n\nWhich operating system are you using?\nWindows7 32bit\n\nWhich revision are you using?  (hg identify)\n\n\nPlease provide any additional information below.\nclassic ssh client can connect to the ssh server success. but not my code.\nMore info maybe helpful:\n\n$ ssh -vv 192.168.255.1 true 2\u0026gt;\u0026amp;1 | grep kex_parse_kexinit\ndebug2: kex_parse_kexinit:\necdh-sha2-nistp256,ecdh-sha2-nistp384,ecdh-sha2-nistp521,diffie-hellman-group-exchange-sha256,diffie-hellman-group-exchange-sha1,diffie-hellman-group14-sha1,diffie-hellman-group1-sha1\ndebug2: kex_parse_kexinit:\necdsa-sha2-nistp256-cert-v01@openssh.com,ecdsa-sha2-nistp384-cert-v01@openssh.com,ecdsa-sha2-nistp521-cert-v01@openssh.com,ssh-rsa-cert-v01@openssh.com,ssh-dss-cert-v01@openssh.com,ssh-rsa-cert-v00@openssh.com,ssh-dss-cert-v00@openssh.com,ecdsa-sha2-nistp256,ecdsa-sha2-nistp384,ecdsa-sha2-nistp521,ssh-rsa,ssh-dss\ndebug2: kex_parse_kexinit:\naes128-ctr,aes192-ctr,aes256-ctr,arcfour256,arcfour128,aes128-cbc,3des-cbc,blowfish-cbc,cast128-cbc,aes192-cbc,aes256-cbc,arcfour,rijndael-cbc@lysator.liu.se\ndebug2: kex_parse_kexinit:\naes128-ctr,aes192-ctr,aes256-ctr,arcfour256,arcfour128,aes128-cbc,3des-cbc,blowfish-cbc,cast128-cbc,aes192-cbc,aes256-cbc,arcfour,rijndael-cbc@lysator.liu.se\ndebug2: kex_parse_kexinit:\nhmac-md5,hmac-sha1,umac-64@openssh.com,hmac-sha2-256,hmac-sha2-256-96,hmac-sha2-512,hmac-sha2-512-96,hmac-ripemd160,hmac-ripemd160@openssh.com,hmac-sha1-96,hmac-md5-96\ndebug2: kex_parse_kexinit:\nhmac-md5,hmac-sha1,umac-64@openssh.com,hmac-sha2-256,hmac-sha2-256-96,hmac-sha2-512,hmac-sha2-512-96,hmac-ripemd160,hmac-ripemd160@openssh.com,hmac-sha1-96,hmac-md5-96\ndebug2: kex_parse_kexinit: none,zlib@openssh.com,zlib\ndebug2: kex_parse_kexinit: none,zlib@openssh.com,zlib\ndebug2: kex_parse_kexinit:\ndebug2: kex_parse_kexinit:\ndebug2: kex_parse_kexinit: first_kex_follows 0\ndebug2: kex_parse_kexinit: reserved 0\ndebug2: kex_parse_kexinit:\necdh-sha2-nistp256,ecdh-sha2-nistp384,ecdh-sha2-nistp521,diffie-hellman-group-exchange-sha256,diffie-hellman-group-exchange-sha1,diffie-hellman-group14-sha1,diffie-hellman-group1-sha1\ndebug2: kex_parse_kexinit: ssh-rsa,ssh-dss,ecdsa-sha2-nistp256\ndebug2: kex_parse_kexinit:\naes192-cbc,aes192-ctr,aes128-cbc,aes128-cbc,aes256-cbc,aes256-ctr\ndebug2: kex_parse_kexinit:\naes192-cbc,aes192-ctr,aes128-cbc,aes128-cbc,aes256-cbc,aes256-ctr\ndebug2: kex_parse_kexinit: hmac-sha1,hmac-ripemd160\ndebug2: kex_parse_kexinit: hmac-sha1,hmac-ripemd160\ndebug2: kex_parse_kexinit: none,zlib@openssh.com\ndebug2: kex_parse_kexinit: none,zlib@openssh.com\ndebug2: kex_parse_kexinit:\ndebug2: kex_parse_kexinit:\ndebug2: kex_parse_kexinit: first_kex_follows 0\ndebug2: kex_parse_kexinit: reserved 0\u003c/pre\u003e",
	"user": {
		"login": "gopherbot",
		"id": 8566911,
		"type": "User",
		"site_admin": false
	},
	"labels": [
		{
			"name": "FrozenDueToAge"
		}
	],
	"comments": 10,
	"closed_at": "2014-12-08T10:16:07Z",
	"created_at": "2012-02-21T07:13:26Z",
	"updated_at": "2016-06-24T21:28:20Z"
}
