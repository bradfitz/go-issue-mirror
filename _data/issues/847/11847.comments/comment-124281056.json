{
	"id": 124281056,
	"body": "Just removed a few images, burned dfly-v4.2.3.2 and run ktrace -id ./runtime.test -test.run=TestCgoExternalThreadSignal. The output of kdump is 2759000 lines, extract around SIGSEGV looks the following:\r\n```\r\n(snip)\r\n 3913:5     1 a.exe    0.000007 CALL  set_tls_area(0,0x7fffff3fafd0,0x10)\r\n 3913:5     1 a.exe    0.000003 RET   set_tls_area 0\r\n 3913:0     0 a.exe    0.000002 RET   clock_gettime 0\r\n 3913:5     1 a.exe    0.000003 CALL  sigprocmask(SIG_SETMASK,0x80081085c,0)\r\n 3913:5     1 a.exe    0.000002 RET   sigprocmask 0\r\n 3913:0     0 a.exe    0.000002 CALL  umtx_wakeup(0xc820026e88,0x1)\r\n 3913:0     0 a.exe    0.000003 RET   umtx_wakeup 0\r\n 3913:3     0 a.exe    0.000002 RET   umtx_sleep 0\r\n 3913:0     0 a.exe    0.000002 CALL  clock_gettime(0x4,0xc820021ec0)\r\n 3913:0     0 a.exe    0.000002 RET   clock_gettime 0\r\n 3913:5     1 a.exe    0.000006 PSIG  SIGSEGV caught handler=0x4558d0 mask=0x0 code=0x1\r\n 3913:5     1 a.exe    0.000224 CALL  sigprocmask(SIG_SETMASK,0,0xc820026050)\r\n 3913:5     1 a.exe    0.000002 RET   sigprocmask 0\r\n 3913:5     1 a.exe    0.000222 CALL  sigaltstack(0x7fffff3fa7c0,0)\r\n 3913:5     1 a.exe    0.000002 RET   sigaltstack 0\r\n 3913:5     1 a.exe    0.000001 CALL  sigprocmask(SIG_SETMASK,0x7fffff3fa7f8,0)\r\n 3913:5     1 a.exe    0.000002 RET   sigprocmask 0\r\n 3913:5     1 a.exe    0.000005 CALL  sigprocmask(SIG_UNBLOCK,0xc820034e68,0)\r\n 3913:5     1 a.exe    0.000223 RET   sigprocmask 0\r\n 3913:5     1 a.exe    0.000003 CALL  sigaction(SIGSEGV,0xc820034e28,0)\r\n 3913:5     1 a.exe    0.000222 RET   sigaction 0\r\n 3913:5     1 a.exe    0.000003 CALL  lwp_gettid\r\n 3913:5     1 a.exe    0.000001 RET   lwp_gettid 5\r\n 3913:5     1 a.exe    0.000001 CALL  lwp_kill(0x559b18,0xb,0)\r\n 3913:5     1 a.exe    0.000002 RET   lwp_kill -1 errno 3 No such process\r\n 3913:5     1 a.exe    0.000004 CALL  sigaction(SIGSEGV,0xc820034e28,0)\r\n 3913:5     1 a.exe    0.000223 RET   sigaction 0\r\n 3913:5     1 a.exe    0.000003 CALL  sigprocmask(SIG_SETMASK,0xc820026050,0)\r\n 3913:5     1 a.exe    0.000222 RET   sigprocmask 0\r\n 3913:5     1 a.exe    0.000003 CALL  sigaltstack(0x7fffff3fa7e8,0)\r\n 3913:5     1 a.exe    0.000002 RET   sigaltstack 0\r\n 3913:5     1 a.exe    0.000001 CALL  sigreturn(0x7fffff3fa940)\r\n 3913:5     1 a.exe    0.000005 RET   sigreturn JUSTRETURN\r\n 3913:5     1 a.exe    0.000224 PSIG  SIGSEGV caught handler=0x4558d0 mask=0x0 code=0x1\r\n 3913:5     1 a.exe    0.000003 CALL  sigprocmask(SIG_SETMASK,0,0xc820026050)\r\n 3913:5     1 a.exe    0.000220 RET   sigprocmask 0\r\n 3913:5     1 a.exe    0.000003 CALL  sigaltstack(0x7fffff3fa7c0,0)\r\n 3913:5     1 a.exe    0.000001 RET   sigaltstack 0\r\n 3913:5     1 a.exe    0.000001 CALL  sigprocmask(SIG_SETMASK,0x7fffff3fa7f8,0)\r\n 3913:5     1 a.exe    0.000004 RET   sigprocmask 0\r\n 3913:5     1 a.exe    0.000005 CALL  sigprocmask(SIG_UNBLOCK,0xc820034e68,0)\r\n 3913:5     1 a.exe    0.000219 RET   sigprocmask 0\r\n 3913:5     1 a.exe    0.000002 CALL  sigaction(SIGSEGV,0xc820034e28,0)\r\n 3913:5     1 a.exe    0.000001 RET   sigaction 0\r\n 3913:5     1 a.exe    0.000222 CALL  lwp_gettid\r\n 3913:5     1 a.exe    0.000002 RET   lwp_gettid 5\r\n 3913:5     1 a.exe    0.000001 CALL  lwp_kill(0x559b18,0xb,0)\r\n 3913:5     1 a.exe    0.000001 RET   lwp_kill -1 errno 3 No such process\r\n 3913:5     1 a.exe    0.000002 CALL  sigaction(SIGSEGV,0xc820034e28,0)\r\n 3913:5     1 a.exe    0.000001 RET   sigaction 0\r\n 3913:5     1 a.exe    0.000002 CALL  sigprocmask(SIG_SETMASK,0xc820026050,0)\r\n 3913:5     1 a.exe    0.000034 RET   sigprocmask 0\r\n 3913:5     1 a.exe    0.000001 CALL  sigaltstack(0x7fffff3fa7e8,0)\r\n 3913:5     1 a.exe    0.000001 RET   sigaltstack 0\r\n 3913:5     1 a.exe    0.000002 CALL  sigreturn(0x7fffff3fa940)\r\n 3913:5     1 a.exe    0.000001 RET   sigreturn JUSTRETURN\r\n 3913:5     1 a.exe    0.000003 PSIG  SIGSEGV caught handler=0x4558d0 mask=0x0 code=0x1\r\n 3913:5     1 a.exe    0.000005 CALL  sigprocmask(SIG_SETMASK,0,0xc820026050)\r\n 3913:5     1 a.exe    0.000001 RET   sigprocmask 0\r\n(repeated many times)\r\n 3913:5     1 a.exe    0.000003 PSIG  SIGSEGV caught handler=0x4558d0 mask=0x0 code=0x1\r\n 3913:5     1 a.exe    0.000005 CALL  sigprocmask(SIG_SETMASK,0,0xc820026050)\r\n 3913:5     1 a.exe    0.000001 RET   sigprocmask 0\r\n 3913:1     0 a.exe    0.000004 RET   nanosleep 0\r\n 3913:5     1 a.exe    0.000012 CALL  sigaltstack(0x7fffff3fa7c0,0)\r\n 3913:5     1 a.exe    0.000679 RET   sigaltstack 0\r\n 3913:1     0 a.exe    0.000088 CALL  clock_gettime(0x4,0x7fffffbfeea0)\r\n 3913:1     0 a.exe    0.000006 RET   clock_gettime 0\r\n 3913:1     0 a.exe    0.000003 CALL  clock_gettime(0,0x7fffffbfee88)\r\n 3913:1     0 a.exe    0.109743 RET   clock_gettime 0\r\n 3913:0     0 a.exe    0.000026 RET   umtx_sleep -1 errno 35 Resource temporarily unavailable\r\n 3913:1     0 a.exe    0.000014 CALL  nanosleep(0x7fffffbfeea8,0)\r\n 3913:0     0 a.exe    0.000013 CALL  clock_gettime(0x4,0xc820021ec0)\r\n 3913:0     0 a.exe    0.000006 RET   clock_gettime 0\r\n 3913:0     0 a.exe    0.000037 CALL  clock_gettime(0x4,0xc820021f18)\r\n 3913:0     0 a.exe    0.000018 RET   clock_gettime 0\r\n 3913:0     0 a.exe    0.000013 CALL  exit(0)\r\n 3913:5     1 a.exe    0.000479 CALL  sigprocmask(SIG_SETMASK,0x7fffff3fa7f8,0)\r\n 3912:3     1 a.exe    0.004233 GIO   fd 4 read 0 bytes\r\n       \"\"\r\n 3912:3     1 a.exe    0.000011 RET   read 0\r\n 3912:0     1 a.exe    0.001501 PSIG  SIGCHLD caught handler=0x4558d0 mask=0x0 code=0x0\r\n 3912:0     1 a.exe    0.000024 RET   wait4 RESTART\r\n 3912:0     1 a.exe    0.000008 CALL  sigreturn(0xc8200099a0)\r\n 3912:0     1 a.exe    0.000002 RET   sigreturn JUSTRETURN\r\n 3912:0     1 a.exe    0.000003 CALL  wait4(0xf49,0xc820045b8c,\u003cinvalid\u003e0,0xc82008e000)\r\n 3912:0     1 a.exe    0.000028 RET   wait4 3913/0xf49\r\n 3912:0     1 a.exe    0.000006 CALL  umtx_wakeup(0x7cae60,0x1)\r\n 3912:0     1 a.exe    0.000026 RET   umtx_wakeup 0\r\n 3912:0     1 a.exe    0.000030 CALL  umtx_sleep(0x7cb3e8,0,0)\r\n 3912:3     1 a.exe    0.000015 CALL  close(0x4)\r\n 3912:3     1 a.exe    0.000006 RET   close 0\r\n 3912:3     1 a.exe    0.000008 CALL  umtx_wakeup(0x7cb3e8,0x1)\r\n 3912:3     1 a.exe    0.000003 RET   umtx_wakeup 0\r\n 3912:0     1 a.exe    0.000003 RET   umtx_sleep 0\r\n 3912:1     0 a.exe    0.000038 RET   umtx_sleep 0\r\n 3912:1     0 a.exe    0.000012 CALL  clock_gettime(0x4,0x7fffffbfeea0)\r\n 3912:1     0 a.exe    0.000002 RET   clock_gettime 0\r\n 3912:1     0 a.exe    0.000007 CALL  clock_gettime(0,0x7fffffbfee88)\r\n 3912:1     0 a.exe    0.000001 RET   clock_gettime 0\r\n 3912:1     0 a.exe    0.000003 CALL  nanosleep(0x7fffffbfeea8,0)\r\n 3912:1     0 a.exe    0.000022 RET   nanosleep 0\r\n 3912:3     1 a.exe    0.000002 CALL  write(0x1,0xc820062330,0x24)\r\n 3912:3     1 a.exe    0.000008 GIO   fd 1 wrote 36 bytes\r\n       \"C signal did not crash as expected\r\n        \r\n       \"\r\n```",
	"user": {
		"login": "mikioh",
		"id": 92117,
		"type": "User",
		"site_admin": false
	},
	"created_at": "2015-07-24T00:45:35Z",
	"updated_at": "2015-07-24T00:45:35Z"
}
