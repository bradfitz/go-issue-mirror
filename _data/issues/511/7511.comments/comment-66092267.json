{
	"id": 66092267,
	"body": "\u003ca id=\"c8\"\u003e\u003c/a\u003eComment 8:\n\n\u003cpre\u003eI had this program deadlock too:\n\n    package main\n    \n    import (\n    \t\"fmt\"\n    )\n    \n    func main() {\n    \tfunc() {\n    \t\tdefer func() {\n    \t\t\tfmt.Println(recover())\n    \t\t}()\n    \t\tvar x [8192]byte\n    \t\tfunc(x [8192]byte) {\n    \t\t\tdefer func() {\n    \t\t\t\tif err := recover(); err != nil {\n    \t\t\t\t\tpanic(\"wrap: \" + err.(string))\n    \t\t\t\t}\n    \t\t\t}()\n    \t\t\tpanic(\"bad\")\n    \t\t}(x)\n    \t}()\n    \tpanic(\"again\")\n    }\n\nWith this crashdump (actually there are two crashdumps here):\n\n--- FAIL: TestRecursivePanic-4 (35.13 seconds)\n\tcrash_test.go:142: output does not start with \"wrap: bad\\npanic: again\\n\\n\":\n\t\tSIGABRT: used by abort, replace SIGIOT in the future\n\t\tPC=0xfffffd7fff2da63a\n\t\tsignal arrived during cgo execution\n\t\t\n\t\tgoroutine 21 [syscall]:\n\t\truntime.cgocall(0x4849f0, 0xc2081aec98)\n\t\t\t/home/aram/go/src/pkg/runtime/cgocall.c:152 +0x10a fp=0xc2081aec88\n\t\tsyscall.sysvicall6(0xfffffd7fff2c2d00, 0x3, 0x6, 0xc2081aedb0, 0x8, ...)\n\t\t\t/home/aram/go/src/pkg/runtime/syscall_solaris.goc:65 +0x54 fp=0xc2081aecd0\n\t\tsyscall.readlen(0x6, 0xc2081aedb0, 0x8, 0x9, 0x0, ...)\n\t\t\t/home/aram/go/src/pkg/syscall/syscall_solaris.go:517 +0xaa fp=0xc2081aed38\n\t\tsyscall.forkExec(0xc20818bf80, 0x27, 0xc2081aa780, 0x8, 0x8, ...)\n\t\t\t/home/aram/go/src/pkg/syscall/exec_unix.go:200 +0x5b8 fp=0xc2081aee68\n\t\tsyscall.StartProcess(0xc20818bf80, 0x27, 0xc2081aa780, 0x8, 0x8, ...)\n\t\t\t/home/aram/go/src/pkg/syscall/exec_unix.go:238 +0x8e fp=0xc2081aeeb8\n\t\tos.startProcess(0xc20818bf80, 0x27, 0xc2081aa780, 0x8, 0x8, ...)\n\t\t\t/home/aram/go/src/pkg/os/exec_posix.go:45 +0x38b fp=0xc2081aefe0\n\t\tos.StartProcess(0xc20818bf80, 0x27, 0xc2081aa780, 0x8, 0x8, ...)\n\t\t\t/home/aram/go/src/pkg/os/doc.go:24 +0x76 fp=0xc2081af030\n\t\tos/exec.(*Cmd).Start(0xc2080d1cc0, 0x0, 0x0)\n\t\t\t/home/aram/go/src/pkg/os/exec/exec.go:272 +0x727 fp=0xc2081af1d0\n\t\tos/exec.(*Cmd).Run(0xc2080d1cc0, 0x0, 0x0)\n\t\t\t/home/aram/go/src/pkg/os/exec/exec.go:234 +0x4b fp=0xc2081af200\n\t\tmain.(*builder).runOut(0xc208102000, 0x825df0, 0x1, 0x865b50, 0x16, ...)\n\t\t\t/home/aram/go/src/cmd/go/build.go:1374 +0x298 fp=0xc2081af318\n\t\tmain.(*builder).run(0xc208102000, 0x825df0, 0x1, 0x865b50, 0x16, ...)\n\t\t\t/home/aram/go/src/cmd/go/build.go:1325 +0xe6 fp=0xc2081af410\n\t\tmain.gcToolchain.ld(0xc208102000, 0xc20806e000, 0xc2080f1bc0, 0x3b, 0xc2081aa600, ...)\n\t\t\t/home/aram/go/src/cmd/go/build.go:1775 +0x1091 fp=0xc2081af6b0\n\t\tmain.gcToolchain.ld·i(0x0, 0xc208102000, 0xc20806e000, 0xc2080f1bc0, 0x3b, ...)\n\t\t\t/home/aram/go/src/cmd/go/build.go:1 +0xe3 fp=0xc2081af728\n\t\tmain.(*builder).build(0xc208102000, 0xc2080001a0, 0x0, 0x0)\n\t\t\t/home/aram/go/src/cmd/go/build.go:999 +0x3825 fp=0xc2081afea8\n\t\tmain.func·005(0xc2080001a0)\n\t\t\t/home/aram/go/src/cmd/go/build.go:682 +0x377 fp=0xc2081aff50\n\t\tmain.func·006()\n\t\t\t/home/aram/go/src/cmd/go/build.go:739 +0x135 fp=0xc2081affa8\n\t\truntime.goexit()\n\t\t\t/home/aram/go/src/pkg/runtime/proc.c:1448 fp=0xc2081affb0\n\t\tcreated by main.(*builder).do\n\t\t\t/home/aram/go/src/cmd/go/build.go:745 +0x416\n\t\t\n\t\tgoroutine 16 [semacquire]:\n\t\tsync.runtime_Semacquire(0xc2080fdd00)\n\t\t\t/home/aram/go/src/pkg/runtime/sema.goc:199 +0x30\n\t\tsync.(*WaitGroup).Wait(0xc20818d040)\n\t\t\t/home/aram/go/src/pkg/sync/waitgroup.go:127 +0x15d\n\t\tmain.(*builder).do(0xc208102000, 0xc208001ad0)\n\t\t\t/home/aram/go/src/cmd/go/build.go:748 +0x440\n\t\tmain.runRun(0xb098c0, 0xc20800c020, 0x1, 0x1)\n\t\t\t/home/aram/go/src/cmd/go/run.go:115 +0x84f\n\t\tmain.main()\n\t\t\t/home/aram/go/src/cmd/go/main.go:161 +0x4fa\n\t\t\n\t\tgoroutine 19 [syscall]:\n\t\tos/signal.loop()\n\t\t\t/home/aram/go/src/pkg/os/signal/signal_unix.go:21 +0x1e\n\t\tcreated by os/signal.init·1\n\t\t\t/home/aram/go/src/pkg/os/signal/signal_unix.go:27 +0x32\n\t\t\n\t\tgoroutine 22 [select]:\n\t\tmain.func·006()\n\t\t\t/home/aram/go/src/cmd/go/build.go:729 +0x1a7\n\t\tcreated by main.(*builder).do\n\t\t\t/home/aram/go/src/cmd/go/build.go:745 +0x416\n\t\t\n\t\tgoroutine 32 [finalizer wait]:\n\t\truntime.park(0x46cb70, 0xb10ec0, 0xb0e6b5)\n\t\t\t/home/aram/go/src/pkg/runtime/proc.c:1372 +0x89\n\t\truntime.parkunlock(0xb10ec0, 0xb0e6b5)\n\t\t\t/home/aram/go/src/pkg/runtime/proc.c:1388 +0x3b\n\t\trunfinq()\n\t\t\t/home/aram/go/src/pkg/runtime/mgc0.c:2555 +0xc2\n\t\truntime.goexit()\n\t\t\t/home/aram/go/src/pkg/runtime/proc.c:1448\n\t\t\n\t\trax     0x5b\n\t\trbx     0xfffffd7fff192a40\n\t\trcx     0x0\n\t\trdx     0x8\n\t\trdi     0x6\n\t\trsi     0xc2081aedb0\n\t\trbp     0xfffffd7fffdff020\n\t\trsp     0xfffffd7fffdfefe8\n\t\tr8      0x0\n\t\tr9      0x0\n\t\tr10     0x0\n\t\tr11     0xb14cf0\n\t\tr12     0x811a40\n\t\tr13     0x717020\n\t\tr14     0x0\n\t\tr15     0x10\n\t\trip     0xfffffd7fff2da63a\n\t\trflags  0x247\n\t\tcs      0x53\n\t\tfs      0x0\n\t\tgs      0x0\n\t\tSIGABRT: used by abort, replace SIGIOT in the future\n\t\tPC=0xfffffd7fff2d37a7\n\t\tsignal arrived during cgo execution\n\t\t\n\t\tgoroutine 21 [runnable]:\n\t\tcreated by main.(*builder).do\n\t\t\t/home/aram/go/src/cmd/go/build.go:745 +0x416\n\t\t\n\t\tgoroutine 16 [semacquire]:\n\t\tsync.runtime_Semacquire(0xc2080fdd00)\n\t\t\t/home/aram/go/src/pkg/runtime/sema.goc:199 +0x30\n\t\tsync.(*WaitGroup).Wait(0xc20818d040)\n\t\t\t/home/aram/go/src/pkg/sync/waitgroup.go:127 +0x15d\n\t\tmain.(*builder).do(0xc208102000, 0xc208001ad0)\n\t\t\t/home/aram/go/src/cmd/go/build.go:748 +0x440\n\t\tmain.runRun(0xb098c0, 0xc20800c020, 0x1, 0x1)\n\t\t\t/home/aram/go/src/cmd/go/run.go:115 +0x84f\n\t\tmain.main()\n\t\t\t/home/aram/go/src/cmd/go/main.go:161 +0x4fa\n\t\t\n\t\tgoroutine 19 [syscall]:\n\t\tos/signal.loop()\n\t\t\t/home/aram/go/src/pkg/os/signal/signal_unix.go:21 +0x1e\n\t\tcreated by os/signal.init·1\n\t\t\t/home/aram/go/src/pkg/os/signal/signal_unix.go:27 +0x32\n\t\t\n\t\tgoroutine 22 [select]:\n\t\tmain.func·006()\n\t\t\t/home/aram/go/src/cmd/go/build.go:729 +0x1a7\n\t\tcreated by main.(*builder).do\n\t\t\t/home/aram/go/src/cmd/go/build.go:745 +0x416\n\t\t\n\t\tgoroutine 32 [running]:\n\t\t\tgoroutine running on other thread; stack unavailable\n\t\t\n\t\trax     0x5b\n\t\trbx     0xfffffd7fff192a40\n\t\trcx     0xfffffd7ffedff000\n\t\trdx     0x0\n\t\trdi     0x0\n\t\trsi     0x0\n\t\trbp     0xfffffd7fffdfef50\n\t\trsp     0xfffffd7fffdfeee8\n\t\tr8      0xfffffd7ffefa7140\n\t\tr9      0x3a\n\t\tr10     0xfffffd7ffedff000\n\t\tr11     0x286\n\t\tr12     0xb32280\n\t\tr13     0xfffffd7fff34ca00\n\t\tr14     0x0\n\t\tr15     0x0\n\t\trip     0xfffffd7fff2d37a7\n\t\trflags  0x247\n\t\tcs      0x53\n\t\tfs      0x0\n\t\tgs      0x0\u003c/pre\u003e",
	"user": {
		"login": "4ad",
		"id": 1331747,
		"type": "User",
		"site_admin": false
	},
	"created_at": "2014-03-12T09:14:47Z",
	"updated_at": "2014-12-08T10:41:43Z"
}
