{
	"id": 171760025,
	"body": "Verified.\r\n\r\nWith client.go:\r\n\r\n```go\r\npackage main\r\n\r\nimport (\r\n\t\"crypto/tls\"\r\n\t\"io/ioutil\"\r\n\t\"log\"\r\n\t\"net/http\"\r\n\t\"sync\"\r\n)\r\n\r\nfunc main() {\r\n\ttr := \u0026http.Transport{\r\n\t\tTLSClientConfig:    \u0026tls.Config{InsecureSkipVerify: true},\r\n\t\tDisableCompression: false,\r\n\t}\r\n\tclient := \u0026http.Client{Transport: tr}\r\n\r\n\tvar wg sync.WaitGroup\r\n\tfor i := 0; i \u003c 10; i++ {\r\n\t\twg.Add(1)\r\n\t\tgo func() {\r\n\t\t\tdefer wg.Done()\r\n\t\t\tresp, err := client.Get(\"https://localhost:54321/hello\")\r\n\t\t\tif err != nil {\r\n\t\t\t\tlog.Println(err)\r\n\t\t\t}\r\n\t\t\tdefer resp.Body.Close()\r\n\t\t\tslurp, err := ioutil.ReadAll(resp.Body)\r\n\t\t\tif err != nil {\r\n\t\t\t\tlog.Fatal(err)\r\n\t\t\t}\r\n\t\t\tlog.Printf(\"Got: %q\", slurp)\r\n\t\t}()\r\n\t}\r\n\twg.Wait()\r\n}\r\n```\r\n\r\nAnd server:\r\n\r\n```go\r\npackage main\r\n\r\nimport (\r\n\t\"fmt\"\r\n\t\"log\"\r\n\t\"net/http\"\r\n\t\"time\"\r\n)\r\n\r\nfunc HelloServer(w http.ResponseWriter, req *http.Request) {\r\n\ttime.Sleep(1 * time.Second)\r\n\tfmt.Fprintf(w, \"You are %v, %v\", req.RemoteAddr, req.Proto)\r\n}\r\n\r\nfunc main() {\r\n\thttp.HandleFunc(\"/hello\", HelloServer)\r\n\terr := http.ListenAndServeTLS(\":54321\", \"cert.pem\", \"key.pem\", nil)\r\n\tif err != nil {\r\n\t\tlog.Fatal(\"ListenAndServe: \", err)\r\n\t}\r\n}\r\n```\r\n\r\nI see that http2 does in fact send all requests to the same connection, but it ends up creating those other connections anyway (even though it never uses them):\r\n\r\n```\r\nbradfitz@laptop ~$ GODEBUG=http2debug=2 go run client.go 2\u003e\u00261 | grep -E 'creating|Framer' \r\n2016/01/14 11:49:39 http2: Transport creating client conn to [::1]:54321\r\n2016/01/14 11:49:39 http2: Framer 0xc820182b00: wrote SETTINGS len=18, settings: ENABLE_PUSH=0, INITIAL_WINDOW_SIZE=4194304, MAX_HEADER_LIST_SIZE=10485760\r\n2016/01/14 11:49:39 http2: Framer 0xc820182b00: wrote WINDOW_UPDATE len=4 (conn) incr=1073741824\r\n2016/01/14 11:49:39 http2: Transport creating client conn to [::1]:54321\r\n2016/01/14 11:49:39 http2: Framer 0xc820182dc0: wrote SETTINGS len=18, settings: ENABLE_PUSH=0, INITIAL_WINDOW_SIZE=4194304, MAX_HEADER_LIST_SIZE=10485760\r\n2016/01/14 11:49:39 http2: Framer 0xc820182dc0: wrote WINDOW_UPDATE len=4 (conn) incr=1073741824\r\n2016/01/14 11:49:39 http2: Transport creating client conn to [::1]:54321\r\n2016/01/14 11:49:39 http2: Framer 0xc820183080: wrote SETTINGS len=18, settings: ENABLE_PUSH=0, INITIAL_WINDOW_SIZE=4194304, MAX_HEADER_LIST_SIZE=10485760\r\n2016/01/14 11:49:39 http2: Framer 0xc820183080: wrote WINDOW_UPDATE len=4 (conn) incr=1073741824\r\n2016/01/14 11:49:39 http2: Framer 0xc820182b00: read SETTINGS len=18, settings: MAX_FRAME_SIZE=1048576, MAX_CONCURRENT_STREAMS=250, MAX_HEADER_LIST_SIZE=1048896\r\n2016/01/14 11:49:39 http2: Framer 0xc820182b00: wrote SETTINGS flags=ACK len=0\r\n2016/01/14 11:49:39 http2: Framer 0xc820182b00: wrote HEADERS flags=END_STREAM|END_HEADERS stream=1 len=42\r\n2016/01/14 11:49:39 http2: Framer 0xc820182b00: read SETTINGS flags=ACK len=0\r\n2016/01/14 11:49:39 http2: Transport creating client conn to [::1]:54321\r\n2016/01/14 11:49:39 http2: Framer 0xc820183340: wrote SETTINGS len=18, settings: ENABLE_PUSH=0, INITIAL_WINDOW_SIZE=4194304, MAX_HEADER_LIST_SIZE=10485760\r\n2016/01/14 11:49:39 http2: Framer 0xc820183340: wrote WINDOW_UPDATE len=4 (conn) incr=1073741824\r\n2016/01/14 11:49:39 http2: Transport creating client conn to [::1]:54321\r\n2016/01/14 11:49:39 http2: Framer 0xc820183600: wrote SETTINGS len=18, settings: ENABLE_PUSH=0, INITIAL_WINDOW_SIZE=4194304, MAX_HEADER_LIST_SIZE=10485760\r\n2016/01/14 11:49:39 http2: Framer 0xc820183600: wrote WINDOW_UPDATE len=4 (conn) incr=1073741824\r\n2016/01/14 11:49:39 http2: Framer 0xc820183080: read SETTINGS len=18, settings: MAX_FRAME_SIZE=1048576, MAX_CONCURRENT_STREAMS=250, MAX_HEADER_LIST_SIZE=1048896\r\n2016/01/14 11:49:39 http2: Framer 0xc820183080: wrote SETTINGS flags=ACK len=0\r\n2016/01/14 11:49:39 http2: Framer 0xc820182b00: wrote HEADERS flags=END_STREAM|END_HEADERS stream=3 len=6\r\n2016/01/14 11:49:39 http2: Framer 0xc820183080: read SETTINGS flags=ACK len=0\r\n2016/01/14 11:49:39 http2: Framer 0xc820183340: read SETTINGS len=18, settings: MAX_FRAME_SIZE=1048576, MAX_CONCURRENT_STREAMS=250, MAX_HEADER_LIST_SIZE=1048896\r\n2016/01/14 11:49:39 http2: Framer 0xc820183340: wrote SETTINGS flags=ACK len=0\r\n2016/01/14 11:49:39 http2: Framer 0xc820182b00: wrote HEADERS flags=END_STREAM|END_HEADERS stream=5 len=6\r\n2016/01/14 11:49:39 http2: Framer 0xc820183340: read SETTINGS flags=ACK len=0\r\n2016/01/14 11:49:39 http2: Framer 0xc820182dc0: read SETTINGS len=18, settings: MAX_FRAME_SIZE=1048576, MAX_CONCURRENT_STREAMS=250, MAX_HEADER_LIST_SIZE=1048896\r\n2016/01/14 11:49:39 http2: Framer 0xc820182dc0: wrote SETTINGS flags=ACK len=0\r\n2016/01/14 11:49:39 http2: Framer 0xc820182b00: wrote HEADERS flags=END_STREAM|END_HEADERS stream=7 len=6\r\n2016/01/14 11:49:39 http2: Framer 0xc820182dc0: read SETTINGS flags=ACK len=0\r\n2016/01/14 11:49:39 http2: Transport creating client conn to [::1]:54321\r\n2016/01/14 11:49:39 http2: Framer 0xc8201838c0: wrote SETTINGS len=18, settings: ENABLE_PUSH=0, INITIAL_WINDOW_SIZE=4194304, MAX_HEADER_LIST_SIZE=10485760\r\n2016/01/14 11:49:39 http2: Framer 0xc8201838c0: wrote WINDOW_UPDATE len=4 (conn) incr=1073741824\r\n2016/01/14 11:49:39 http2: Framer 0xc820183600: read SETTINGS len=18, settings: MAX_FRAME_SIZE=1048576, MAX_CONCURRENT_STREAMS=250, MAX_HEADER_LIST_SIZE=1048896\r\n2016/01/14 11:49:39 http2: Framer 0xc820183600: wrote SETTINGS flags=ACK len=0\r\n2016/01/14 11:49:39 http2: Framer 0xc820182b00: wrote HEADERS flags=END_STREAM|END_HEADERS stream=9 len=6\r\n2016/01/14 11:49:39 http2: Framer 0xc820183600: read SETTINGS flags=ACK len=0\r\n2016/01/14 11:49:39 http2: Transport creating client conn to [::1]:54321\r\n2016/01/14 11:49:39 http2: Framer 0xc820183b80: wrote SETTINGS len=18, settings: ENABLE_PUSH=0, INITIAL_WINDOW_SIZE=4194304, MAX_HEADER_LIST_SIZE=10485760\r\n2016/01/14 11:49:39 http2: Framer 0xc820183b80: wrote WINDOW_UPDATE len=4 (conn) incr=1073741824\r\n2016/01/14 11:49:39 http2: Framer 0xc8201838c0: read SETTINGS len=18, settings: MAX_FRAME_SIZE=1048576, MAX_CONCURRENT_STREAMS=250, MAX_HEADER_LIST_SIZE=1048896\r\n2016/01/14 11:49:39 http2: Framer 0xc8201838c0: wrote SETTINGS flags=ACK len=0\r\n2016/01/14 11:49:39 http2: Framer 0xc820182b00: wrote HEADERS flags=END_STREAM|END_HEADERS stream=11 len=6\r\n2016/01/14 11:49:39 http2: Framer 0xc8201838c0: read SETTINGS flags=ACK len=0\r\n2016/01/14 11:49:39 http2: Framer 0xc820183b80: read SETTINGS len=18, settings: MAX_FRAME_SIZE=1048576, MAX_CONCURRENT_STREAMS=250, MAX_HEADER_LIST_SIZE=1048896\r\n2016/01/14 11:49:39 http2: Framer 0xc820183b80: wrote SETTINGS flags=ACK len=0\r\n2016/01/14 11:49:39 http2: Transport creating client conn to [::1]:54321\r\n2016/01/14 11:49:39 http2: Framer 0xc8200da8f0: wrote SETTINGS len=18, settings: ENABLE_PUSH=0, INITIAL_WINDOW_SIZE=4194304, MAX_HEADER_LIST_SIZE=10485760\r\n2016/01/14 11:49:39 http2: Framer 0xc8200da8f0: wrote WINDOW_UPDATE len=4 (conn) incr=1073741824\r\n2016/01/14 11:49:39 http2: Transport creating client conn to [::1]:54321\r\n2016/01/14 11:49:39 http2: Framer 0xc820016420: wrote SETTINGS len=18, settings: ENABLE_PUSH=0, INITIAL_WINDOW_SIZE=4194304, MAX_HEADER_LIST_SIZE=10485760\r\n2016/01/14 11:49:39 http2: Framer 0xc820182b00: wrote HEADERS flags=END_STREAM|END_HEADERS stream=13 len=6\r\n2016/01/14 11:49:39 http2: Framer 0xc820016420: wrote WINDOW_UPDATE len=4 (conn) incr=1073741824\r\n2016/01/14 11:49:39 http2: Framer 0xc820183b80: read SETTINGS flags=ACK len=0\r\n2016/01/14 11:49:39 http2: Framer 0xc820016420: read SETTINGS len=18, settings: MAX_FRAME_SIZE=1048576, MAX_CONCURRENT_STREAMS=250, MAX_HEADER_LIST_SIZE=1048896\r\n2016/01/14 11:49:39 http2: Framer 0xc820016420: wrote SETTINGS flags=ACK len=0\r\n2016/01/14 11:49:39 http2: Framer 0xc820182b00: wrote HEADERS flags=END_STREAM|END_HEADERS stream=15 len=6\r\n2016/01/14 11:49:39 http2: Framer 0xc8200da8f0: read SETTINGS len=18, settings: MAX_FRAME_SIZE=1048576, MAX_CONCURRENT_STREAMS=250, MAX_HEADER_LIST_SIZE=1048896\r\n2016/01/14 11:49:39 http2: Framer 0xc820016420: read SETTINGS flags=ACK len=0\r\n2016/01/14 11:49:39 http2: Framer 0xc8200da8f0: wrote SETTINGS flags=ACK len=0\r\n2016/01/14 11:49:39 http2: Transport creating client conn to [::1]:54321\r\n2016/01/14 11:49:39 http2: Framer 0xc820201760: wrote SETTINGS len=18, settings: ENABLE_PUSH=0, INITIAL_WINDOW_SIZE=4194304, MAX_HEADER_LIST_SIZE=10485760\r\n2016/01/14 11:49:39 http2: Framer 0xc820201760: wrote WINDOW_UPDATE len=4 (conn) incr=1073741824\r\n2016/01/14 11:49:39 http2: Framer 0xc8200da8f0: read SETTINGS flags=ACK len=0\r\n2016/01/14 11:49:39 http2: Framer 0xc820182b00: wrote HEADERS flags=END_STREAM|END_HEADERS stream=17 len=6\r\n2016/01/14 11:49:39 http2: Framer 0xc820201760: read SETTINGS len=18, settings: MAX_FRAME_SIZE=1048576, MAX_CONCURRENT_STREAMS=250, MAX_HEADER_LIST_SIZE=1048896\r\n2016/01/14 11:49:39 http2: Framer 0xc820201760: wrote SETTINGS flags=ACK len=0\r\n2016/01/14 11:49:39 http2: Framer 0xc820201760: read SETTINGS flags=ACK len=0\r\n2016/01/14 11:49:39 http2: Framer 0xc820182b00: wrote HEADERS flags=END_STREAM|END_HEADERS stream=19 len=6\r\n2016/01/14 11:49:40 http2: Framer 0xc820182b00: read HEADERS flags=END_HEADERS stream=1 len=49\r\n2016/01/14 11:49:40 http2: Framer 0xc820182b00: read HEADERS flags=END_HEADERS stream=7 len=4\r\n2016/01/14 11:49:40 http2: Framer 0xc820182b00: read HEADERS flags=END_HEADERS stream=5 len=4\r\n2016/01/14 11:49:40 http2: Framer 0xc820182b00: read HEADERS flags=END_HEADERS stream=13 len=4\r\n2016/01/14 11:49:40 http2: Framer 0xc820182b00: read HEADERS flags=END_HEADERS stream=11 len=4\r\n2016/01/14 11:49:40 http2: Framer 0xc820182b00: read HEADERS flags=END_HEADERS stream=15 len=4\r\n2016/01/14 11:49:40 http2: Framer 0xc820182b00: read HEADERS flags=END_HEADERS stream=19 len=4\r\n2016/01/14 11:49:40 http2: Framer 0xc820182b00: read HEADERS flags=END_HEADERS stream=9 len=4\r\n2016/01/14 11:49:40 http2: Framer 0xc820182b00: read HEADERS flags=END_HEADERS stream=3 len=4\r\n2016/01/14 11:49:40 http2: Framer 0xc820182b00: read HEADERS flags=END_HEADERS stream=17 len=4\r\n2016/01/14 11:49:40 http2: Framer 0xc820182b00: read DATA flags=END_STREAM stream=1 len=29 data=\"You are [::1]:55709, HTTP/2.0\"\r\n2016/01/14 11:49:40 http2: Framer 0xc820182b00: read DATA flags=END_STREAM stream=11 len=29 data=\"You are [::1]:55709, HTTP/2.0\"\r\n2016/01/14 11:49:40 http2: Framer 0xc820182b00: read DATA flags=END_STREAM stream=5 len=29 data=\"You are [::1]:55709, HTTP/2.0\"\r\n2016/01/14 11:49:40 http2: Framer 0xc820182b00: read DATA flags=END_STREAM stream=17 len=29 data=\"You are [::1]:55709, HTTP/2.0\"\r\n2016/01/14 11:49:40 http2: Framer 0xc820182b00: read DATA flags=END_STREAM stream=7 len=29 data=\"You are [::1]:55709, HTTP/2.0\"\r\n2016/01/14 11:49:40 http2: Framer 0xc820182b00: read DATA flags=END_STREAM stream=13 len=29 data=\"You are [::1]:55709, HTTP/2.0\"\r\n2016/01/14 11:49:40 http2: Framer 0xc820182b00: read DATA flags=END_STREAM stream=19 len=29 data=\"You are [::1]:55709, HTTP/2.0\"\r\n2016/01/14 11:49:40 http2: Framer 0xc820182b00: read DATA flags=END_STREAM stream=3 len=29 data=\"You are [::1]:55709, HTTP/2.0\"\r\n2016/01/14 11:49:40 http2: Framer 0xc820182b00: read DATA flags=END_STREAM stream=9 len=29 data=\"You are [::1]:55709, HTTP/2.0\"\r\n2016/01/14 11:49:40 http2: Framer 0xc820182b00: read DATA flags=END_STREAM stream=15 len=29 data=\"You are [::1]:55709, HTTP/2.0\"\r\n```",
	"user": {
		"login": "bradfitz",
		"id": 2621,
		"type": "User",
		"site_admin": false
	},
	"created_at": "2016-01-14T19:51:29Z",
	"updated_at": "2016-01-14T19:51:29Z"
}
