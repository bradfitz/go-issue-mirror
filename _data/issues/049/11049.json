{
	"id": 84774404,
	"number": 11049,
	"state": "closed",
	"title": "runtime: TestStackOverflow panics on linux",
	"body": "```\r\n##### GOMAXPROCS=2 runtime -cpu=1,2,4\r\n--- FAIL: TestStackOverflow (0.04s)\r\n\tcrash_test.go:92: building source: exit status 2\r\n\t\tpanic: runtime error: slice bounds out of range\r\n\t\tfatal error: panic on system stack\r\n\t\t\r\n\t\truntime stack:\r\n\t\truntime.throw(0x985d70, 0x15)\r\n\t\t\t/tmp/buildlet-scatch465833892/go/src/runtime/panic.go:527 +0x96\r\n\t\truntime.gopanic(0x891b00, 0xc208010190)\r\n\t\t\t/tmp/buildlet-scatch465833892/go/src/runtime/panic.go:354 +0xbc\r\n\t\truntime.panicslice()\r\n\t\t\t/tmp/buildlet-scatch465833892/go/src/runtime/panic.go:18 +0x50\r\n\t\truntime.gcInstallStackBarrier(0xc20863c9a0, 0xc208033c78)\r\n\t\t\t/tmp/buildlet-scatch465833892/go/src/runtime/mgcmark.go:510 +0xb1\r\n\t\truntime.scanstack.func1(0xc208033c78, 0x0, 0x1)\r\n\t\t\t/tmp/buildlet-scatch465833892/go/src/runtime/mgcmark.go:365 +0xa2\r\n\t\truntime.gentraceback(0x6286a5, 0xc2080fca18, 0x0, 0xc20863c9a0, 0x0, 0x0, 0x7fffffff, 0xc208033d90, 0x0, 0x0, ...)\r\n\t\t\t/tmp/buildlet-scatch465833892/go/src/runtime/traceback.go:336 +0xa81\r\n\t\truntime.scanstack(0xc20863c9a0)\r\n\t\t\t/tmp/buildlet-scatch465833892/go/src/runtime/mgcmark.go:380 +0x351\r\n\t\truntime.gcphasework(0xc20863c9a0)\r\n\t\t\t/tmp/buildlet-scatch465833892/go/src/runtime/mgcmark.go:273 +0x70\r\n\t\truntime.stopg(0xc20863c9a0, 0x3)\r\n\t\t\t/tmp/buildlet-scatch465833892/go/src/runtime/proc1.go:395 +0x91\r\n\t\truntime.markroot(0xc208018000, 0xd)\r\n\t\t\t/tmp/buildlet-scatch465833892/go/src/runtime/mgcmark.go:138 +0x1f2\r\n\t\truntime.parfordo(0xc208018000)\r\n\t\t\t/tmp/buildlet-scatch465833892/go/src/runtime/parfor.go:95 +0x12d\r\n\t\truntime.gcscan_m()\r\n\t\t\t/tmp/buildlet-scatch465833892/go/src/runtime/mgcmark.go:37 +0xe1\r\n\t\truntime.gc.func1()\r\n\t\t\t/tmp/buildlet-scatch465833892/go/src/runtime/mgc.go:843 +0x5f\r\n\t\truntime.systemstack(0xc20801b500)\r\n\t\t\t/tmp/buildlet-scatch465833892/go/src/runtime/asm_amd64.s:262 +0x7c\r\n\t\truntime.mstart()\r\n\t\t\t/tmp/buildlet-scatch465833892/go/src/runtime/proc1.go:656\r\n\t\t\r\n\t\tgoroutine 21 [garbage collection scan]:\r\n\t\truntime.systemstack_switch()\r\n\t\t\t/tmp/buildlet-scatch465833892/go/src/runtime/asm_amd64.s:216 fp=0xc2080204e8 sp=0xc2080204e0\r\n\t\truntime.gc(0x0)\r\n\t\t\t/tmp/buildlet-scatch465833892/go/src/runtime/mgc.go:855 +0x1dc fp=0xc208020790 sp=0xc2080204e8\r\n\t\truntime.backgroundgc()\r\n\t\t\t/tmp/buildlet-scatch465833892/go/src/runtime/mgc.go:775 +0x40 fp=0xc2080207c0 sp=0xc208020790\r\n\t\truntime.goexit()\r\n\t\t\t/tmp/buildlet-scatch465833892/go/src/runtime/asm_amd64.s:1700 +0x1 fp=0xc2080207c8 sp=0xc2080207c0\r\n\t\tcreated by runtime.startGC\r\n\t\t\t/tmp/buildlet-scatch465833892/go/src/runtime/mgc.go:748 +0x14a\r\n\t\t\r\n\t\tgoroutine 1 [semacquire]:\r\n\t\tsync.runtime_Semacquire(0xc208617360)\r\n\t\t\t/tmp/buildlet-scatch465833892/go/src/runtime/sema.go:43 +0x2d\r\n\t\tsync.(*WaitGroup).Wait(0xc2086495a0)\r\n\t\t\t/tmp/buildlet-scatch465833892/go/src/sync/waitgroup.go:132 +0x15d\r\n\t\tmain.(*builder).do(0xc2081399d0, 0xc208112d00)\r\n\t\t\t/tmp/buildlet-scatch465833892/go/src/cmd/go/build.go:1153 +0x3c9\r\n\t\tmain.runBuild(0xb90360, 0xc208056130, 0x0, 0x0)\r\n\t\t\t/tmp/buildlet-scatch465833892/go/src/cmd/go/build.go:441 +0x51f\r\n\t\tmain.main()\r\n\t\t\t/tmp/buildlet-scatch465833892/go/src/cmd/go/main.go:177 +0x750\r\n\t\t\r\n\t\tgoroutine 19 [syscall]:\r\n\t\tos/signal.loop()\r\n\t\t\t/tmp/buildlet-scatch465833892/go/src/os/signal/signal_unix.go:22 +0x1f\r\n\t\tcreated by os/signal.init.1\r\n\t\t\t/tmp/buildlet-scatch465833892/go/src/os/signal/signal_unix.go:28 +0x3e\r\n\t\t\r\n\t\tgoroutine 23 [syscall]:\r\n\t\tsyscall.Syscall(0x0, 0x6, 0xc2080fcae0, 0x8, 0x0, 0x8, 0x0)\r\n\t\t\t/tmp/buildlet-scatch465833892/go/src/syscall/asm_linux_amd64.s:18 +0x5\r\n\t\tsyscall.readlen(0x6, 0xc2080fcae0, 0x8, 0xf, 0x0, 0x0)\r\n\t\t\t/tmp/buildlet-scatch465833892/go/src/syscall/zsyscall_linux_amd64.go:1085 +0x53\r\n\t\tsyscall.forkExec(0xc20800a880, 0x3d, 0xc20866e0e0, 0xe, 0xe, 0xc2080fccb0, 0x15d4, 0x0, 0x0)\r\n\t\t\t/tmp/buildlet-scatch465833892/go/src/syscall/exec_unix.go:200 +0x56a\r\n\t\tsyscall.StartProcess(0xc20800a880, 0x3d, 0xc20866e0e0, 0xe, 0xe, 0xc2080fccb0, 0x1, 0x4, 0x0, 0x0)\r\n\t\t\t/tmp/buildlet-scatch465833892/go/src/syscall/exec_unix.go:238 +0x6e\r\n\t\tos.startProcess(0xc20800a880, 0x3d, 0xc20866e0e0, 0xe, 0xe, 0xc2080fcee8, 0x90a160, 0x0, 0x0)\r\n\t\t\t/tmp/buildlet-scatch465833892/go/src/os/exec_posix.go:45 +0x33f\r\n\t\tos.StartProcess(0xc20800a880, 0x3d, 0xc20866e0e0, 0xe, 0xe, 0xc2080fcee8, 0x0, 0x0, 0x0)\r\n\t\t\t/tmp/buildlet-scatch465833892/go/src/os/doc.go:24 +0x6c\r\n\t\tos/exec.(*Cmd).Start(0xc208670000, 0x0, 0x0)\r\n\t\t\t/tmp/buildlet-scatch465833892/go/src/os/exec/exec.go:319 +0x76a\r\n\t\tos/exec.(*Cmd).Run(0xc208670000, 0x0, 0x0)\r\n\t\t\t/tmp/buildlet-scatch465833892/go/src/os/exec/exec.go:246 +0x34\r\n\t\tmain.(*builder).runOut(0xc2081399d0, 0xc208127100, 0x16, 0xc208127080, 0x17, 0x0, 0x0, 0x0, 0xc20866c000, 0xd, ...)\r\n\t\t\t/tmp/buildlet-scatch465833892/go/src/cmd/go/build.go:1902 +0x334\r\n\t\tmain.gcToolchain.gc(0xc2081399d0, 0xc208125400, 0xc208644b40, 0x30, 0xc20865e200, 0x34, 0xc208172600, 0xc20800e540, 0x2, 0x2, ...)\r\n\t\t\t/tmp/buildlet-scatch465833892/go/src/cmd/go/build.go:2146 +0xf1e\r\n\t\tmain.(*gcToolchain).gc(0xbbcf70, 0xc2081399d0, 0xc208125400, 0xc208644b40, 0x30, 0xc20865e200, 0x34, 0x0, 0xc20800e540, 0x2, ...)\r\n\t\t\t\u003cautogenerated\u003e:3 +0x191\r\n\t\tmain.(*builder).build(0xc2081399d0, 0xc208112d00, 0x0, 0x0)\r\n\t\t\t/tmp/buildlet-scatch465833892/go/src/cmd/go/build.go:1320 +0x2551\r\n\t\tmain.(*builder).do.func1(0xc208112d00)\r\n\t\t\t/tmp/buildlet-scatch465833892/go/src/cmd/go/build.go:1087 +0x3bc\r\n\t\tmain.(*builder).do.func2(0xc2086495a0, 0xc2081399d0, 0xc208649580)\r\n\t\t\t/tmp/buildlet-scatch465833892/go/src/cmd/go/build.go:1144 +0x158\r\n\t\tcreated by main.(*builder).do\r\n\t\t\t/tmp/buildlet-scatch465833892/go/src/cmd/go/build.go:1150 +0x3a1\r\n\t\t\r\n\t\tgoroutine 24 [select]:\r\n\t\tmain.(*builder).do.func2(0xc2086495a0, 0xc2081399d0, 0xc208649580)\r\n\t\t\t/tmp/buildlet-scatch465833892/go/src/cmd/go/build.go:1134 +0x1d1\r\n\t\tcreated by main.(*builder).do\r\n\t\t\t/tmp/buildlet-scatch465833892/go/src/cmd/go/build.go:1150 +0x3a1\r\nFAIL\r\nFAIL\truntime\t25.490s\r\n```\r\n\r\nhttp://build.golang.org/log/de2894c6b3b2b342cb66bd859be2c197e8e641ad\r\n\r\n/cc @aclements ",
	"user": {
		"login": "davecheney",
		"id": 7171,
		"type": "User",
		"site_admin": false
	},
	"labels": [
		{
			"name": "FrozenDueToAge"
		},
		{
			"name": "GarbageCollector"
		}
	],
	"comments": 3,
	"closed_at": "2015-06-05T15:54:14Z",
	"created_at": "2015-06-03T21:16:59Z",
	"updated_at": "2016-06-25T02:10:10Z",
	"milestone": {
		"id": 905105,
		"number": 1,
		"title": "Go1.5"
	}
}
