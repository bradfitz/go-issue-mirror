{
	"id": 238789357,
	"body": "Sorry!! I encapsulated the httptest-Server in my own function \u0026 didn't realized at this moment that this affects the stack trace, my fault m(\r\n\r\nI put the code from here in https://play.golang.org/p/k9beXK-pA- in main.go with package /issues/issue16555/ and run it using the windows cmd instead if git-bash to avoid unecassary effects on environment etc...\r\n\r\n```\r\nD:\\Eigene Dateien\\Coding\\go\\src\\issues\\issue16555\u003eset GOTRACEBACK=all\r\n\r\nD:\\Eigene Dateien\\Coding\\go\\src\\issues\\issue16555\u003ego run -a main.go\r\nHello, client\r\npanic: AAAA\r\n\r\ngoroutine 17 [running]:\r\npanic(0x6a2e40, 0xc0820be000)\r\n        D:/go/go163/src/runtime/panic.go:481 +0x3f4\r\nnet/http/httptest.(*Server).logCloseHangDebugInfo(0xc08202e360)\r\n        D:/go/go163/src/net/http/httptest/server.go:193 +0x6c\r\nnet/http/httptest.(*Server).(net/http/httptest.logCloseHangDebugInfo)-fm()\r\n        D:/go/go163/src/net/http/httptest/server.go:177 +0x27\r\ncreated by time.goFunc\r\n        D:/go/go163/src/time/sleep.go:129 +0x41\r\n\r\ngoroutine 1 [semacquire]:\r\nsync.runtime_Semacquire(0xc08202e39c)\r\n        D:/go/go163/src/runtime/sema.go:47 +0x2d\r\nsync.(*WaitGroup).Wait(0xc08202e390)\r\n        D:/go/go163/src/sync/waitgroup.go:127 +0xbb\r\nnet/http/httptest.(*Server).Close(0xc08202e360)\r\n        D:/go/go163/src/net/http/httptest/server.go:189 +0x264\r\nmain.main()\r\n        D:/Eigene Dateien/Coding/go/src/issues/issue16555/main.go:28 +0x431\r\n\r\ngoroutine 5 [IO wait]:\r\nnet.runtime_pollWaitCanceled(0x1855e0, 0x72)\r\n        D:/go/go163/src/runtime/netpoll.go:176 +0x38\r\nnet.(*pollDesc).WaitCanceled(0xc082018d70, 0x72)\r\n        D:/go/go163/src/net/fd_poll_runtime.go:86 +0x35\r\nnet.(*ioSrv).ExecIO(0xc082022028, 0xc082018c60, 0x793fb0, 0x8, 0xc0820992c0, 0xc082019980, 0x0, 0x0)\r\n        D:/go/go163/src/net/fd_windows.go:213 +0x37f\r\nnet.(*netFD).acceptOne(0xc082018c00, 0xc0820a21c0, 0x2, 0x2, 0xc082018c60, 0xd0, 0x0, 0x0)\r\n        D:/go/go163/src/net/fd_windows.go:583 +0x26c\r\nnet.(*netFD).accept(0xc082018c00, 0x0, 0x0, 0x0)\r\n        D:/go/go163/src/net/fd_windows.go:613 +0x173\r\nnet.(*TCPListener).AcceptTCP(0xc082022038, 0xc08201de90, 0x0, 0x0)\r\n        D:/go/go163/src/net/tcpsock_posix.go:254 +0x54\r\nnet.(*TCPListener).Accept(0xc082022038, 0x0, 0x0, 0x0, 0x0)\r\n        D:/go/go163/src/net/tcpsock_posix.go:264 +0x44\r\nnet/http.(*Server).Serve(0xc08200a100, 0x184638, 0xc082022038, 0x0, 0x0)\r\n        D:/go/go163/src/net/http/server.go:2117 +0x130\r\nnet/http/httptest.(*Server).goServe.func1(0xc08202e360)\r\n        D:/go/go163/src/net/http/httptest/server.go:238 +0x7c\r\ncreated by net/http/httptest.(*Server).goServe\r\n        D:/go/go163/src/net/http/httptest/server.go:239 +0x5f\r\n\r\ngoroutine 10 [IO wait]:\r\nnet.runtime_pollWaitCanceled(0x185460, 0x72)\r\n        D:/go/go163/src/runtime/netpoll.go:176 +0x38\r\nnet.(*pollDesc).WaitCanceled(0xc082019670, 0x72)\r\n        D:/go/go163/src/net/fd_poll_runtime.go:86 +0x35\r\nnet.(*ioSrv).ExecIO(0xc082022028, 0xc082019560, 0x78f948, 0x7, 0x827918, 0xc082006780, 0x0, 0x0)\r\n        D:/go/go163/src/net/fd_windows.go:213 +0x37f\r\nnet.(*netFD).Read(0xc082019500, 0xc0820b0000, 0x1000, 0x1000, 0x0, 0x0, 0x0)\r\n        D:/go/go163/src/net/fd_windows.go:482 +0x17e\r\nnet.(*conn).Read(0xc082022050, 0xc0820b0000, 0x1000, 0x1000, 0x0, 0x0, 0x0)\r\n        D:/go/go163/src/net/net.go:172 +0xeb\r\nnet/http.(*connReader).Read(0xc0820992e0, 0xc0820b0000, 0x1000, 0x1000, 0x0, 0x0, 0x0)\r\n        D:/go/go163/src/net/http/server.go:526 +0x19d\r\nbufio.(*Reader).fill(0xc08202e8a0)\r\n        D:/go/go163/src/bufio/bufio.go:97 +0x1f0\r\nbufio.(*Reader).ReadSlice(0xc08202e8a0, 0xa, 0x0, 0x0, 0x0, 0x0, 0x0)\r\n        D:/go/go163/src/bufio/bufio.go:328 +0x221\r\nbufio.(*Reader).ReadLine(0xc08202e8a0, 0x0, 0x0, 0x0, 0x775700, 0x0, 0x0)\r\n        D:/go/go163/src/bufio/bufio.go:357 +0x5a\r\nnet/textproto.(*Reader).readLineSlice(0xc08204ced0, 0x0, 0x0, 0x0, 0x0, 0x0)\r\n        D:/go/go163/src/net/textproto/reader.go:55 +0x88\r\nnet/textproto.(*Reader).ReadLine(0xc08204ced0, 0x0, 0x0, 0x0, 0x0)\r\n        D:/go/go163/src/net/textproto/reader.go:36 +0x47\r\nnet/http.readRequest(0xc08202e8a0, 0x0, 0xc0820a2380, 0x0, 0x0)\r\n        D:/go/go163/src/net/http/request.go:721 +0xbd\r\nnet/http.(*conn).readRequest(0xc08200a280, 0x0, 0x0, 0x0)\r\n        D:/go/go163/src/net/http/server.go:705 +0x360\r\nnet/http.(*conn).serve(0xc08200a280)\r\n        D:/go/go163/src/net/http/server.go:1425 +0x94e\r\ncreated by net/http.(*Server).Serve\r\n        D:/go/go163/src/net/http/server.go:2137 +0x455\r\n\r\ngoroutine 8 [IO wait]:\r\nnet.runtime_pollWaitCanceled(0x185520, 0x72)\r\n        D:/go/go163/src/runtime/netpoll.go:176 +0x38\r\nnet.(*pollDesc).WaitCanceled(0xc0820191f0, 0x72)\r\n        D:/go/go163/src/net/fd_poll_runtime.go:86 +0x35\r\nnet.(*ioSrv).ExecIO(0xc082022028, 0xc0820190e0, 0x78f948, 0x7, 0x827918, 0x4114e8, 0x0, 0x0)\r\n        D:/go/go163/src/net/fd_windows.go:213 +0x37f\r\nnet.(*netFD).Read(0xc082019080, 0xc0820ae000, 0x1000, 0x1000, 0x0, 0x0, 0x0)\r\n        D:/go/go163/src/net/fd_windows.go:482 +0x17e\r\nnet.(*conn).Read(0xc082022048, 0xc0820ae000, 0x1000, 0x1000, 0x0, 0x0, 0x0)\r\n        D:/go/go163/src/net/net.go:172 +0xeb\r\nnet/http.noteEOFReader.Read(0x185758, 0xc082022048, 0xc0820357f8, 0xc0820ae000, 0x1000, 0x1000, 0x40449a, 0x0, 0x0)\r\n        D:/go/go163/src/net/http/transport.go:1690 +0x6e\r\nnet/http.(*noteEOFReader).Read(0xc0820991a0, 0xc0820ae000, 0x1000, 0x1000, 0xc0820abd0d, 0x0, 0x0)\r\n        \u003cautogenerated\u003e:284 +0xd7\r\nbufio.(*Reader).fill(0xc08202e6c0)\r\n        D:/go/go163/src/bufio/bufio.go:97 +0x1f0\r\nbufio.(*Reader).Peek(0xc08202e6c0, 0x1, 0x0, 0x0, 0x0, 0x0, 0x0)\r\n        D:/go/go163/src/bufio/bufio.go:132 +0xd3\r\nnet/http.(*persistConn).readLoop(0xc082035790)\r\n        D:/go/go163/src/net/http/transport.go:1076 +0x17e\r\ncreated by net/http.(*Transport).dialConn\r\n        D:/go/go163/src/net/http/transport.go:860 +0x10ad\r\nexit status 2\r\n\r\nD:\\Eigene Dateien\\Coding\\go\\src\\issues\\issue16555\u003e\r\n```\r\n\r\n",
	"user": {
		"login": "fraenky8",
		"id": 4038800,
		"type": "User",
		"site_admin": false
	},
	"created_at": "2016-08-10T07:38:50Z",
	"updated_at": "2016-08-10T07:38:50Z"
}
