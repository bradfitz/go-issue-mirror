{
	"id": 66078578,
	"body": "\u003ca id=\"c10\"\u003e\u003c/a\u003eComment 10 by **jleimon**:\n\n\u003cpre\u003eAll,\n\nPlease see my trouble report below:\n\nSystem:\n  Go Version:\n    go version devel +bea6199b09ea Tue Apr 30 17:47:39 2013 -0700 windows/386\n  Operating System:\n    Windows Version 6.1.7601\n\nTrouble Description:\n  net.Dial(\"ip\", ...) does not work, whereas net.Dial(\"tcp\",...) does work. I've attached a set of unit tests, the output of which is included below.\n\nTest Output:\n\nPS C:\\WORKSTATION\\WORKSPACE\\go_net_test\u003e .\\run.bat\n\nC:\\WORKSTATION\\WORKSPACE\\go_net_test\u003eecho off\nTEST:  net.Dial(\"ip4:1\", \"127.0.0.1\")  ... FAIL\n  dial ip4 127.0.0.1: ConnectEx ip4: An invalid argument was supplied.\npanic: dial ip4 127.0.0.1: ConnectEx ip4: An invalid argument was supplied.\n\ngoroutine 1 [running]:\nmain.main()\n        C:/WORKSTATION/WORKSPACE/go_net_test/test_dial_ip4/test_dial_ip4.go:14 +0x109\n\ngoroutine 2 [runnable]:\n\ngoroutine 3 [runnable]:\nnet.(*resultSrv).Run(0x122d0188)\n        C:/go/src/pkg/net/fd_windows.go:143\ncreated by net.startServer\n        C:/go/src/pkg/net/fd_windows.go:286 +0xde\nTEST:  net.Dial(\"ip6:1\", \"::1\")  ... FAIL\n  dial ip6 ::1: ConnectEx ip6: An invalid argument was supplied.\npanic: dial ip6 ::1: ConnectEx ip6: An invalid argument was supplied.\n\ngoroutine 1 [running]:\nmain.main()\n        C:/WORKSTATION/WORKSPACE/go_net_test/test_dial_ip6/test_dial_ip6.go:14 +0x109\n\ngoroutine 2 [runnable]:\n\ngoroutine 3 [runnable]:\nnet.(*resultSrv).Run(0x12330190)\n        C:/go/src/pkg/net/fd_windows.go:143\ncreated by net.startServer\n        C:/go/src/pkg/net/fd_windows.go:286 +0xde\nTEST:  net.Dial(\"ip:1\", \"127.0.0.1\")  ... FAIL\n  dial ip 127.0.0.1: ConnectEx ip: An invalid argument was supplied.\npanic: dial ip 127.0.0.1: ConnectEx ip: An invalid argument was supplied.\n\ngoroutine 1 [running]:\nmain.main()\n        C:/WORKSTATION/WORKSPACE/go_net_test/test_dial_ip_0/test_dial_ip_0.go:14 +0x109\n\ngoroutine 2 [runnable]:\n\ngoroutine 3 [runnable]:\nnet.(*resultSrv).Run(0x12230188)\n        C:/go/src/pkg/net/fd_windows.go:143\ncreated by net.startServer\n        C:/go/src/pkg/net/fd_windows.go:286 +0xde\nTEST:  net.Dial(\"ip:1\", \"::1\")  ... FAIL\n  dial ip ::1: ConnectEx ip: An invalid argument was supplied.\npanic: dial ip ::1: ConnectEx ip: An invalid argument was supplied.\n\ngoroutine 1 [running]:\nmain.main()\n        C:/WORKSTATION/WORKSPACE/go_net_test/test_dial_ip_1/test_dial_ip_1.go:14 +0x109\n\ngoroutine 2 [runnable]:\n\ngoroutine 3 [runnable]:\nnet.(*resultSrv).Run(0x12230190)\n        C:/go/src/pkg/net/fd_windows.go:143\ncreated by net.startServer\n        C:/go/src/pkg/net/fd_windows.go:286 +0xde\nTEST:  net.Dial(\"tcp4\", \"google.com:80\")  ... PASS\nTEST:  net.Dial(\"tcp4\", \"google.com:http\")  ... PASS\nTEST:  net.Dial(\"tcp\", \"google.com:80\")  ... PASS\nTEST:  net.Dial(\"tcp\", \"google.com:http\")  ... PASS\nPS C:\\WORKSTATION\\WORKSPACE\\go_net_test\u003e\n\nNotes:\n  I have traced the go code to a call to oi.Submit (ConnectEx) that is failing, but I'm not sure why. (See below)\n\nCall Stack for  Dial(network, address string)\n\n  ----\u003e Dial(network, address string)\n    ----\u003e resolveAndDial(network, address, d.LocalAddr, d.deadline())\n      | \n      | \n      |   X X X X  NOT CALLED  X X X X\n      ----\u003e resolveAndDialChannel(net, addr, localAddr, deadline)  \n      |   X X X X  NOT CALLED  X X X X\n      | \n      | \n      ----\u003e resolveAddr(\"dial\", net, addr, deadline)\n      ----\u003e dial(net, addr, localAddr, ra, deadline)\n        ----\u003e dialIP(net, la, ra, deadline) [iprawsock_posix.go]\n          ----\u003e internetSocket(net, laddr.toAddr(), raddr.toAddr(), deadline, syscall.SOCK_RAW, proto, \"dial\", sockaddrToIP) [ipsock_posix.go]\n            ----\u003e socket(net, family, sotype, proto, ipv6only, la, ra, deadline, toAddr) [sock_posix.go]\n              ----\u003e fd.connect(ulsa, ursa) [fd_windows.go]\n                ----\u003e iosrv.ExecIO(\u0026o, fd.wdeadline.value())  [fd_windows.go]\n                  ----\u003e oi.Submit() [fd_windows.go] (ConnectEx)\u003c/pre\u003e\n\n\n\n\n\nAttachments:\n\n1. \u003ca href=\"https://storage.googleapis.com/go-attachment/5355/10/go_net_test.zip\"\u003ego_net_test.zip\u003c/a\u003e (4302 bytes)",
	"user": {
		"login": "gopherbot",
		"id": 8566911,
		"type": "User",
		"site_admin": false
	},
	"created_at": "2013-07-25T22:34:26Z",
	"updated_at": "2014-12-08T10:28:56Z"
}
