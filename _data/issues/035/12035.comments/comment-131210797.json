{
	"id": 131210797,
	"body": "EDIT: sorry, scratch this comment, the test was run with the go1.4.2 in PATH \r\n\r\nAnd even more weirdness: 'ulimit -s /anything else than 8192/' let's the test pass, but then it occasionally fails with an another error.\r\n\r\n```\r\n./runtime.test -test.run TestCgoCallbackGC \r\n--- FAIL: TestCgoCallbackGC (6.33s)\r\n\tcrash_cgo_test.go:53: expected \"OK\\n\", but got runtime:\r\ngarbage collector found invalid heap pointer *(0x3b3e7ff4+0x4)=0x3c5d3fc4 span=0x3b8f4000-0x0-0x3cd14000 state=4\r\n\t\tfatal error: invalid heap pointer\r\n\t\t\r\n\t\truntime stack:\r\n\t\truntime.throw(0x12313b)\r\n\t\t\t/opt/go/src/runtime/panic.go:491 +0xa4 fp=0x5b8409bc sp=0x5b8409a4\r\n\t\tscanblock(0x3b3e7ff4, 0xc, 0xe20d0)\r\n\t\t\t/opt/go/src/runtime/mgc0.c:381 +0x31c fp=0x5b840a5c sp=0x5b8409bc\r\n\t\tscanframe(0x5b840af8, 0x0, 0x1)\r\n\t\t\t/opt/go/src/runtime/mgc0.c:743 +0x24c fp=0x5b840a98 sp=0x5b840a5c\r\n\t\truntime.gentraceback(0x3d650, 0x3b3e7f58, 0x15200, 0x3b3ea280, 0x0, 0x0, 0x7fffffff, 0x5b840b50, 0x0, 0x0, ...)\r\n\t\t\t/opt/go/src/runtime/traceback.go:311 +0x7e8 fp=0x5b840b20 sp=0x5b840a98\r\n\t\tscanstack(0x3b3ea280)\r\n\t\t\t/opt/go/src/runtime/mgc0.c:780 +0x188 fp=0x5b840b58 sp=0x5b840b20\r\n\t\tmarkroot(0x3b350000, 0xd0)\r\n\t\t\t/opt/go/src/runtime/mgc0.c:556 +0x120 fp=0x5b840b98 sp=0x5b840b58\r\n\t\truntime.parfordo(0x3b350000)\r\n\t\t\t/opt/go/src/runtime/parfor.c:76 +0xac fp=0x5b840c08 sp=0x5b840b98\r\n\t\tgc(0x5b840d70)\r\n\t\t\t/opt/go/src/runtime/mgc0.c:1442 +0x220 fp=0x5b840d44 sp=0x5b840c08\r\n\t\truntime.gc_m()\r\n\t\t\t/opt/go/src/runtime/mgc0.c:1371 +0x10c fp=0x5b840d7c sp=0x5b840d44\r\n\t\truntime.onM(0x5b840d80)\r\n\t\t\t/opt/go/src/runtime/asm_arm.s:256 +0x74 fp=0x5b840d80 sp=0x5b840d7c\r\n\t\truntime.mstart()\r\n\t\t\t/opt/go/src/runtime/proc.c:818 fp=0x5b840d80 sp=0x5b840d80\r\n\t\t\r\n\t\tgoroutine 209 [garbage collection, locked to thread]:\r\n\t\truntime.switchtoM()\r\n\t\t\t/opt/go/src/runtime/asm_arm.s:193 +0x4 fp=0x3b3e7f5c sp=0x3b3e7f58\r\n\t\truntime.gogc(0x2)\r\n\t\t\t/opt/go/src/runtime/malloc.go:469 +0x224 fp=0x3b3e7f7c sp=0x3b3e7f5c\r\n\t\truntime.GC()\r\n\t\t\t/opt/go/src/runtime/malloc.go:488 +0x24 fp=0x3b3e7f84 sp=0x3b3e7f7c\r\n\t\tmain.go_callback()\r\n\t\t\t/tmp/go-build314387856/main.go:27 +0x1c fp=0x3b3e7f88 sp=0x3b3e7f84\r\n\t\truntime.call16(0x5b840da0, 0x5b840de4, 0x0, 0x0)\r\n\t\t\t/opt/go/src/runtime/asm_arm.s:406 +0x70 fp=0x3b3e7f9c sp=0x3b3e7f88\r\n\t\truntime.cgocallbackg1()\r\n\t\t\t/opt/go/src/runtime/cgocall.go:239 +0x138 fp=0x3b3e7fcc sp=0x3b3e7f9c\r\n\t\truntime.cgocallbackg()\r\n\t\t\t/opt/go/src/runtime/cgocall.go:193 +0x6c fp=0x3b3e7fe4 sp=0x3b3e7fcc\r\n\t\truntime.cgocallback_gofunc(0x92d0, 0x3c5d3fc4, 0x3c5d1004)\r\n\t\t\t/opt/go/src/runtime/asm_arm.s:603 +0x6c fp=0x3b3e7ff0 sp=0x3b3e7fe4\r\n\t\truntime.goexit()\r\n\t\t\t/opt/go/src/runtime/asm_arm.s:1322 +0x4 fp=0x3b3e7ff0 sp=0x3b3e7ff0\r\n\t\t\r\n\t\tgoroutine 1 [chan receive]:\r\n\t\truntime.gopark(0x355c0, 0x3b37a030, 0xcb220, 0xc)\r\n\t\t\t/opt/go/src/runtime/proc.go:130 +0x124 fp=0x3b37ef00 sp=0x3b37eee8\r\n\t\truntime.goparkunlock(0x3b37a030, 0xcb220, 0xc)\r\n\t\t\t/opt/go/src/runtime/proc.go:136 +0x3c fp=0x3b37ef14 sp=0x3b37ef00\r\n\t\truntime.chanrecv(0xa5800, 0x3b37a000, 0x0, 0x1, 0x3b340000)\r\n\t\t\t/opt/go/src/runtime/chan.go:410 +0x4c0 fp=0x3b37ef6c sp=0x3b37ef14\r\n\t\truntime.chanrecv1(0xa5800, 0x3b37a000, 0x0)\r\n\t\t\t/opt/go/src/runtime/chan.go:311 +0x28 fp=0x3b37ef84 sp=0x3b37ef6c\r\n\t\tmain.main()\r\n\t\t\t/tmp/go-build314387856/main.go:72 +0x1f4 fp=0x3b37efc0 sp=0x3b37ef84\r\n\t\truntime.main()\r\n\t\t\t/opt/go/src/runtime/proc.go:63 +0x108 fp=0x3b37efe4 sp=0x3b37efc0\r\n\t\truntime.goexit()\r\n\t\t\t/opt/go/src/runtime/asm_arm.s:1322 +0x4 fp=0x3b37efe4 sp=0x3b37efe4\r\n\t\t\r\n\t\tgoroutine 2 [force gc (idle)]:\r\n\t\truntime.gopark(0x355c0, 0x1246f8, 0xcb490, 0xf)\r\n\t\t\t/opt/go/src/runtime/proc.go:130 +0x124 fp=0x3b3587c8 sp=0x3b3587b0\r\n\t\truntime.goparkunlock(0x1246f8, 0xcb490, 0xf)\r\n\t\t\t/opt/go/src/runtime/proc.go:136 +0x3c fp=0x3b3587dc sp=0x3b3587c8\r\n\t\truntime.forcegchelper()\r\n\t\t\t/opt/go/src/runtime/proc.go:99 +0xd0 fp=0x3b3587ec sp=0x3b3587dc\r\n\t\truntime.goexit()\r\n\t\t\t/opt/go/src/runtime/asm_arm.s:1322 +0x4 fp=0x3b3587ec sp=0x3b3587ec\r\n\t\tcreated by runtime.init路4\r\n\t\t\t/opt/go/src/runtime/proc.go:87 +0x34\r\n\t\t\r\n\t\tgoroutine 3 [GC sweep wait]:\r\n\t\truntime.gopark(0x355c0, 0x1280fc, 0xcade8, 0xd)\r\n\t\t\t/opt/go/src/runtime/proc.go:130 +0x124 fp=0x3b35bfc8 sp=0x3b35bfb0\r\n\t\truntime.goparkunlock(0x1280fc, 0xcade8, 0xd)\r\n\t\t\t/opt/go/src/runtime/proc.go:136 +0x3c fp=0x3b35bfdc sp=0x3b35bfc8\r\n\t\truntime.bgsweep()\r\n\t\t\t/opt/go/src/runtime/mgc0.go:98 +0xb8 fp=0x3b35bfec sp=0x3b35bfdc\r\n\t\truntime.goexit()\r\n\t\t\t/opt/go/src/runtime/asm_arm.s:1322 +0x4 fp=0x3b35bfec sp=0x3b35bfec\r\n\t\tcreated by gc\r\n\t\t\t/opt/go/src/runtime/mgc0.c:1386\r\n\t\t\r\n\t\tgoroutine 4 [finalizer wait]:\r\n\t\truntime.gopark(0x355c0, 0x1280f8, 0xcb3a0, 0xe)\r\n\t\t\t/opt/go/src/runtime/proc.go:130 +0x124 fp=0x3b357794 sp=0x3b35777c\r\n\t\truntime.goparkunlock(0x1280f8, 0xcb3a0, 0xe)\r\n\t\t\t/opt/go/src/runtime/proc.go:136 +0x3c fp=0x3b3577a8 sp=0x3b357794\r\n\t\truntime.runfinq()\r\n\t\t\t/opt/go/src/runtime/malloc.go:727 +0xac fp=0x3b3577ec sp=0x3b3577a8\r\n\t\truntime.goexit()\r\n\t\t\t/opt/go/src/runtime/asm_arm.s:1322 +0x4 fp=0x3b3577ec sp=0x3b3577ec\r\n\t\tcreated by runtime.createfing\r\n\t\t\t/opt/go/src/runtime/malloc.go:707 +0x6c\r\n\t\t\r\n\t\tgoroutine 105 [syscall, locked to thread]:\r\n\t\truntime.cgocall_errno(0x8e30, 0x3b3807d8, 0x0)\r\n\t\t\t/opt/go/src/runtime/cgocall.go:130 +0x12c fp=0x3b3807c4 sp=0x3b3807ac\r\n\t\tmain._Cfunc_foo()\r\n\t\t\t_/tmp/go-build314387856/_obj/_cgo_gotypes.go:22 +0x4c fp=0x3b3807d4 sp=0x3b3807c4\r\n\t\tmain.func路002()\r\n\t\t\t/tmp/go-build314387856/main.go:67 +0x24 fp=0x3b3807ec sp=0x3b3807d4\r\n\t\truntime.goexit()\r\n\t\t\t/opt/go/src/runtime/asm_arm.s:1322 +0x4 fp=0x3b3807ec sp=0x3b3807ec\r\n\t\tcreated by main.main\r\n\t\t\t/tmp/go-build314387856/main.go:69 +0x1ac\r\n\t\t\r\n...\r\n\t\t\r\n\t\tgoroutine 203 [runnable]:\r\n\t\tmain.func路002()\r\n\t\t\t/tmp/go-build314387856/main.go:66 fp=0x3b3e57ec sp=0x3b3e57ec\r\n\t\truntime.goexit()\r\n\t\t\t/opt/go/src/runtime/asm_arm.s:1322 +0x4 fp=0x3b3e57ec sp=0x3b3e57ec\r\n\t\tcreated by main.main\r\n\t\t\t/tmp/go-build314387856/main.go:69 +0x1ac\r\n\t\t\r\n\t\tgoroutine 204 [runnable]:\r\n\t\tmain.func路002()\r\n\t\t\t/tmp/go-build314387856/main.go:66 fp=0x3b3e5fec sp=0x3b3e5fec\r\n\t\truntime.goexit()\r\n\t\t\t/opt/go/src/runtime/asm_arm.s:1322 +0x4 fp=0x3b3e5fec sp=0x3b3e5fec\r\n\t\tcreated by main.main\r\n\t\t\t/tmp/go-build314387856/main.go:69 +0x1ac\r\n\t\t\r\n\t\tgoroutine 210 [runnable, locked to thread]:\r\n\t\truntime.goexit()\r\n\t\t\t/opt/go/src/runtime/asm_arm.s:1322 +0x4 fp=0x3b39dff0 sp=0x3b39dff0\r\nFAIL\r\n```",
	"user": {
		"login": "capnm",
		"id": 4047289,
		"type": "User",
		"site_admin": false
	},
	"created_at": "2015-08-14T19:04:39Z",
	"updated_at": "2015-08-14T20:13:52Z"
}
