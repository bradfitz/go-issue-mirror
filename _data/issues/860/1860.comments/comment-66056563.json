{
	"id": 66056563,
	"body": "\u003ca id=\"c6\"\u003e\u003c/a\u003eComment 6:\n\n\u003cpre\u003eI am starting having problems to compile go on a amd64 machine I don't use really often.\n\n$ uname -a\nLinux maison 3.7.1-2-ARCH #1 SMP PREEMPT Thu Dec 20 17:57:00 CET 2012 x86_64 GNU/Linux\n$ sysctl vm.overcommit_memory\nvm.overcommit_memory = 1\n$ free -h\n             total       used       free     shared    buffers     cached\nMem:          998M       675M       322M         0B        13M        88M\n-/+ buffers/cache:       573M       424M\nSwap:           0B         0B         0B\n$ cat /proc/cpuinfo\n[...]\nmodel name\t: Intel(R) Pentium(R) D CPU 2.80GHz\n[...]\ncpu MHz\t\t: 2792.945\n[...]\ncpu cores\t: 2\n[...]\n$ go install -a -v std\n[...]\ncompress/lzw\nhash/adler32\ncompress/zlib\ncontainer/list\ncontainer/ring\ncrypto/sha512\ndatabase/sql/driver\ndatabase/sql\ndebug/gosym\nencoding/ascii85\ncmd/go\nexpvar\nnet/http/pprof\ncmd/godoc\nencoding/base32\ngo build encoding/base32: fork/exec /opt/remy/go/pkg/tool/linux_amd64/6g: cannot\nallocate memory\nencoding/csv\ngo build encoding/csv: fork/exec /opt/remy/go/pkg/tool/linux_amd64/6g: cannot allocate\nmemory\nexp/cookiejar\ngo build exp/cookiejar: fork/exec /opt/remy/go/pkg/tool/linux_amd64/6g: cannot allocate\nmemory\nexp/ebnf\ngo build exp/ebnf: fork/exec /opt/remy/go/pkg/tool/linux_amd64/6g: cannot allocate memory\nexp/types\ngo build exp/types: fork/exec /opt/remy/go/pkg/tool/linux_amd64/6g: cannot allocate\nmemory\nexp/html/atom\ngo build exp/html/atom: fork/exec /opt/remy/go/pkg/tool/linux_amd64/6g: cannot allocate\nmemory\n[...]\n\nRestoring vm.overcommit_memory=1 solves the problem. The case described by this issue\nhappens for real in the standard library now:\n\n$ ls -l src/pkg/exp/locale/collate\ntotal 2892\ndrwxr-xr-x 2 remy remy    4096 Dec 23 21:28 build\n-rw-r--r-- 1 remy remy    7284 Dec 23 21:28 colelem.go\n-rw-r--r-- 1 remy remy    4368 Dec 23 21:28 colelem_test.go\n-rw-r--r-- 1 remy remy   12571 Dec 23 21:28 collate.go\n-rw-r--r-- 1 remy remy   13089 Dec 23 21:28 collate_test.go\n-rw-r--r-- 1 remy remy    2392 Dec 23 21:28 contract.go\n-rw-r--r-- 1 remy remy    2291 Dec 23 21:28 contract_test.go\n-rw-r--r-- 1 remy remy    1112 Dec 23 21:28 export.go\n-rw-r--r-- 1 remy remy    1957 Dec 23 21:28 export_test.go\n-rw-r--r-- 1 remy remy     403 Dec 23 21:28 Makefile\n-rw-r--r-- 1 remy remy   17770 Dec 23 21:28 maketables.go\n-rw-r--r-- 1 remy remy    7009 Dec 23 21:28 regtest.go\n-rw-r--r-- 1 remy remy    3914 Dec 23 21:28 table.go\n-rw-r--r-- 1 remy remy 2828722 Dec 23 21:28 tables.go\n-rw-r--r-- 1 remy remy    8641 Dec 23 21:28 table_test.go\ndrwxr-xr-x 3 remy remy    4096 Dec 23 21:28 tools\n-rw-r--r-- 1 remy remy    2264 Dec 23 21:28 trie.go\n-rw-r--r-- 1 remy remy    2596 Dec 23 21:28 trie_test.go\u003c/pre\u003e",
	"user": {
		"login": "remyoudompheng",
		"id": 175246,
		"type": "User",
		"site_admin": false
	},
	"created_at": "2012-12-23T20:47:35Z",
	"updated_at": "2014-12-08T10:10:15Z"
}
