{
	"id": 168797433,
	"number": 16570,
	"state": "closed",
	"title": "runtime: failed build, compile and use compiled binary on macOS Sierra Beta 4(16A270f)",
	"body": "At first, I'm not good at English. If you can't understand, please point out.\r\n\r\n1 . What version of Go are you using (`go version`)?\r\n`go version devel +f575873 Tue Aug 2 01:58:14 2016 +0000 darwin/amd64`\r\n\r\n2 . What operating system and processor architecture are you using (`go env`)?\r\n\r\n```sh\r\nGOARCH=\"amd64\"\r\nGOBIN=\"\"\r\nGOEXE=\"\"\r\nGOHOSTARCH=\"amd64\"\r\nGOHOSTOS=\"darwin\"\r\nGOOS=\"darwin\"\r\nGOPATH=\"/Users/zchee/go\"\r\nGORACE=\"\"\r\nGOROOT=\"/usr/local/go\"\r\nGOTOOLDIR=\"/usr/local/go/pkg/tool/darwin_amd64\"\r\nCC=\"clang\"\r\nGOGCCFLAGS=\"-fPIC -m64 -pthread -fno-caret-diagnostics -Qunused-arguments -fmessage-length=0 -fdebug-prefix-map=/var/folders/kb/8855kjqx63723nzsgmmy7z2c0000gn/T/go-build555090261=/tmp/go-build -gno-record-gcc-switches -fno-common\"\r\nCXX=\"clang++\"\r\nCGO_ENABLED=\"1\"\r\n```\r\n\r\n3 . What did you do?\r\nOn macOS Sierra Beta 4(16A270f), all of the go compiled tools can not be used.\r\nBroken go runtime on Sierra again :(\r\n\r\nIt's related upgrade of macOS kernel to Beta 4, also there is no direct relationship to Xcode and Command Line Tools.\r\nIt is certainly. Because I know way of the downgrade to macOS kernel and I had tested.\r\n\r\nAlso, now my kernel version is the downgrade to `Beta3 (16A254g)`.\r\nbut If you want to more debug, I can try to upgrade again and any debugging.\r\n\r\n---\r\n\r\nThe error log is described below. Please click to ▶︎.\r\n\r\nFirst and second is building `go` binary use `./make.bash`.\r\nSecond is set `GODEBUG=gctrace=1,schedtrace=100,scheddetail=1` because suggests at https://github.com/golang/go/issues/16272#issuecomment-230901414. But maybe it's for `__commpage_gettimeofday`?\r\nIf so, and if you want to more debug log with other flags, Please feel free to instruct.\r\n\r\n`./all.bash` also fail in the same way, so does not put it.\r\n\r\n===\r\n\r\nThat result will occur `runtime.MSpanList_Insert` error and more.\r\n\r\nenv:\r\n- `$GOROOT_BOOTSTRAP=/usr/local/bootstrap/go/go1.4.3`\r\n- `which clang`:\r\n - `/Applications/Xcode-beta.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/clang`\r\n\r\n\u003cdetails\u003e\r\n\u003csummary\u003e1. `./make.bash`:\u003c/summary\u003e\r\n```sh\r\n\u003e ./make.bash\r\n##### Building Go bootstrap tool.\r\ncmd/dist\r\n\r\n##### Building Go toolchain using /usr/local/bootstrap/go/go1.4.3.\r\nfailed MSpanList_Insert 0x2cb178 0x1083b5d9ac 0x0\r\nfatal error: MSpanList_Insert\r\n\r\nruntime stack:\r\nruntime.MSpanList_Insert(0x28baf0, 0x2cb178)\r\n        /usr/local/go/src/runtime/mheap.c:692 +0x8f\r\nruntime.MHeap_Free(0x28b5a0, 0x2cb178, 0x1)\r\n        /usr/local/go/src/runtime/mheap.c:500 +0x5b\r\nruntime.MSpan_Sweep(0x2cb178, 0x2f00000000, 0xc200000001)\r\n        /usr/local/go/src/runtime/mgc0.c:1061 +0x6f9\r\n\r\ngoroutine 3 [running]:\r\nruntime.switchtoM()\r\n        /usr/local/go/src/runtime/asm_amd64.s:198 fp=0xc20801dfa8 sp=0xc20801dfa0\r\nruntime.gosweepone(0x0)\r\n        /usr/local/go/src/runtime/mgc0.c:1168 +0x1e fp=0xc20801dfc0 sp=0xc20801dfa8\r\nruntime.bgsweep()\r\n        /usr/local/go/src/runtime/mgc0.go:85 +0x36 fp=0xc20801dfe0 sp=0xc20801dfc0\r\nruntime.goexit()\r\n        /usr/local/go/src/runtime/asm_amd64.s:2232 +0x1 fp=0xc20801dfe8 sp=0xc20801dfe0\r\ncreated by gc\r\n        /usr/local/go/src/runtime/mgc0.c:1386\r\n\r\ngoroutine 1 [syscall]:\r\nsyscall.Syscall(0x3, 0x3, 0xc20805a500, 0x4ef, 0x13b120, 0x1, 0xc20820c1c0)\r\n        /usr/local/go/src/syscall/asm_darwin_amd64.s:20 +0x5\r\nsyscall.read(0x3, 0xc20805a500, 0x4ef, 0x4ef, 0xc208252000, 0x0, 0x0)\r\n        /usr/local/go/src/syscall/zsyscall_darwin_amd64.go:970 +0x6e\r\nsyscall.Read(0x3, 0xc20805a500, 0x4ef, 0x4ef, 0xc20803c570, 0x0, 0x0)\r\n        /usr/local/go/src/syscall/syscall_unix.go:136 +0x58\r\nos.(*File).read(0xc208056028, 0xc20805a500, 0x4ef, 0x4ef, 0x70, 0x0, 0x0)\r\n        /usr/local/go/src/os/file_unix.go:191 +0x86\r\nos.(*File).Read(0xc208056028, 0xc20805a500, 0x4ef, 0x4ef, 0x2ca208, 0x0, 0x0)\r\n        /usr/local/go/src/os/file.go:95 +0x91\r\nbytes.(*Buffer).ReadFrom(0xc2080100e0, 0x2d7b58, 0xc208056028, 0x0, 0x0, 0x0)\r\n        /usr/local/go/src/bytes/buffer.go:169 +0x25a\r\nio/ioutil.readAll(0x2d7b58, 0xc208056028, 0x4ef, 0x0, 0x0, 0x0, 0x0, 0x0)\r\n        /usr/local/go/src/io/ioutil/ioutil.go:33 +0x1b0\r\nio/ioutil.ReadFile(0xc20820c140, 0x3b, 0x0, 0x0, 0x0, 0x0, 0x0)\r\n        /usr/local/go/src/io/ioutil/ioutil.go:70 +0x1b5\r\nmain.readfile(0xc20820c140, 0x3b, 0x0, 0x0)\r\n        /usr/local/go/src/cmd/dist/util.go:241 +0x58\r\nmain.bootstrapBuildTools()\r\n        /usr/local/go/src/cmd/dist/buildtool.go:89 +0xb5e\r\nmain.cmdbootstrap()\r\n        /usr/local/go/src/cmd/dist/build.go:1022 +0x387\r\nmain.xmain()\r\n        /usr/local/go/src/cmd/dist/main.go:43 +0x240\r\nmain.main()\r\n        /usr/local/go/src/cmd/dist/util.go:496 +0x51b\r\n\r\ngoroutine 5 [select]:\r\nmain.bghelper()\r\n        /usr/local/go/src/cmd/dist/util.go:150 +0x148\r\ncreated by main.bginit\r\n        /usr/local/go/src/cmd/dist/util.go:143 +0x58\r\n\r\ngoroutine 6 [select]:\r\nmain.bghelper()\r\n        /usr/local/go/src/cmd/dist/util.go:150 +0x148\r\ncreated by main.bginit\r\n        /usr/local/go/src/cmd/dist/util.go:143 +0x58\r\n\r\ngoroutine 7 [select]:\r\nmain.bghelper()\r\n        /usr/local/go/src/cmd/dist/util.go:150 +0x148\r\ncreated by main.bginit\r\n        /usr/local/go/src/cmd/dist/util.go:143 +0x58\r\n\r\ngoroutine 8 [select]:\r\nmain.bghelper()\r\n        /usr/local/go/src/cmd/dist/util.go:150 +0x148\r\ncreated by main.bginit\r\n        /usr/local/go/src/cmd/dist/util.go:143 +0x58\r\n```\r\n\u003c/details\u003e\r\n\r\n\u003cdetails\u003e\r\n\u003csummary\u003e2. `GODEBUG=gctrace=1,schedtrace=100,scheddetail=1 ./make.bash`:\u003c/summary\u003e\r\n```sh\r\n##### Building Go bootstrap tool.\r\ncmd/dist\r\nSCHED 0ms: gomaxprocs=1 idleprocs=0 threads=2 spinningthreads=0 idlethreads=0 runqueue=0 gcwaiting=0 nmidlelocked=0 stopwait=0 sysmonwait=0\r\n  P0: status=1 schedtick=1 syscalltick=0 m=0 runqsize=0 gfreecnt=0\r\n  M1: p=-1 curg=-1 mallocing=0 throwing=0 gcing=0 locks=1 dying=0 helpgc=0 spinning=0 blocked=0 lockedg=-1\r\n  M0: p=0 curg=1 mallocing=0 throwing=0 gcing=0 locks=0 dying=0 helpgc=0 spinning=0 blocked=0 lockedg=1\r\n  G1: status=2() m=0 lockedm=0\r\ngc1(1): 2+0+2852+2 us, 0 -\u003e 0 MB, 21 (21-0) objects, 2 goroutines, 16/0/0 sweeps, 0(0) handoff, 0(0) steal, 0/0/0 yields\r\ngc2(1): 2+0+118+1 us, 0 -\u003e 0 MB, 41 (42-1) objects, 3 goroutines, 20/0/0 sweeps, 0(0) handoff, 0(0) steal, 0/0/0 yields\r\ngc3(1): 3+0+1555+1 us, 0 -\u003e 0 MB, 113 (132-19) objects, 4 goroutines, 23/1/0 sweeps, 0(0) handoff, 0(0) steal, 0/0/0 yields\r\ngc4(1): 1+0+149+0 us, 0 -\u003e 0 MB, 230 (276-46) objects, 4 goroutines, 36/0/0 sweeps, 0(0) handoff, 0(0) steal, 0/0/0 yields\r\ngc5(1): 1+0+763+3 us, 0 -\u003e 0 MB, 569 (695-126) objects, 5 goroutines, 42/1/0 sweeps, 0(0) handoff, 0(0) steal, 0/0/0 yields\r\ngc6(1): 4+1+425+0 us, 0 -\u003e 0 MB, 1640 (2128-488) objects, 6 goroutines, 57/0/0 sweeps, 0(0) handoff, 0(0) steal, 0/0/0 yields\r\ngc7(1): 2+0+418+0 us, 0 -\u003e 0 MB, 2849 (4271-1422) objects, 6 goroutines, 72/0/0 sweeps, 0(0) handoff, 0(0) steal, 0/0/0 yields\r\ngc8(1): 1+0+359+0 us, 0 -\u003e 0 MB, 3348 (6319-2971) objects, 6 goroutines, 85/0/0 sweeps, 0(0) handoff, 0(0) steal, 0/0/0 yields\r\ngc9(1): 0+0+336+0 us, 0 -\u003e 0 MB, 3862 (8720-4858) objects, 6 goroutines, 89/0/0 sweeps, 0(0) handoff, 0(0) steal, 0/0/0 yields\r\ngc10(1): 1+0+352+0 us, 0 -\u003e 0 MB, 4931 (11020-6089) objects, 6 goroutines, 111/0/0 sweeps, 0(0) handoff, 0(0) steal, 0/0/0 yields\r\ngc11(1): 1+0+328+0 us, 0 -\u003e 0 MB, 4952 (13340-8388) objects, 6 goroutines, 119/0/0 sweeps, 0(0) handoff, 0(0) steal, 0/0/0 yields\r\nSCHED 100ms: gomaxprocs=1 idleprocs=0 threads=4 spinningthreads=0 idlethreads=1 runqueue=0 gcwaiting=0 nmidlelocked=0 stopwait=0 sysmonwait=0\r\n  P0: status=1 schedtick=337 syscalltick=1021 m=0 runqsize=2 gfreecnt=0\r\n  M3: p=-1 curg=-1 mallocing=0 throwing=0 gcing=0 locks=0 dying=0 helpgc=0 spinning=0 blocked=0 lockedg=-1\r\n  M2: p=-1 curg=5 mallocing=0 throwing=0 gcing=0 locks=0 dying=0 helpgc=0 spinning=0 blocked=0 lockedg=-1\r\n  M1: p=-1 curg=-1 mallocing=0 throwing=0 gcing=0 locks=1 dying=0 helpgc=0 spinning=0 blocked=0 lockedg=-1\r\n  M0: p=0 curg=-1 mallocing=0 throwing=0 gcing=0 locks=1 dying=0 helpgc=0 spinning=0 blocked=0 lockedg=-1\r\n  G1: status=1(stack growth) m=-1 lockedm=-1\r\n  G2: status=4(force gc (idle)) m=-1 lockedm=-1\r\n  G3: status=1(GC sweep wait) m=-1 lockedm=-1\r\n  G4: status=4(finalizer wait) m=-1 lockedm=-1\r\n  G5: status=3() m=2 lockedm=-1\r\n  G6: status=1(chan send) m=-1 lockedm=-1\r\ngc12(1): 1+0+275+0 us, 0 -\u003e 0 MB, 5246 (15879-10633) objects, 5 goroutines, 122/0/0 sweeps, 0(0) handoff, 0(0) steal, 0/0/0 yields\r\ngc13(1): 0+7+492+0 us, 0 -\u003e 0 MB, 5289 (19268-13979) objects, 5 goroutines, 123/0/12 sweeps, 0(0) handoff, 0(0) steal, 0/0/0 yields\r\ngc14(1): 1+0+365+0 us, 0 -\u003e 0 MB, 4983 (22108-17125) objects, 5 goroutines, 123/0/0 sweeps, 0(0) handoff, 0(0) steal, 0/0/0 yields\r\ngc15(1): 1+0+369+0 us, 0 -\u003e 0 MB, 5572 (25257-19685) objects, 5 goroutines, 123/0/0 sweeps, 0(0) handoff, 0(0) steal, 0/0/0 yields\r\ngc16(1): 1+0+395+0 us, 0 -\u003e 0 MB, 6047 (28305-22258) objects, 5 goroutines, 127/0/0 sweeps, 0(0) handoff, 0(0) steal, 0/0/0 yields\r\ngc17(1): 1+0+338+0 us, 0 -\u003e 0 MB, 6036 (31294-25258) objects, 5 goroutines, 133/0/0 sweeps, 0(0) handoff, 0(0) steal, 0/0/0 yields\r\ngc18(1): 1+0+482+0 us, 0 -\u003e 0 MB, 6604 (35088-28484) objects, 5 goroutines, 134/0/0 sweeps, 0(0) handoff, 0(0) steal, 0/0/0 yields\r\ngc19(1): 1+0+366+0 us, 0 -\u003e 0 MB, 7167 (38812-31645) objects, 5 goroutines, 141/0/0 sweeps, 0(0) handoff, 0(0) steal, 0/0/0 yields\r\ngc20(1): 0+0+370+0 us, 0 -\u003e 0 MB, 7596 (42820-35224) objects, 5 goroutines, 146/1/0 sweeps, 0(0) handoff, 0(0) steal, 0/0/0 yields\r\ngc21(1): 1+0+449+0 us, 0 -\u003e 0 MB, 7936 (46865-38929) objects, 5 goroutines, 150/0/0 sweeps, 0(0) handoff, 0(0) steal, 0/0/0 yields\r\nSCHED 212ms: gomaxprocs=1 idleprocs=0 threads=4 spinningthreads=0 idlethreads=0 runqueue=1 gcwaiting=0 nmidlelocked=0 stopwait=0 sysmonwait=0\r\n  P0: status=1 schedtick=345 syscalltick=3001 m=3 runqsize=7 gfreecnt=0\r\n  M3: p=0 curg=9 mallocing=0 throwing=0 gcing=0 locks=0 dying=0 helpgc=0 spinning=0 blocked=0 lockedg=-1\r\n  M2: p=-1 curg=5 mallocing=0 throwing=0 gcing=0 locks=0 dying=0 helpgc=0 spinning=0 blocked=0 lockedg=-1\r\n  M1: p=-1 curg=-1 mallocing=0 throwing=0 gcing=0 locks=1 dying=0 helpgc=0 spinning=0 blocked=0 lockedg=-1\r\n  M0: p=0 curg=7 mallocing=0 throwing=0 gcing=0 locks=0 dying=0 helpgc=0 spinning=0 blocked=0 lockedg=-1\r\n  G1: status=4(semacquire) m=-1 lockedm=-1\r\n  G2: status=4(force gc (idle)) m=-1 lockedm=-1\r\n  G3: status=1(GC sweep wait) m=-1 lockedm=-1\r\n  G4: status=4(finalizer wait) m=-1 lockedm=-1\r\n  G5: status=3() m=2 lockedm=-1\r\n  G7: status=3(stack growth) m=0 lockedm=-1\r\n  G8: status=4(select) m=-1 lockedm=-1\r\n  G9: status=4(select) m=-1 lockedm=-1\r\n  G10: status=4(select) m=-1 lockedm=-1\r\n  G11: status=4(select) m=-1 lockedm=-1\r\n  G12: status=4(select) m=-1 lockedm=-1\r\n  G13: status=4(select) m=-1 lockedm=-1\r\n  G14: status=4(select) m=-1 lockedm=-1\r\n  G15: status=3() m=3 lockedm=-1\r\nSCHED 322ms: gomaxprocs=1 idleprocs=1 threads=5 spinningthreads=0 idlethreads=1 runqueue=0 gcwaiting=0 nmidlelocked=0 stopwait=0 sysmonwait=0\r\n  P0: status=0 schedtick=387 syscalltick=3001 m=-1 runqsize=0 gfreecnt=0\r\n  M4: p=-1 curg=-1 mallocing=0 throwing=0 gcing=0 locks=0 dying=0 helpgc=0 spinning=0 blocked=0 lockedg=-1\r\n  M3: p=0 curg=15 mallocing=0 throwing=0 gcing=0 locks=0 dying=0 helpgc=0 spinning=0 blocked=0 lockedg=-1\r\n  M2: p=-1 curg=5 mallocing=0 throwing=0 gcing=0 locks=0 dying=0 helpgc=0 spinning=0 blocked=0 lockedg=-1\r\n  M1: p=-1 curg=-1 mallocing=0 throwing=0 gcing=0 locks=1 dying=0 helpgc=0 spinning=0 blocked=0 lockedg=-1\r\n  M0: p=0 curg=7 mallocing=0 throwing=0 gcing=0 locks=0 dying=0 helpgc=0 spinning=0 blocked=0 lockedg=-1\r\n  G1: status=4(semacquire) m=-1 lockedm=-1\r\n  G2: status=4(force gc (idle)) m=-1 lockedm=-1\r\n  G3: status=4(GC sweep wait) m=-1 lockedm=-1\r\n  G4: status=4(finalizer wait) m=-1 lockedm=-1\r\n  G5: status=3() m=2 lockedm=-1\r\n  G7: status=3(stack growth) m=0 lockedm=-1\r\n  G8: status=4(select) m=-1 lockedm=-1\r\n  G9: status=4(select) m=-1 lockedm=-1\r\n  G10: status=4(select) m=-1 lockedm=-1\r\n  G11: status=4(select) m=-1 lockedm=-1\r\n  G12: status=4(select) m=-1 lockedm=-1\r\n  G13: status=4(select) m=-1 lockedm=-1\r\n  G14: status=4(select) m=-1 lockedm=-1\r\n  G15: status=3() m=3 lockedm=-1\r\nSCHED 428ms: gomaxprocs=1 idleprocs=1 threads=5 spinningthreads=0 idlethreads=1 runqueue=0 gcwaiting=0 nmidlelocked=0 stopwait=0 sysmonwait=0\r\n  P0: status=0 schedtick=387 syscalltick=3001 m=-1 runqsize=0 gfreecnt=0\r\n  M4: p=-1 curg=-1 mallocing=0 throwing=0 gcing=0 locks=0 dying=0 helpgc=0 spinning=0 blocked=0 lockedg=-1\r\n  M3: p=0 curg=15 mallocing=0 throwing=0 gcing=0 locks=0 dying=0 helpgc=0 spinning=0 blocked=0 lockedg=-1\r\n  M2: p=-1 curg=5 mallocing=0 throwing=0 gcing=0 locks=0 dying=0 helpgc=0 spinning=0 blocked=0 lockedg=-1\r\n  M1: p=-1 curg=-1 mallocing=0 throwing=0 gcing=0 locks=1 dying=0 helpgc=0 spinning=0 blocked=0 lockedg=-1\r\n  M0: p=0 curg=7 mallocing=0 throwing=0 gcing=0 locks=0 dying=0 helpgc=0 spinning=0 blocked=0 lockedg=-1\r\n  G1: status=4(semacquire) m=-1 lockedm=-1\r\n  G2: status=4(force gc (idle)) m=-1 lockedm=-1\r\n  G3: status=4(GC sweep wait) m=-1 lockedm=-1\r\n  G4: status=4(finalizer wait) m=-1 lockedm=-1\r\n  G5: status=3() m=2 lockedm=-1\r\n  G7: status=3(stack growth) m=0 lockedm=-1\r\n  G8: status=4(select) m=-1 lockedm=-1\r\n  G9: status=4(select) m=-1 lockedm=-1\r\n  G10: status=4(select) m=-1 lockedm=-1\r\n  G11: status=4(select) m=-1 lockedm=-1\r\n  G12: status=4(select) m=-1 lockedm=-1\r\n  G13: status=4(select) m=-1 lockedm=-1\r\n  G14: status=4(select) m=-1 lockedm=-1\r\n  G15: status=3() m=3 lockedm=-1\r\nSCHED 531ms: gomaxprocs=1 idleprocs=0 threads=5 spinningthreads=0 idlethreads=2 runqueue=0 gcwaiting=0 nmidlelocked=0 stopwait=0 sysmonwait=0\r\n  P0: status=2 schedtick=391 syscalltick=3060 m=-1 runqsize=1 gfreecnt=0\r\n  M4: p=-1 curg=-1 mallocing=0 throwing=0 gcing=0 locks=0 dying=0 helpgc=0 spinning=0 blocked=0 lockedg=-1\r\n  M3: p=-1 curg=-1 mallocing=0 throwing=0 gcing=0 locks=0 dying=0 helpgc=0 spinning=0 blocked=0 lockedg=-1\r\n  M2: p=-1 curg=5 mallocing=0 throwing=0 gcing=0 locks=0 dying=0 helpgc=0 spinning=0 blocked=0 lockedg=-1\r\n  M1: p=-1 curg=-1 mallocing=0 throwing=0 gcing=0 locks=1 dying=0 helpgc=0 spinning=0 blocked=0 lockedg=-1\r\n  M0: p=0 curg=7 mallocing=0 throwing=0 gcing=0 locks=0 dying=0 helpgc=0 spinning=0 blocked=0 lockedg=-1\r\n  G1: status=4(semacquire) m=-1 lockedm=-1\r\n  G2: status=4(force gc (idle)) m=-1 lockedm=-1\r\n  G3: status=4(GC sweep wait) m=-1 lockedm=-1\r\n  G4: status=4(finalizer wait) m=-1 lockedm=-1\r\n  G5: status=3() m=2 lockedm=-1\r\n  G7: status=3(chan receive) m=0 lockedm=-1\r\n  G8: status=4(select) m=-1 lockedm=-1\r\n  G9: status=4(select) m=-1 lockedm=-1\r\n  G10: status=4(select) m=-1 lockedm=-1\r\n  G11: status=4(select) m=-1 lockedm=-1\r\n  G12: status=4(select) m=-1 lockedm=-1\r\n  G13: status=4(select) m=-1 lockedm=-1\r\n  G14: status=4(select) m=-1 lockedm=-1\r\n  G18: status=1() m=-1 lockedm=-1\r\nSCHED 632ms: gomaxprocs=1 idleprocs=1 threads=5 spinningthreads=0 idlethreads=1 runqueue=0 gcwaiting=0 nmidlelocked=0 stopwait=0 sysmonwait=0\r\n  P0: status=0 schedtick=392 syscalltick=3060 m=-1 runqsize=0 gfreecnt=0\r\n  M4: p=-1 curg=-1 mallocing=0 throwing=0 gcing=0 locks=0 dying=0 helpgc=0 spinning=0 blocked=0 lockedg=-1\r\n  M3: p=0 curg=18 mallocing=0 throwing=0 gcing=0 locks=0 dying=0 helpgc=0 spinning=0 blocked=0 lockedg=-1\r\n  M2: p=-1 curg=5 mallocing=0 throwing=0 gcing=0 locks=0 dying=0 helpgc=0 spinning=0 blocked=0 lockedg=-1\r\n  M1: p=-1 curg=-1 mallocing=0 throwing=0 gcing=0 locks=1 dying=0 helpgc=0 spinning=0 blocked=0 lockedg=-1\r\n  M0: p=0 curg=7 mallocing=0 throwing=0 gcing=0 locks=0 dying=0 helpgc=0 spinning=0 blocked=0 lockedg=-1\r\n  G1: status=4(semacquire) m=-1 lockedm=-1\r\n  G2: status=4(force gc (idle)) m=-1 lockedm=-1\r\n  G3: status=4(GC sweep wait) m=-1 lockedm=-1\r\n  G4: status=4(finalizer wait) m=-1 lockedm=-1\r\n  G5: status=3() m=2 lockedm=-1\r\n  G7: status=3(chan receive) m=0 lockedm=-1\r\n  G8: status=4(select) m=-1 lockedm=-1\r\n  G9: status=4(select) m=-1 lockedm=-1\r\n  G10: status=4(select) m=-1 lockedm=-1\r\n  G11: status=4(select) m=-1 lockedm=-1\r\n  G12: status=4(select) m=-1 lockedm=-1\r\n  G13: status=4(select) m=-1 lockedm=-1\r\n  G14: status=4(select) m=-1 lockedm=-1\r\n  G18: status=3() m=3 lockedm=-1\r\nSCHED 739ms: gomaxprocs=1 idleprocs=1 threads=5 spinningthreads=0 idlethreads=1 runqueue=0 gcwaiting=0 nmidlelocked=0 stopwait=0 sysmonwait=0\r\n  P0: status=0 schedtick=392 syscalltick=3060 m=-1 runqsize=0 gfreecnt=0\r\n  M4: p=-1 curg=-1 mallocing=0 throwing=0 gcing=0 locks=0 dying=0 helpgc=0 spinning=0 blocked=0 lockedg=-1\r\n  M3: p=0 curg=18 mallocing=0 throwing=0 gcing=0 locks=0 dying=0 helpgc=0 spinning=0 blocked=0 lockedg=-1\r\n  M2: p=-1 curg=5 mallocing=0 throwing=0 gcing=0 locks=0 dying=0 helpgc=0 spinning=0 blocked=0 lockedg=-1\r\n  M1: p=-1 curg=-1 mallocing=0 throwing=0 gcing=0 locks=1 dying=0 helpgc=0 spinning=0 blocked=0 lockedg=-1\r\n  M0: p=0 curg=7 mallocing=0 throwing=0 gcing=0 locks=0 dying=0 helpgc=0 spinning=0 blocked=0 lockedg=-1\r\n  G1: status=4(semacquire) m=-1 lockedm=-1\r\n  G2: status=4(force gc (idle)) m=-1 lockedm=-1\r\n  G3: status=4(GC sweep wait) m=-1 lockedm=-1\r\n  G4: status=4(finalizer wait) m=-1 lockedm=-1\r\n  G5: status=3() m=2 lockedm=-1\r\n  G7: status=3(chan receive) m=0 lockedm=-1\r\n  G8: status=4(select) m=-1 lockedm=-1\r\n  G9: status=4(select) m=-1 lockedm=-1\r\n  G10: status=4(select) m=-1 lockedm=-1\r\n  G11: status=4(select) m=-1 lockedm=-1\r\n  G12: status=4(select) m=-1 lockedm=-1\r\n  G13: status=4(select) m=-1 lockedm=-1\r\n  G14: status=4(select) m=-1 lockedm=-1\r\n  G18: status=3() m=3 lockedm=-1\r\nSCHED 0ms: gomaxprocs=1 idleprocs=0 threads=2 spinningthreads=0 idlethreads=0 runqueue=0 gcwaiting=0 nmidlelocked=0 stopwait=0 sysmonwait=0\r\n  P0: status=1 schedtick=1 syscalltick=0 m=0 runqsize=0 gfreecnt=0\r\n  M1: p=-1 curg=-1 mallocing=0 throwing=0 gcing=0 locks=1 dying=0 helpgc=0 spinning=0 blocked=0 lockedg=-1\r\n  M0: p=0 curg=1 mallocing=0 throwing=0 gcing=0 locks=0 dying=0 helpgc=0 spinning=0 blocked=0 lockedg=1\r\n  G1: status=2(stack growth) m=0 lockedm=0\r\n  G2: status=1() m=-1 lockedm=-1\r\ngc1(1): 51+0+126+0 us, 0 -\u003e 0 MB, 21 (21-0) objects, 2 goroutines, 15/0/0 sweeps, 0(0) handoff, 0(0) steal, 0/0/0 yields\r\ngc2(1): 0+0+74+0 us, 0 -\u003e 0 MB, 95 (97-2) objects, 3 goroutines, 22/0/0 sweeps, 0(0) handoff, 0(0) steal, 0/0/0 yields\r\ngc3(1): 0+0+88+0 us, 0 -\u003e 0 MB, 174 (214-40) objects, 4 goroutines, 44/0/0 sweeps, 0(0) handoff, 0(0) steal, 0/0/0 yields\r\ngc4(1): 0+0+502+0 us, 0 -\u003e 0 MB, 163 (224-61) objects, 4 goroutines, 45/0/0 sweeps, 0(0) handoff, 0(0) steal, 0/0/0 yields\r\n\r\nSCHED 0ms: gomaxprocs=1 idleprocs=0 threads=2 spinningthreads=0 idlethreads=0 runqueue=0 gcwaiting=0 nmidlelocked=0 stopwait=0 sysmonwait=0\r\n  P0: status=1 schedtick=1 syscalltick=0 m=0 runqsize=1 gfreecnt=0\r\n  M1: p=-1 curg=-1 mallocing=0 throwing=0 gcing=0 locks=1 dying=0 helpgc=0 spinning=0 blocked=0 lockedg=-1\r\n  M0: p=0 curg=1 mallocing=0 throwing=0 gcing=1 locks=1 dying=0 helpgc=0 spinning=0 blocked=0 lockedg=1\r\n  G1: status=2(stack growth) m=0 lockedm=0\r\n  G2: status=1() m=-1 lockedm=-1\r\ngc1(1): 55+0+75+0 us, 0 -\u003e 0 MB, 21 (21-0) objects, 2 goroutines, 16/0/0 sweeps, 0(0) handoff, 0(0) steal, 0/0/0 yields\r\ngc2(1): 0+0+63+0 us, 0 -\u003e 0 MB, 91 (93-2) objects, 3 goroutines, 22/0/0 sweeps, 0(0) handoff, 0(0) steal, 0/0/0 yields\r\ngc3(1): 0+0+75+0 us, 0 -\u003e 0 MB, 175 (213-38) objects, 4 goroutines, 44/0/0 sweeps, 0(0) handoff, 0(0) steal, 0/0/0 yields\r\ngc4(1): 0+0+810+0 us, 0 -\u003e 0 MB, 162 (223-61) objects, 4 goroutines, 45/0/0 sweeps, 0(0) handoff, 0(0) steal, 0/0/0 yields\r\nfailed MSpanList_Insert 0x2cb3e8 0x1a66b926f47 0x0\r\nSCHED -1470109654236ms: gomaxprocs=1 idleprocs=0 threads=4 spinningthreads=0 idlethreads=2 runqueue=0 gcwaiting=0 nmidlelocked=0 stopwait=0 sysmonwait=0\r\n  P0: status=1 schedtick=11 syscalltick=30 m=0 runqsize=0 gfreecnt=1\r\n  M3: p=-1 curg=-1 mallocing=0 throwing=0 gcing=0 locks=0 dying=0 helpgc=0 spinning=0 blocked=0 lockedg=-1\r\n  M2: p=-1 curg=-1 mallocing=0 throwing=0 gcing=0 locks=0 dying=0 helpgc=0 spinning=0 blocked=0 lockedg=-1\r\n  M1: p=-1 curg=-1 mallocing=0 throwing=0 gcing=0 locks=0 dying=0 helpgc=0 spinning=0 blocked=0 lockedg=-1\r\n  M0: p=0 curg=1 mallocing=0 throwing=1 gcing=0 locks=4 dying=1 helpgc=0 spinning=0 blocked=0 lockedg=-1\r\n  G1: status=4(stack growth) m=0 lockedm=-1\r\n  G2: status=4(force gc (idle)) m=-1 lockedm=-1\r\n  G3: status=4(GC sweep wait) m=-1 lockedm=-1\r\n  G4: status=4(finalizer wait) m=-1 lockedm=-1\r\n  G5: status=4(select) m=-1 lockedm=-1\r\n  G6: status=4(select) m=-1 lockedm=-1\r\n  G7: status=4(select) m=-1 lockedm=-1\r\n  G8: status=4(select) m=-1 lockedm=-1\r\n  G9: status=6() m=-1 lockedm=-1\r\nfatal error: MSpanList_Insert\r\n\r\nruntime stack:\r\nruntime.MSpanList_Insert(0x28d420, 0x2cb3e8)\r\n        /usr/local/go/src/runtime/mheap.c:692 +0x8f\r\nruntime.MHeap_AllocStack(0x28b5a0, 0x4, 0xc207ff8d01)\r\n        /usr/local/go/src/runtime/mheap.c:267 +0x71\r\n\r\ngoroutine 1 [stack growth]:\r\nfmt.(*pp).printReflectValue(0xc20803e270, 0x13a2a0, 0xc20803254a, 0x41, 0x76, 0x0, 0x405a8)\r\n        /usr/local/go/src/fmt/print.go:843 fp=0xc20814e5c8 sp=0xc20814e5c0\r\nfmt.(*pp).printArg(0xc20803e270, 0x13a2a0, 0xc20803254a, 0x76, 0x0, 0x0)\r\n        /usr/local/go/src/fmt/print.go:798 +0x44f fp=0xc20814e698 sp=0xc20814e5c8\r\nfmt.(*pp).doPrintf(0xc20803e270, 0x19d1b0, 0x2, 0xc20814eac0, 0x1, 0x1)\r\n        /usr/local/go/src/fmt/print.go:1183 +0x21cd fp=0xc20814ea28 sp=0xc20814e698\r\nfmt.Sprintf(0x19d1b0, 0x2, 0xc20814eac0, 0x1, 0x1, 0x0, 0x0)\r\n        /usr/local/go/src/fmt/print.go:203 +0x78 fp=0xc20814ea78 sp=0xc20814ea28\r\nflag.(*boolValue).String(0x284e0d, 0x0, 0x0)\r\n        /usr/local/go/src/flag/flag.go:96 +0xfc fp=0xc20814eaf0 sp=0xc20814ea78\r\nflag.(*FlagSet).Var(0xc208036000, 0x2d7bd0, 0x284e0d, 0x1a2830, 0x1, 0x1b3b50, 0xb)\r\n        /usr/local/go/src/flag/flag.go:669 +0x3c fp=0xc20814ebf8 sp=0xc20814eaf0\r\nflag.BoolVar(0x284e0d, 0x1a2830, 0x1, 0x0, 0x1b3b50, 0xb)\r\n        /usr/local/go/src/flag/flag.go:458 +0x8d fp=0xc20814ec50 sp=0xc20814ebf8\r\nmain.cmdbootstrap()\r\n        /usr/local/go/src/cmd/dist/build.go:1002 +0x6c fp=0xc20814ed80 sp=0xc20814ec50\r\nmain.xmain()\r\n        /usr/local/go/src/cmd/dist/main.go:43 +0x240 fp=0xc20814ee90 sp=0xc20814ed80\r\nmain.main()\r\n        /usr/local/go/src/cmd/dist/util.go:496 +0x51b fp=0xc20814ef98 sp=0xc20814ee90\r\nruntime.main()\r\n        /usr/local/go/src/runtime/proc.go:63 +0xf3 fp=0xc20814efe0 sp=0xc20814ef98\r\nruntime.goexit()\r\n        /usr/local/go/src/runtime/asm_amd64.s:2232 +0x1 fp=0xc20814efe8 sp=0xc20814efe0\r\n\r\ngoroutine 5 [select]:\r\nmain.bghelper()\r\n        /usr/local/go/src/cmd/dist/util.go:150 +0x148\r\ncreated by main.bginit\r\n        /usr/local/go/src/cmd/dist/util.go:143 +0x58\r\n\r\ngoroutine 6 [select]:\r\nmain.bghelper()\r\n        /usr/local/go/src/cmd/dist/util.go:150 +0x148\r\ncreated by main.bginit\r\n        /usr/local/go/src/cmd/dist/util.go:143 +0x58\r\n\r\ngoroutine 7 [select]:\r\nmain.bghelper()\r\n        /usr/local/go/src/cmd/dist/util.go:150 +0x148\r\ncreated by main.bginit\r\n        /usr/local/go/src/cmd/dist/util.go:143 +0x58\r\n\r\ngoroutine 8 [select]:\r\nmain.bghelper()\r\n        /usr/local/go/src/cmd/dist/util.go:150 +0x148\r\ncreated by main.bginit\r\n        /usr/local/go/src/cmd/dist/util.go:143 +0x58\r\n```\r\n\u003c/details\u003e\r\n\r\n===\r\n\r\nNext is compiling package, e.g. `gb`.\r\n\r\nenv:\r\n- `$GOROOT=/usr/local/bootstrap/go/go1.7rc3`\r\n - Because `/usr/local/go/bin/go` was broken.\r\n- `which clang`:\r\n - `/Applications/Xcode-beta.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/clang`\r\n\r\n\u003cdetails\u003e\r\n\u003csummary\u003e3. `go get -u -v -x github.com/constabulary/gb/...`:\u003c/summary\u003e\r\n```sh\r\n\u003e go get -u -v -x github.com/constabulary/gb/...\r\ncd /Users/zchee/go/src/github.com/constabulary/gb\r\ngit config remote.origin.url\r\ngithub.com/constabulary/gb (download)\r\ncd /Users/zchee/go/src/github.com/constabulary/gb\r\ngit pull --ff-only\r\ncd /Users/zchee/go/src/github.com/constabulary/gb\r\ngit submodule update --init --recursive\r\ncd /Users/zchee/go/src/github.com/constabulary/gb\r\ngit show-ref\r\ncd /Users/zchee/go/src/github.com/constabulary/gb\r\ngit submodule update --init --recursive\r\ncd /Users/zchee/go/src/github.com/constabulary/gb\r\ngit config remote.origin.url\r\ncd /Users/zchee/go/src/github.com/constabulary/gb\r\ngit config remote.origin.url\r\ncd /Users/zchee/go/src/github.com/pkg/errors\r\ngit config remote.origin.url\r\ngithub.com/pkg/errors (download)\r\ncd /Users/zchee/go/src/github.com/pkg/errors\r\ngit pull --ff-only\r\ncd /Users/zchee/go/src/github.com/pkg/errors\r\ngit submodule update --init --recursive\r\ncd /Users/zchee/go/src/github.com/pkg/errors\r\ngit show-ref\r\ncd /Users/zchee/go/src/github.com/pkg/errors\r\ngit submodule update --init --recursive\r\ncd /Users/zchee/go/src/github.com/constabulary/gb\r\ngit config remote.origin.url\r\ncd /Users/zchee/go/src/github.com/constabulary/gb\r\ngit config remote.origin.url\r\ncd /Users/zchee/go/src/github.com/constabulary/gb\r\ngit config remote.origin.url\r\ncd /Users/zchee/go/src/github.com/constabulary/gb\r\ngit config remote.origin.url\r\ncd /Users/zchee/go/src/github.com/constabulary/gb\r\ngit config remote.origin.url\r\ncd /Users/zchee/go/src/github.com/constabulary/gb\r\ngit config remote.origin.url\r\ncd /Users/zchee/go/src/github.com/constabulary/gb\r\ngit config remote.origin.url\r\ncd /Users/zchee/go/src/github.com/constabulary/gb\r\ngit config remote.origin.url\r\ncd /Users/zchee/go/src/github.com/constabulary/gb\r\ngit config remote.origin.url\r\nWORK=/var/folders/kb/8855kjqx63723nzsgmmy7z2c0000gn/T/go-build045534630\r\ngithub.com/constabulary/gb/internal/debug\r\ngithub.com/pkg/errors\r\nmkdir -p $WORK/github.com/constabulary/gb/internal/debug/_obj/\r\nmkdir -p $WORK/github.com/constabulary/gb/internal/\r\nmkdir -p $WORK/github.com/pkg/errors/_obj/\r\ncd /Users/zchee/go/src/github.com/constabulary/gb/internal/debug\r\n/usr/local/bootstrap/go/go1.7rc3/pkg/tool/darwin_amd64/compile -o $WORK/github.com/constabulary/gb/internal/debug.a -trimpath $WORK -p github.com/constabulary/gb/internal/debug -complete -buildid 9b964ef02ba1d8dd9d0be9bca5eb78eadf7b91cf -D _/Users/zchee/go/src/github.com/constabulary/gb/internal/debug -I $WORK -pack ./debug.go\r\nmkdir -p $WORK/github.com/pkg/\r\ncd /Users/zchee/go/src/github.com/pkg/errors\r\n/usr/local/bootstrap/go/go1.7rc3/pkg/tool/darwin_amd64/compile -o $WORK/github.com/pkg/errors.a -trimpath $WORK -p github.com/pkg/errors -complete -buildid 6d19a46070aedcc80955b67f997c8d9ad7d253cb -D _/Users/zchee/go/src/github.com/pkg/errors -I $WORK -pack ./errors.go ./stack.go\r\nmkdir -p /Users/zchee/go/pkg/darwin_amd64/github.com/constabulary/gb/internal/\r\nmv $WORK/github.com/constabulary/gb/internal/debug.a /Users/zchee/go/pkg/darwin_amd64/github.com/constabulary/gb/internal/debug.a\r\ngithub.com/constabulary/gb/cmd/gb/internal/match\r\nmkdir -p $WORK/github.com/constabulary/gb/cmd/gb/internal/match/_obj/\r\nmkdir -p $WORK/github.com/constabulary/gb/cmd/gb/internal/\r\ncd /Users/zchee/go/src/github.com/constabulary/gb/cmd/gb/internal/match\r\n/usr/local/bootstrap/go/go1.7rc3/pkg/tool/darwin_amd64/compile -o $WORK/github.com/constabulary/gb/cmd/gb/internal/match.a -trimpath $WORK -p github.com/constabulary/gb/cmd/gb/internal/match -complete -buildid 56998acc2092330ce0791344f88aa7fd1345f9a1 -D _/Users/zchee/go/src/github.com/constabulary/gb/cmd/gb/internal/match -I $WORK -I /Users/zchee/go/pkg/darwin_amd64 -pack ./match.go\r\nmkdir -p /Users/zchee/go/pkg/darwin_amd64/github.com/pkg/\r\nmv $WORK/github.com/pkg/errors.a /Users/zchee/go/pkg/darwin_amd64/github.com/pkg/errors.a\r\ngithub.com/constabulary/gb/internal/depfile\r\nmkdir -p $WORK/github.com/constabulary/gb/internal/depfile/_obj/\r\ngithub.com/constabulary/gb/internal/fileutils\r\ngithub.com/constabulary/gb/internal/importer\r\nmkdir -p $WORK/github.com/constabulary/gb/internal/importer/_obj/\r\ngithub.com/constabulary/gb/internal/untar\r\ncd /Users/zchee/go/src/github.com/constabulary/gb/internal/depfile\r\n/usr/local/bootstrap/go/go1.7rc3/pkg/tool/darwin_amd64/compile -o $WORK/github.com/constabulary/gb/internal/depfile.a -trimpath $WORK -p github.com/constabulary/gb/internal/depfile -complete -buildid f16f14c25062772213962cbb22fe57090971c042 -D _/Users/zchee/go/src/github.com/constabulary/gb/internal/depfile -I $WORK -I /Users/zchee/go/pkg/darwin_amd64 -pack ./depfile.go\r\nmkdir -p $WORK/github.com/constabulary/gb/internal/fileutils/_obj/\r\ncd /Users/zchee/go/src/github.com/constabulary/gb/internal/importer\r\n/usr/local/bootstrap/go/go1.7rc3/pkg/tool/darwin_amd64/compile -o $WORK/github.com/constabulary/gb/internal/importer.a -trimpath $WORK -p github.com/constabulary/gb/internal/importer -complete -buildid d542980787150603d85fde7108d9048ff4db6f3c -D _/Users/zchee/go/src/github.com/constabulary/gb/internal/importer -I $WORK -I /Users/zchee/go/pkg/darwin_amd64 -pack ./build.go ./importer.go ./pkg.go ./read.go ./util.go\r\ncd /Users/zchee/go/src/github.com/constabulary/gb/internal/fileutils\r\n/usr/local/bootstrap/go/go1.7rc3/pkg/tool/darwin_amd64/compile -o $WORK/github.com/constabulary/gb/internal/fileutils.a -trimpath $WORK -p github.com/constabulary/gb/internal/fileutils -complete -buildid 29ab0211a61049ec7d3f2c501a648d95c479ec38 -D _/Users/zchee/go/src/github.com/constabulary/gb/internal/fileutils -I $WORK -I /Users/zchee/go/pkg/darwin_amd64 -pack ./fileutils.go\r\nmkdir -p $WORK/github.com/constabulary/gb/internal/untar/_obj/\r\ncd /Users/zchee/go/src/github.com/constabulary/gb/internal/untar\r\n/usr/local/bootstrap/go/go1.7rc3/pkg/tool/darwin_amd64/compile -o $WORK/github.com/constabulary/gb/internal/untar.a -trimpath $WORK -p github.com/constabulary/gb/internal/untar -complete -buildid 11bf98c221dcc0a8424522c29b13594388e217ee -D _/Users/zchee/go/src/github.com/constabulary/gb/internal/untar -I $WORK -I /Users/zchee/go/pkg/darwin_amd64 -pack ./untar.go\r\nmkdir -p /Users/zchee/go/pkg/darwin_amd64/github.com/constabulary/gb/cmd/gb/internal/\r\nmv $WORK/github.com/constabulary/gb/cmd/gb/internal/match.a /Users/zchee/go/pkg/darwin_amd64/github.com/constabulary/gb/cmd/gb/internal/match.a\r\nmv $WORK/github.com/constabulary/gb/internal/depfile.a /Users/zchee/go/pkg/darwin_amd64/github.com/constabulary/gb/internal/depfile.a\r\nmv $WORK/github.com/constabulary/gb/internal/fileutils.a /Users/zchee/go/pkg/darwin_amd64/github.com/constabulary/gb/internal/fileutils.a\r\ngithub.com/constabulary/gb/internal/vendor\r\nmkdir -p $WORK/github.com/constabulary/gb/internal/vendor/_obj/\r\ncd /Users/zchee/go/src/github.com/constabulary/gb/internal/vendor\r\n/usr/local/bootstrap/go/go1.7rc3/pkg/tool/darwin_amd64/compile -o $WORK/github.com/constabulary/gb/internal/vendor.a -trimpath $WORK -p github.com/constabulary/gb/internal/vendor -complete -buildid be0d8aac15a3f40e39b31d911c8ab60fc00f50f2 -D _/Users/zchee/go/src/github.com/constabulary/gb/internal/vendor -I $WORK -I /Users/zchee/go/pkg/darwin_amd64 -pack ./depset.go ./discovery.go ./imports.go ./manifest.go ./repo.go ./stringset.go\r\nmv $WORK/github.com/constabulary/gb/internal/untar.a /Users/zchee/go/pkg/darwin_amd64/github.com/constabulary/gb/internal/untar.a\r\nmv $WORK/github.com/constabulary/gb/internal/importer.a /Users/zchee/go/pkg/darwin_amd64/github.com/constabulary/gb/internal/importer.a\r\ngithub.com/constabulary/gb\r\nmkdir -p $WORK/github.com/constabulary/gb/_obj/\r\nmkdir -p $WORK/github.com/constabulary/\r\ncd /Users/zchee/go/src/github.com/constabulary/gb\r\n/usr/local/bootstrap/go/go1.7rc3/pkg/tool/darwin_amd64/compile -o $WORK/github.com/constabulary/gb.a -trimpath $WORK -p github.com/constabulary/gb -complete -buildid 7cda6a80533514420defd9e737ae3156e9848547 -D _/Users/zchee/go/src/github.com/constabulary/gb -I $WORK -I /Users/zchee/go/pkg/darwin_amd64 -pack ./build.go ./cgo.go ./context.go ./defaultcc_bsd.go ./depfile.go ./executor.go ./gb.go ./gc.go ./goversion16.go ./install.go ./package.go ./project.go ./resolver.go\r\nmv $WORK/github.com/constabulary/gb/internal/vendor.a /Users/zchee/go/pkg/darwin_amd64/github.com/constabulary/gb/internal/vendor.a\r\nmkdir -p /Users/zchee/go/pkg/darwin_amd64/github.com/constabulary/\r\nmv $WORK/github.com/constabulary/gb.a /Users/zchee/go/pkg/darwin_amd64/github.com/constabulary/gb.a\r\ngithub.com/constabulary/gb/cmd\r\nmkdir -p $WORK/github.com/constabulary/gb/cmd/_obj/\r\nmkdir -p $WORK/github.com/constabulary/gb/\r\ngithub.com/constabulary/gb/test\r\nmkdir -p $WORK/github.com/constabulary/gb/test/_obj/\r\ncd /Users/zchee/go/src/github.com/constabulary/gb/cmd\r\n/usr/local/bootstrap/go/go1.7rc3/pkg/tool/darwin_amd64/compile -o $WORK/github.com/constabulary/gb/cmd.a -trimpath $WORK -p github.com/constabulary/gb/cmd -complete -buildid 8ee13c5256811a9d4415670d0ae1757e81779244 -D _/Users/zchee/go/src/github.com/constabulary/gb/cmd -I $WORK -I /Users/zchee/go/pkg/darwin_amd64 -pack ./cmd.go ./env.go ./path.go\r\ncd /Users/zchee/go/src/github.com/constabulary/gb/test\r\n/usr/local/bootstrap/go/go1.7rc3/pkg/tool/darwin_amd64/compile -o $WORK/github.com/constabulary/gb/test.a -trimpath $WORK -p github.com/constabulary/gb/test -complete -buildid f2d3cd257ab2d6e1bda7e6671b46290d4bf3c834 -D _/Users/zchee/go/src/github.com/constabulary/gb/test -I $WORK -I /Users/zchee/go/pkg/darwin_amd64 -pack ./gotest.go ./resolve.go ./test.go\r\nmkdir -p /Users/zchee/go/pkg/darwin_amd64/github.com/constabulary/gb/\r\nmv $WORK/github.com/constabulary/gb/cmd.a /Users/zchee/go/pkg/darwin_amd64/github.com/constabulary/gb/cmd.a\r\ngithub.com/constabulary/gb/cmd/gb-vendor\r\nmkdir -p $WORK/github.com/constabulary/gb/cmd/gb-vendor/_obj/\r\nmkdir -p $WORK/github.com/constabulary/gb/cmd/gb-vendor/_obj/exe/\r\ncd /Users/zchee/go/src/github.com/constabulary/gb/cmd/gb-vendor\r\n/usr/local/bootstrap/go/go1.7rc3/pkg/tool/darwin_amd64/compile -o $WORK/github.com/constabulary/gb/cmd/gb-vendor.a -trimpath $WORK -p main -complete -buildid 014ba2ae1a703b55611bc3bb81828bc380ac6569 -D _/Users/zchee/go/src/github.com/constabulary/gb/cmd/gb-vendor -I $WORK -I /Users/zchee/go/pkg/darwin_amd64 -pack ./alldocs.go ./delete.go ./fetch.go ./help.go ./list.go ./main.go ./purge.go ./restore.go ./update.go\r\nfatal error: systemstack called from unexpected goroutine\r\nfatal error: systemstack called from unexpected goroutine\r\nfatal error: systemstack called from unexpected goroutine\r\nfatal error: systemstack called from unexpected goroutine\r\nfatal error: systemstack called from unexpected goroutine\r\nfatal error: systemstack called from unexpected goroutine\r\nfatal error: systemstack called from unexpected goroutine\r\nfatal error: systemstack called from unexpected goroutine\r\nfatal error: systemstack called from unexpected goroutine\r\n.\r\n.\r\n.\r\nfatal error: systemstack called from unexpected goroutine\r\nfatal error: systemstack called from unexpected goroutine\r\nfatal error: systemstack called from unexpected goroutine\r\nfatal error: systemstack called from unexpected goroutine\r\nfatal error: systemstack called from unexpected goroutine\r\nfatal error: systemstack called from unexpected goroutine\r\nfatal error: systemstack called from unexpected goroutine\r\nfatal error: systemstack called from unexpected goroutine\r\nfatal error: systemstack called from unexpected goroutine\r\nfatal error: systemstack called from unexpected goroutine\r\nfatal error: systemstack called from unexpected goroutine\r\nfatal error: systemstack called from unexpected goroutine\r\nfatal error: systemstack called from unexpected goroutine# github.com/constabulary/gb/cmd/gb-vendor\r\nunexpected fault address 0x2a5c8903d6d\r\nfatal error: fault\r\n[signal SIGSEGV: segmentation violation code=0x1 addr=0x2a5c8903d6d pc=0x2c83a2]\r\n\r\ngoroutine 1 [running]:\r\nruntime.throw(0x4f03bc, 0x5)\r\n        /usr/local/go/src/runtime/panic.go:566 +0x95 fp=0xc420c6de70 sp=0xc420c6de50\r\nruntime.sigpanic()\r\n        /usr/local/go/src/runtime/sigpanic_unix.go:27 +0x288 fp=0xc420c6dec8 sp=0xc420c6de70\r\ncmd/compile/internal/ssa.(*Config).Log(0x2a5c8903d25, 0xc403714578)\r\n        /usr/local/go/src/cmd/compile/internal/ssa/config.go:199 +0x22 fp=0xc420c6dee8 sp=0xc420c6dec8\r\ncmd/compile/internal/ssa.(*Func).Log(0xc42001c960, 0xc403714578)\r\n        /usr/local/go/src/cmd/compile/internal/ssa/func.go:396 +0x2e fp=0xc420c6df08 sp=0xc420c6dee8\r\ncmd/compile/internal/ssa.Compile(0xc42001c960)\r\n        /usr/local/go/src/cmd/compile/internal/ssa/compile.go:68 +0x355 fp=0xc420c71608 sp=0xc420c6df08\r\ncmd/compile/internal/gc.buildssa(0xc4206a1c20, 0x0)\r\n        /usr/local/go/src/cmd/compile/internal/gc/ssa.go:232 +0xc53 fp=0xc420c718e0 sp=0xc420c71608\r\ncmd/compile/internal/gc.compile(0xc4206a1c20)\r\n        /usr/local/go/src/cmd/compile/internal/gc/pgen.go:405 +0x1363 fp=0xc420c71b90 sp=0xc420c718e0\r\ncmd/compile/internal/gc.funccompile(0xc4206a1c20)\r\n        /usr/local/go/src/cmd/compile/internal/gc/dcl.go:1287 +0x186 fp=0xc420c71c08 sp=0xc420c71b90\r\ncmd/compile/internal/gc.Main()\r\n        /usr/local/go/src/cmd/compile/internal/gc/main.go:467 +0x19f8 fp=0xc420c71e50 sp=0xc420c71c08\r\ncmd/compile/internal/amd64.Main()\r\n        /usr/local/go/src/cmd/compile/internal/amd64/galign.go:93 +0x2fa fp=0xc420c71e88 sp=0xc420c71e50\r\nmain.main()\r\n        /usr/local/go/src/cmd/compile/main.go:33 +0x2a3 fp=0xc420c71f18 sp=0xc420c71e88\r\nruntime.main()\r\n        /usr/local/go/src/runtime/proc.go:183 +0x1f4 fp=0xc420c71f70 sp=0xc420c71f18\r\nruntime.goexit()\r\n        /usr/local/go/src/runtime/asm_amd64.s:2086 +0x1 fp=0xc420c71f78 sp=0xc420c71f70\r\nfatal error: systemstack called from unexpected goroutine\r\nfatal error: systemstack called from unexpected goroutine\r\nfatal error: systemstack called from unexpected goroutine\r\nfatal error: systemstack called from unexpected goroutine\r\nfatal error: systemstack called from unexpected goroutine\r\nfatal error: systemstack called from unexpected goroutine\r\nfatal error: systemstack called from unexpected goroutine\r\nfatal error: systemstack called from unexpected goroutine\r\nfatal error: systemstack called from unexpected goroutine\r\nfatal error: systemstack called from unexpected goroutine\r\nfatal error: systemstack called from unexpected goroutine\r\nfatal error: systemstack called from unexpected goroutine\r\n.\r\n.\r\n.\r\n# endless......\r\n```\r\n\u003c/details\u003e\r\n\r\n===\r\n\r\nFinally, use `peco` cli tools.\r\n\r\nhttps://asciinema.org/a/81537\r\n```sh\r\nruntime: newstack sp=0xc420033f00 stack=[0x376cad98ec7, 0xc420033fe0]\r\n        morebuf={pc:0x2525c sp:0xc420033f10 lr:0x0}\r\n        sched={pc:0x257d0 sp:0xc420033f08 lr:0x0 ctxt:0x0}\r\nruntime: gp=0xc420069ba0, gp-\u003estatus=0x2\r\n runtime: split stack overflow: 0xc420033f00 \u003c 0x376cad98ec7\r\nfatal error: runtime: split stack overflow\r\nruntime: newstack sp=0xc420033700 stack=[0x376cad9c134, 0xc4200337e0]\r\n        morebuf={pc:0x253c8 sp:0xc420033710 lr:0x0}\r\n        sched={pc:0x23f70 sp:0xc420033708 lr:0x0 ctxt:0x0}\r\nruntime: gp=0xc420069a00, gp-\u003estatus=0x2\r\n runtime: split stack overflow: 0xc420033700 \u003c 0x376cad9c134\r\nfatal error: runtime: split stack overflow\r\nruntime: newstack sp=0xc420036f38 stack=[0x376cada72cf, 0xc420036fe0]\r\n        morebuf={pc:0x21cad sp:0xc420036f48 lr:0x0}\r\n        sched={pc:0x25100 sp:0xc420036f40 lr:0x0 ctxt:0x0}\r\nruntime: gp=0xc420000ea0, gp-\u003estatus=0x2\r\n runtime: split stack overflow: 0xc420036f38 \u003c 0x376cada72cf\r\nfatal error: runtime: split stack overflow\r\n```\r\n\r\nor\r\n\r\n```sh\r\nfatal error: systemstack called from unexpected goroutine\r\n```\r\n\r\n===\r\n\r\nI don't know why to occur that error and go runtime source, but I think related goroutine.\r\nBecause If does not use the goroutine (than `main`) cli tool, does not occur. such as `gotype`.\r\n\r\n---\r\n\r\n4 . What did you expect?\r\nBuild the go binary to complete successfully, also package.\r\nand use go compiled tools successfully.\r\n\r\n5 . What did you see instead?\r\nbuild, compile, use cli.\r\n",
	"user": {
		"login": "zchee",
		"id": 6366270,
		"type": "User",
		"site_admin": false
	},
	"labels": [
		{
			"name": "OS-Darwin"
		}
	],
	"assignee": {
		"login": "ianlancetaylor",
		"id": 3194333,
		"type": "User",
		"site_admin": false
	},
	"comments": 32,
	"closed_at": "2016-08-02T20:18:12Z",
	"created_at": "2016-08-02T04:34:22Z",
	"updated_at": "2016-10-23T00:15:33Z",
	"milestone": {
		"id": 1944056,
		"number": 44,
		"title": "Go1.7.1"
	},
	"reactions": {
		"total_count": 1,
		"+1": 1
	}
}
