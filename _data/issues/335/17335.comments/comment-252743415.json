{
	"id": 252743415,
	"body": "I see this issue was marked as a duplicate of #17182 and the problem was resolved because of GOBOOTSTRAP error while building the Go distribution. But I am seeing this panic consistently after upgrading to MacOS Sierra and trying to build fuchsia. This panic consistently occurs when the mojom tool tries to generate Go bindings. I am not building a Go distribution at all.\r\n\r\nThe mojom_tool.py is wrapper over the correct binaries, Linux or MacOS, for the mojom tool written in Go.\r\n\r\n/usr/bin/env ../../mojo/public/tools/bindings/mojom_tool.py gen --src-root-path ../../ -I ../../ -I ../../ --output-dir /Users/shakeel/google/fuchsia/out/debug-x86-64/gen --no-gen-imports --generators legacy,c,go --gen-arg dart_ignore-package-annotations ../../mojo/public/interfaces/bindings/tests/versioning_test_client.mojom\r\nfailed MSpanList_Insert 0x4320d0 0x1d9fe141a5ec0 0x0 0x0\r\nfatal error: MSpanList_Insert\r\n\r\nruntime stack:\r\nruntime.throw(0x2a1af0, 0x10)\r\n\t/ssd/fuchsia/buildtools/linux64/go/src/runtime/panic.go:530 +0x90\r\nruntime.(*mSpanList).insert(0x3c3ec8, 0x4320d0)\r\n\t/ssd/fuchsia/buildtools/linux64/go/src/runtime/mheap.go:933 +0x293\r\nruntime.(*mheap).freeSpanLocked(0x3c36c0, 0x4320d0, 0x100, 0x0)\r\n\t/ssd/fuchsia/buildtools/linux64/go/src/runtime/mheap.go:809 +0x4be\r\nruntime.(*mheap).grow(0x3c36c0, 0x80, 0x0)\r\n\t/ssd/fuchsia/buildtools/linux64/go/src/runtime/mheap.go:675 +0x2a0\r\nruntime.(*mheap).allocSpanLocked(0x3c36c0, 0x80, 0xc81ffcdc00)\r\n\t/ssd/fuchsia/buildtools/linux64/go/src/runtime/mheap.go:553 +0x4e3\r\nruntime.(*mheap).alloc_m(0x3c36c0, 0x80, 0x100000000, 0x3c5790)\r\n\t/ssd/fuchsia/buildtools/linux64/go/src/runtime/mheap.go:437 +0x119\r\nruntime.(*mheap).alloc.func1()\r\n\t/ssd/fuchsia/buildtools/linux64/go/src/runtime/mheap.go:502 +0x41\r\nruntime.systemstack(0xc820039ee0)\r\n\t/ssd/fuchsia/buildtools/linux64/go/src/runtime/asm_amd64.s:307 +0xab\r\nruntime.(*mheap).alloc(0x3c36c0, 0x80, 0x10100000000, 0x1ce1c)\r\n\t/ssd/fuchsia/buildtools/linux64/go/src/runtime/mheap.go:503 +0x63\r\nruntime.largeAlloc(0x100000, 0x1, 0x20)\r\n\t/ssd/fuchsia/buildtools/linux64/go/src/runtime/malloc.go:766 +0xb3\r\nruntime.mallocgc.func3()\r\n\t/ssd/fuchsia/buildtools/linux64/go/src/runtime/malloc.go:664 +0x33\r\nruntime.systemstack(0xc8200016c0)\r\n\t/ssd/fuchsia/buildtools/linux64/go/src/runtime/asm_amd64.s:291 +0x79\r\nruntime.mstart()\r\n\t/ssd/fuchsia/buildtools/linux64/go/src/runtime/proc.go:1048\r\n\r\ngoroutine 1 [running]:\r\nruntime.systemstack_switch()\r\n\t/ssd/fuchsia/buildtools/linux64/go/src/runtime/asm_amd64.s:245 fp=0xc82004c968 sp=0xc82004c960\r\nruntime.mallocgc(0x100000, 0x1c2260, 0x1, 0xc820619590)\r\n\t/ssd/fuchsia/buildtools/linux64/go/src/runtime/malloc.go:665 +0x9eb fp=0xc82004ca40 sp=0xc82004c968\r\nruntime.newarray(0x1c2260, 0x20000, 0xc820619590)\r\n\t/ssd/fuchsia/buildtools/linux64/go/src/runtime/malloc.go:798 +0xc9 fp=0xc82004ca80 sp=0xc82004ca40\r\nruntime.makeslice(0x1b8de0, 0x20000, 0x20000, 0x0, 0x0, 0x0)\r\n\t/ssd/fuchsia/buildtools/linux64/go/src/runtime/slice.go:32 +0x165 fp=0xc82004cad0 sp=0xc82004ca80\r\ncompress/flate.(*compressor).init(0xc82061b0e0, 0x485ee8, 0xc820626230, 0x9, 0x0, 0x0)\r\n\t/ssd/fuchsia/buildtools/linux64/go/src/compress/flate/deflate.go:410 +0x849 fp=0xc82004cc68 sp=0xc82004cad0\r\ncompress/flate.NewWriter(0x485ee8, 0xc820626230, 0x9, 0xa, 0x0, 0x0)\r\n\t/ssd/fuchsia/buildtools/linux64/go/src/compress/flate/deflate.go:487 +0x64 fp=0xc82004cca8 sp=0xc82004cc68\r\ncompress/gzip.(*Writer).Write(0xc820644000, 0xc82063e000, 0x28d8, 0x3000, 0x0, 0x0, 0x0)\r\n\t/ssd/fuchsia/buildtools/linux64/go/src/compress/gzip/gzip.go:211 +0x528 fp=0xc82004cd68 sp=0xc82004cca8\r\nmojom/mojom_tool/serialization.translateMojomFile(0xc820018240, 0xc820612d80, 0xc820064540, 0x60, 0xc820018258, 0xc820612048, 0xc820613520, 0x0, 0xc820613560, 0xc820613580, ...)\r\n\t/ssd/fuchsia/mojom/src/mojom/mojom_tool/serialization/serialization.go:243 +0x1610 fp=0xc82004d510 sp=0xc82004cd68\r\nmojom/mojom_tool/serialization.translateDescriptor(0xc820062070, 0x1)\r\n\t/ssd/fuchsia/mojom/src/mojom/mojom_tool/serialization/serialization.go:109 +0x4ca fp=0xc82004d840 sp=0xc82004d510\r\nmojom/mojom_tool/serialization.serialize(0xc820062070, 0x1010100, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0)\r\n\t/ssd/fuchsia/mojom/src/mojom/mojom_tool/serialization/serialization.go:62 +0xc7 fp=0xc82004d8e0 sp=0xc82004d840\r\nmojom/mojom_tool/serialization.Serialize(0xc820062070, 0xc82000a100, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0)\r\n\t/ssd/fuchsia/mojom/src/mojom/mojom_tool/serialization/serialization.go:42 +0x75 fp=0xc82004d930 sp=0xc82004d8e0\r\nmain.parse(0xc82000a1f0, 0x1, 0x1, 0xc82000e3e0, 0x2, 0x2, 0xc82004dd80, 0x0, 0x0, 0x0, ...)\r\n\t/ssd/fuchsia/mojom/src/mojom/mojom_tool/parse_cmd.go:118 +0x5ba fp=0xc82004db70 sp=0xc82004d930\r\nmain.genCmd(0xc82000a100, 0x10, 0x10)\r\n\t/ssd/fuchsia/mojom/src/mojom/mojom_tool/gen_cmd.go:119 +0x614 fp=0xc82004de10 sp=0xc82004db70\r\nmain.(*commandSet).RunCommand(0xc82000e140, 0xc82000a100, 0x10, 0x10)\r\n\t/ssd/fuchsia/mojom/src/mojom/mojom_tool/mojom_main.go:98 +0x514 fp=0xc82004def8 sp=0xc82004de10\r\nmain.main()\r\n\t/ssd/fuchsia/mojom/src/mojom/mojom_tool/mojom_main.go:36 +0x1c7 fp=0xc82004df40 sp=0xc82004def8\r\nruntime.main()\r\n\t/ssd/fuchsia/buildtools/linux64/go/src/runtime/proc.go:188 +0x2b0 fp=0xc82004df90 sp=0xc82004df40\r\nruntime.goexit()\r\n\t/ssd/fuchsia/buildtools/linux64/go/src/runtime/asm_amd64.s:1998 +0x1 fp=0xc82004df98 sp=0xc82004df90\r\n[674/7323] ACTION //mojo/public/interfaces/binding...terfaces__generator(//build/toolchain/fuchsia:x64)\r\nninja: build stopped: subcommand failed.",
	"user": {
		"login": "shakeel",
		"id": 19921,
		"type": "User",
		"site_admin": false
	},
	"created_at": "2016-10-10T20:54:25Z",
	"updated_at": "2016-10-10T21:07:15Z"
}
