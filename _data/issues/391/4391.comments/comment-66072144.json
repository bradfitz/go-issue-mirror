{
	"id": 66072144,
	"body": "\u003ca id=\"c2\"\u003e\u003c/a\u003eComment 2:\n\n\u003cpre\u003eAlright so I said \"mostly\". That's because in a real app (my fork of godit, with suspend\nsupport \u003ca href=\"https://github.com/tv42/godit/tree/suspend\"\u003ehttps://github.com/tv42/godit/tree/suspend\u003c/a\u003e -- depends on my fork of termbox-go),\nif I look at the process with `strace -ff -p \"$(pidof godit)\"`, after I hit control-Z,\nthe rest of the threads seem to start busy looping.\n\nI don't currently know if this is triggered purely by strace; the CPU usage doesn't\nspike significantly.\n\nAlso, this might just mean the app needs to catch SIGTTIN -- but what should it do?\n\n[pid 23688] --- SIGTTIN (Stopped (tty input)) @ 0 (0) ---\n[pid 23689] --- SIGTTIN (Stopped (tty input)) @ 0 (0) ---\n[pid 23688] restart_syscall(\u0026lt;... resuming interrupted call ...\u0026gt; \u0026lt;unfinished\n...\u0026gt;\n[pid 23689] --- SIGTTIN (Stopped (tty input)) @ 0 (0) ---\n[pid 23691] \u0026lt;... futex resumed\u0026gt; )       = ? ERESTARTSYS (To be restarted)\n[pid 23690] \u0026lt;... futex resumed\u0026gt; )       = ? ERESTARTSYS (To be restarted)\n[pid 23691] --- SIGTTIN (Stopped (tty input)) @ 0 (0) ---\n[pid 23690] --- SIGTTIN (Stopped (tty input)) @ 0 (0) ---\n[pid 23691] futex(0xf84005fc28, FUTEX_WAIT, 0, NULL \u0026lt;unfinished ...\u0026gt;\n[pid 23690] futex(0x586678, FUTEX_WAIT, 0, NULL \u0026lt;unfinished ...\u0026gt;\n[pid 23689] read(4,  \u0026lt;unfinished ...\u0026gt;\n[pid 23688] \u0026lt;... restart_syscall resumed\u0026gt; ) = ? ERESTART_RESTARTBLOCK (To be\nrestarted)\n[pid 23689] \u0026lt;... read resumed\u0026gt; 0xf8400cf000, 128) = ? ERESTARTSYS (To be restarted)\n[pid 23688] --- SIGTTIN (Stopped (tty input)) @ 0 (0) ---\n[pid 23689] --- SIGTTIN (Stopped (tty input)) @ 0 (0) ---\n[pid 23688] restart_syscall(\u0026lt;... resuming interrupted call ...\u0026gt; \u0026lt;unfinished\n...\u0026gt;\n[pid 23689] --- SIGTTIN (Stopped (tty input)) @ 0 (0) ---\n[pid 23691] \u0026lt;... futex resumed\u0026gt; )       = ? ERESTARTSYS (To be restarted)\n[pid 23690] \u0026lt;... futex resumed\u0026gt; )       = ? ERESTARTSYS (To be restarted)\n[pid 23691] --- SIGTTIN (Stopped (tty input)) @ 0 (0) ---\n[pid 23690] --- SIGTTIN (Stopped (tty input)) @ 0 (0) ---\n[pid 23691] futex(0xf84005fc28, FUTEX_WAIT, 0, NULL \u0026lt;unfinished ...\u0026gt;\n[pid 23690] futex(0x586678, FUTEX_WAIT, 0, NULL \u0026lt;unfinished ...\u0026gt;\n[pid 23689] read(4,  \u0026lt;unfinished ...\u0026gt;\n[pid 23688] \u0026lt;... restart_syscall resumed\u0026gt; ) = ? ERESTART_RESTARTBLOCK (To be\nrestarted)\n[pid 23689] \u0026lt;... read resumed\u0026gt; 0xf8400cf000, 128) = ? ERESTARTSYS (To be restarted)\n[pid 23688] --- SIGTTIN (Stopped (tty input)) @ 0 (0) ---\n[pid 23689] --- SIGTTIN (Stopped (tty input)) @ 0 (0) ---\n[pid 23688] restart_syscall(\u0026lt;... resuming interrupted call ...\u0026gt; \u0026lt;unfinished\n...\u0026gt;\n[pid 23689] --- SIGTTIN (Stopped (tty input)) @ 0 (0) ---\n[pid 23691] \u0026lt;... futex resumed\u0026gt; )       = ? ERESTARTSYS (To be restarted)\n[pid 23690] \u0026lt;... futex resumed\u0026gt; )       = ? ERESTARTSYS (To be restarted)\n[pid 23691] --- SIGTTIN (Stopped (tty input)) @ 0 (0) ---\n[pid 23690] --- SIGTTIN (Stopped (tty input)) @ 0 (0) ---\n[pid 23691] futex(0xf84005fc28, FUTEX_WAIT, 0, NULL \u0026lt;unfinished ...\u0026gt;\n[pid 23690] futex(0x586678, FUTEX_WAIT, 0, NULL \u0026lt;unfinished ...\u0026gt;\n[pid 23689] read(4,  \u0026lt;unfinished ...\u0026gt;\n[pid 23688] \u0026lt;... restart_syscall resumed\u0026gt; ) = ? ERESTART_RESTARTBLOCK (To be\nrestarted)\n[pid 23689] \u0026lt;... read resumed\u0026gt; 0xf8400cf000, 128) = ? ERESTARTSYS (To be restarted)\n[pid 23688] --- SIGTTIN (Stopped (tty input)) @ 0 (0) ---\n[pid 23689] --- SIGTTIN (Stopped (tty input)) @ 0 (0) ---\n[pid 23688] restart_syscall(\u0026lt;... resuming interrupted call ...\u0026gt; \u0026lt;unfinished\n...\u0026gt;\n[pid 23689] --- SIGTTIN (Stopped (tty input)) @ 0 (0) ---\n[pid 23691] \u0026lt;... futex resumed\u0026gt; )       = ? ERESTARTSYS (To be restarted)\n[pid 23690] \u0026lt;... futex resumed\u0026gt; )       = ? ERESTARTSYS (To be restarted)\n[pid 23691] --- SIGTTIN (Stopped (tty input)) @ 0 (0) ---\n[pid 23690] --- SIGTTIN (Stopped (tty input)) @ 0 (0) ---\n[pid 23691] futex(0xf84005fc28, FUTEX_WAIT, 0, NULL \u0026lt;unfinished ...\u0026gt;\n[pid 23690] futex(0x586678, FUTEX_WAIT, 0, NULL \u0026lt;unfinished ...\u0026gt;\n[pid 23689] read(4,  \u0026lt;unfinished ...\u0026gt;\n[pid 23688] \u0026lt;... restart_syscall resumed\u0026gt; ) = ? ERESTART_RESTARTBLOCK (To be\nrestarted)\n[pid 23689] \u0026lt;... read resumed\u0026gt; 0xf8400cf000, 128) = ? ERESTARTSYS (To be restarted)\n[pid 23688] --- SIGTTIN (Stopped (tty input)) @ 0 (0) ---\n[pid 23689] --- SIGTTIN (Stopped (tty input)) @ 0 (0) ---\n[pid 23688] restart_syscall(\u0026lt;... resuming interrupted call ...\u0026gt; \u0026lt;unfinished\n...\u0026gt;\n[pid 23689] --- SIGTTIN (Stopped (tty input)) @ 0 (0) ---\n[pid 23691] \u0026lt;... futex resumed\u0026gt; )       = ? ERESTARTSYS (To be restarted)\n[pid 23690] \u0026lt;... futex resumed\u0026gt; )       = ? ERESTARTSYS (To be restarted)\n[pid 23691] --- SIGTTIN (Stopped (tty input)) @ 0 (0) ---\n[pid 23690] --- SIGTTIN (Stopped (tty input)) @ 0 (0) ---\n[pid 23691] futex(0xf84005fc28, FUTEX_WAIT, 0, NULL \u0026lt;unfinished ...\u0026gt;\u003c/pre\u003e",
	"user": {
		"login": "gopherbot",
		"id": 8566911,
		"type": "User",
		"site_admin": false
	},
	"created_at": "2012-11-15T22:06:11Z",
	"updated_at": "2014-12-22T06:20:40Z"
}
