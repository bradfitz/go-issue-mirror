{
	"id": 223102634,
	"body": "Small repro case.\r\na.go:\r\n```\r\npackage a\r\ntype Error error\r\nfunc F() Error { return nil }\r\n```\r\nb.go:\r\n```\r\npackage b\r\nimport _ \"./a\"\r\n```\r\nThen compile and typecheck:\r\n```\r\n$ go tool compile a.go \u0026\u0026 gotype b.go\r\npanic: types.Named.SetUnderlying: underlying type must not be *Named [recovered]\r\n\tpanic: types.Named.SetUnderlying: underlying type must not be *Named [recovered]\r\n\tpanic: types.Named.SetUnderlying: underlying type must not be *Named\r\n\r\ngoroutine 1 [running]:\r\npanic(0x21d480, 0xc4200726f0)\r\n\t/Users/gri/go/src/runtime/panic.go:500 +0x1a1\r\nmain.checkPkgFiles.func2()\r\n\t/Users/gri/go/src/go/types/gotype.go:274 +0x69\r\npanic(0x21d480, 0xc4200726f0)\r\n\t/Users/gri/go/src/runtime/panic.go:458 +0x243\r\ngo/types.(*Checker).handleBailout(0xc4200d01c0, 0xc420039d70)\r\n\t/Users/gri/go/src/go/types/check.go:213 +0xae\r\npanic(0x21d480, 0xc4200726f0)\r\n\t/Users/gri/go/src/runtime/panic.go:458 +0x243\r\ngo/types.(*Named).SetUnderlying(0xc420076a80, 0x376560, 0xc4200767e0)\r\n\t/Users/gri/go/src/go/types/type.go:418 +0x95\r\ngo/internal/gcimporter.(*importer).typ(0xc4200ca0c0, 0x0, 0x1a1afa, 0xc4200ca0c0)\r\n\t/Users/gri/go/src/go/internal/gcimporter/bimport.go:292 +0x274\r\ngo/internal/gcimporter.(*importer).obj(0xc4200ca0c0, 0xfffffffffffffffd)\r\n\t/Users/gri/go/src/go/internal/gcimporter/bimport.go:187 +0x74f\r\ngo/internal/gcimporter.BImportData(0xc420076960, 0xc4200d5000, 0x5be, 0xe00, 0xc42007269f, 0x1, 0x0, 0x1, 0x8, 0x2)\r\n\t/Users/gri/go/src/go/internal/gcimporter/bimport.go:86 +0x34c\r\ngo/internal/gcimporter.Import(0xc420076960, 0xc420072638, 0x3, 0x26ec1c, 0x1, 0x0, 0x0, 0x0)\r\n\t/Users/gri/go/src/go/internal/gcimporter/gcimporter.go:166 +0x551\r\ngo/importer.gcimports.ImportFrom(0xc420076960, 0xc420072638, 0x3, 0x26ec1c, 0x1, 0x0, 0x0, 0x1, 0x0)\r\n\t/Users/gri/go/src/go/importer/importer.go:70 +0x67\r\ngo/types.(*Checker).collectObjects(0xc4200d01c0)\r\n\t/Users/gri/go/src/go/types/resolver.go:191 +0x81d\r\ngo/types.(*Checker).checkFiles(0xc4200d01c0, 0xc4200a0048, 0x1, 0x1, 0x0, 0x0)\r\n\t/Users/gri/go/src/go/types/check.go:225 +0xaa\r\ngo/types.(*Checker).Files(0xc4200d01c0, 0xc4200a0048, 0x1, 0x1, 0xc4200769c0, 0x4e7f0)\r\n\t/Users/gri/go/src/go/types/check.go:218 +0x49\r\ngo/types.(*Config).Check(0xc4200a4780, 0x26eec5, 0x3, 0xc4200a4680, 0xc4200a0048, 0x1, 0x1, 0x0, 0x2e25, 0xc42000a210, ...)\r\n\t/Users/gri/go/src/go/types/api.go:344 +0x19f\r\nmain.checkPkgFiles(0xc4200a0048, 0x1, 0x1)\r\n\t/Users/gri/go/src/go/types/gotype.go:279 +0x1b5\r\nmain.main()\r\n\t/Users/gri/go/src/go/types/gotype.go:314 +0x1d1\r\n```\r\n\r\n",
	"user": {
		"login": "griesemer",
		"id": 8528975,
		"type": "User",
		"site_admin": false
	},
	"created_at": "2016-06-01T19:42:30Z",
	"updated_at": "2016-06-01T19:42:30Z"
}
