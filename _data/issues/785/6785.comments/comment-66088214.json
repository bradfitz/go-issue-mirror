{
	"id": 66088214,
	"body": "\u003ca id=\"c6\"\u003e\u003c/a\u003eComment 6 by **surajn.vnit**:\n\n\u003cpre\u003eJust wanted to check if this is planned anytime soon. Ran into similar issue - at scale\nlooks like there is high contention on the semaphore for PutIdleConn and GetIdleConn. \n\n316 @ 0x415989 0x415a0b 0x429eee 0x42a130 0x49ad56 0x45056e 0x450ab8 0x44ef26 0x43390d\n0x4330db 0x43456f 0x433bbf 0x400e4f 0x415c20\n#\t0x42a130\tsync.runtime_Semacquire+0x30\t\t\t/usr/local/go/src/pkg/runtime/sema.goc:199\n#\t0x49ad56\tsync.(*Mutex).Lock+0xd6\t\t\t\t/usr/local/go/src/pkg/sync/mutex.go:66\n#\t0x45056e\tnet/http.(*Transport).getIdleConn+0x9e\t\t/usr/local/go/src/pkg/net/http/transport.go:402\n#\t0x450ab8\tnet/http.(*Transport).getConn+0xa8\t\t/usr/local/go/src/pkg/net/http/transport.go:452\n#\t0x44ef26\tnet/http.(*Transport).RoundTrip+0x416\t\t/usr/local/go/src/pkg/net/http/transport.go:201\n#\t0x43390d\tnet/http.send+0x43d\t\t\t\t/usr/local/go/src/pkg/net/http/client.go:195\n#\t0x4330db\tnet/http.(*Client).send+0x15b\t\t\t/usr/local/go/src/pkg/net/http/client.go:118\n#\t0x43456f\tnet/http.(*Client).doFollowingRedirects+0x97f\t/usr/local/go/src/pkg/net/http/client.go:343\n#\t0x433bbf\tnet/http.(*Client).Get+0xaf\t\t\t/usr/local/go/src/pkg/net/http/client.go:275\n#\t0x400e4f\tmain.startClient+0x16f\t\t\t\t/home/adsteam/go_workspace/src/suraj.narkhede/stresstester/main.go:48\n\n347 @ 0x415989 0x415a0b 0x429eee 0x42a130 0x49ad56 0x44fd5e 0x455b87 0x454c1b 0x454931\n0x483291 0x480f6d 0x400f0b 0x415c20\n#\t0x42a130\tsync.runtime_Semacquire+0x30\t\t/usr/local/go/src/pkg/runtime/sema.goc:199\n#\t0x49ad56\tsync.(*Mutex).Lock+0xd6\t\t\t/usr/local/go/src/pkg/sync/mutex.go:66\n#\t0x44fd5e\tnet/http.(*Transport).putIdleConn+0xce\t/usr/local/go/src/pkg/net/http/transport.go:342\n#\t0x455b87\tnet/http.funcÂ·023+0x97\t\t\t/usr/local/go/src/pkg/net/http/transport.go:853\n#\t0x454c1b\tnet/http.(*bodyEOFSignal).condfn+0xab\t/usr/local/go/src/pkg/net/http/transport.go:1161\n#\t0x454931\tnet/http.(*bodyEOFSignal).Read+0x321\t/usr/local/go/src/pkg/net/http/transport.go:1133\n#\t0x483291\tio/ioutil.devNull.ReadFrom+0xb1\t\t/usr/local/go/src/pkg/io/ioutil/ioutil.go:151\n#\t0x480f6d\tio.Copy+0x13d\t\t\t\t/usr/local/go/src/pkg/io/io.go:349\n#\t0x400f0b\tmain.startClient+0x22b\t\t\t/home/adsteam/go_workspace/src/suraj.narkhede/stresstester/main.go:55\n\nI have written a simple load tool in go (to evaluate go's http client performance) -\n\u003ca href=\"http://play.golang.org/p/MA-a2ZAVNe\"\u003ehttp://play.golang.org/p/MA-a2ZAVNe\u003c/a\u003e.\u003c/pre\u003e",
	"user": {
		"login": "gopherbot",
		"id": 8566911,
		"type": "User",
		"site_admin": false
	},
	"created_at": "2014-09-11T21:21:37Z",
	"updated_at": "2014-12-08T10:37:45Z"
}
