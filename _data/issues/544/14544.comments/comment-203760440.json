{
	"id": 203760440,
	"body": "got it to work adding to patchset 3:\r\n\r\nexport CGO_LDFLAGS=\"-L /usr/local/lib/gcc48 -rpath /usr/local/lib/gcc48/\"\r\n\r\nthe path /usr/local/lib/gcc48 is the path reported by $(dirname $($FC -print-file-name=libgfortran.${SFX}))\r\n\r\n```\r\n+ set -e\r\n+ FC=gfortran\r\n++ uname\r\n+ [[ FreeBSD == \\D\\a\\r\\w\\i\\n ]]\r\n+ SFX=so\r\n+ case \"$FC\" in\r\n+++ gfortran -print-file-name=libgfortran.so\r\n++ dirname /usr/local/lib/gcc48/gcc/x86_64-portbld-freebsd10.1/4.8.5/../../../libgfortran.so\r\n+ export LIBRARY_PATH=/usr/local/lib/gcc48/gcc/x86_64-portbld-freebsd10.1/4.8.5/../../..\r\n+ LIBRARY_PATH=/usr/local/lib/gcc48/gcc/x86_64-portbld-freebsd10.1/4.8.5/../../..\r\n+ gfortran helloworld/helloworld.f90 -o main.exe\r\n+ rm -f main.exe\r\n+ export 'CGO_LDFLAGS=-L /usr/local/lib/gcc48 -rpath /usr/local/lib/gcc48/'\r\n+ CGO_LDFLAGS='-L /usr/local/lib/gcc48 -rpath /usr/local/lib/gcc48/'\r\n+ go test -x\r\nWORK=/tmp/go-build910922033\r\nmkdir -p $WORK/_/home/martisch/go/misc/cgo/fortran/_test/_/home/martisch/go/misc/cgo/\r\nmkdir -p $WORK/_/home/martisch/go/misc/cgo/fortran/_test/_obj_test/\r\ncd /home/martisch/go/misc/cgo/fortran\r\nCGO_LDFLAGS=\"-L\" \"/usr/local/lib/gcc48\" \"-rpath\" \"/usr/local/lib/gcc48/\" \"-lgfortran\" /home/martisch/go/pkg/tool/freebsd_amd64/cgo -objdir $WORK/_/home/martisch/go/misc/cgo/fortran/_test/_obj_test/ -importpath _/home/martisch/go/misc/cgo/fortran -- -I $WORK/_/home/martisch/go/misc/cgo/fortran/_test/_obj_test/ fortran.go\r\ncd $WORK\r\nclang -fdebug-prefix-map=a=b -c trivial.c\r\nclang -gno-record-gcc-switches -c trivial.c\r\ncd /home/martisch/go/misc/cgo/fortran\r\nclang -I . -fPIC -m64 -pthread -fno-caret-diagnostics -Qunused-arguments -fmessage-length=0 -gno-record-gcc-switches -I $WORK/_/home/martisch/go/misc/cgo/fortran/_test/_obj_test/ -g -O2 -o $WORK/_/home/martisch/go/misc/cgo/fortran/_test/_obj_test/_cgo_main.o -c $WORK/_/home/martisch/go/misc/cgo/fortran/_test/_obj_test/_cgo_main.c\r\nclang -I . -fPIC -m64 -pthread -fno-caret-diagnostics -Qunused-arguments -fmessage-length=0 -gno-record-gcc-switches -I $WORK/_/home/martisch/go/misc/cgo/fortran/_test/_obj_test/ -g -O2 -o $WORK/_/home/martisch/go/misc/cgo/fortran/_test/_obj_test/_cgo_export.o -c $WORK/_/home/martisch/go/misc/cgo/fortran/_test/_obj_test/_cgo_export.c\r\nclang -I . -fPIC -m64 -pthread -fno-caret-diagnostics -Qunused-arguments -fmessage-length=0 -gno-record-gcc-switches -I $WORK/_/home/martisch/go/misc/cgo/fortran/_test/_obj_test/ -g -O2 -o $WORK/_/home/martisch/go/misc/cgo/fortran/_test/_obj_test/fortran.cgo2.o -c $WORK/_/home/martisch/go/misc/cgo/fortran/_test/_obj_test/fortran.cgo2.c\r\ngfortran -I . -fPIC -m64 -pthread -fmessage-length=0 -gno-record-gcc-switches -I $WORK/_/home/martisch/go/misc/cgo/fortran/_test/_obj_test/ -g -O2 -o $WORK/_/home/martisch/go/misc/cgo/fortran/_test/_obj_test/answer.f90.o -c ./answer.f90\r\nclang -I . -fPIC -m64 -pthread -fno-caret-diagnostics -Qunused-arguments -fmessage-length=0 -gno-record-gcc-switches -o $WORK/_/home/martisch/go/misc/cgo/fortran/_test/_obj_test/_cgo_.o $WORK/_/home/martisch/go/misc/cgo/fortran/_test/_obj_test/_cgo_main.o $WORK/_/home/martisch/go/misc/cgo/fortran/_test/_obj_test/_cgo_export.o $WORK/_/home/martisch/go/misc/cgo/fortran/_test/_obj_test/fortran.cgo2.o $WORK/_/home/martisch/go/misc/cgo/fortran/_test/_obj_test/answer.f90.o -L /usr/local/lib/gcc48 -rpath /usr/local/lib/gcc48/ -lgfortran\r\n/home/martisch/go/pkg/tool/freebsd_amd64/cgo -objdir $WORK/_/home/martisch/go/misc/cgo/fortran/_test/_obj_test/ -dynpackage fortran -dynimport $WORK/_/home/martisch/go/misc/cgo/fortran/_test/_obj_test/_cgo_.o -dynout $WORK/_/home/martisch/go/misc/cgo/fortran/_test/_obj_test/_cgo_import.go\r\ncd $WORK\r\nclang -no-pie -c trivial.c\r\ncd /home/martisch/go/misc/cgo/fortran\r\nclang -I . -fPIC -m64 -pthread -fno-caret-diagnostics -Qunused-arguments -fmessage-length=0 -gno-record-gcc-switches -o $WORK/_/home/martisch/go/misc/cgo/fortran/_test/_obj_test/_all.o $WORK/_/home/martisch/go/misc/cgo/fortran/_test/_obj_test/_cgo_export.o $WORK/_/home/martisch/go/misc/cgo/fortran/_test/_obj_test/fortran.cgo2.o $WORK/_/home/martisch/go/misc/cgo/fortran/_test/_obj_test/answer.f90.o -L /usr/local/lib/gcc48 -rpath /usr/local/lib/gcc48/ -Wl,-r -nostdlib\r\n/home/martisch/go/pkg/tool/freebsd_amd64/compile -o $WORK/_/home/martisch/go/misc/cgo/fortran/_test/_/home/martisch/go/misc/cgo/fortran.a -trimpath $WORK -p _/home/martisch/go/misc/cgo/fortran -buildid 436a583347a18a1c2ae28fa32fc3b617d4a0fa51 -D _/home/martisch/go/misc/cgo/fortran -I $WORK -pack ./fortran_test.go $WORK/_/home/martisch/go/misc/cgo/fortran/_test/_obj_test/_cgo_gotypes.go $WORK/_/home/martisch/go/misc/cgo/fortran/_test/_obj_test/fortran.cgo1.go $WORK/_/home/martisch/go/misc/cgo/fortran/_test/_obj_test/_cgo_import.go\r\npack r $WORK/_/home/martisch/go/misc/cgo/fortran/_test/_/home/martisch/go/misc/cgo/fortran.a $WORK/_/home/martisch/go/misc/cgo/fortran/_test/_obj_test/_all.o # internal\r\nmkdir -p $WORK/_/home/martisch/go/misc/cgo/fortran/_test/\r\ncd $WORK/_/home/martisch/go/misc/cgo/fortran/_test\r\n/home/martisch/go/pkg/tool/freebsd_amd64/compile -o ./main.a -trimpath $WORK -p main -complete -D \"\" -I . -I $WORK -pack ./_testmain.go\r\ncd .\r\n/home/martisch/go/pkg/tool/freebsd_amd64/link -o $WORK/_/home/martisch/go/misc/cgo/fortran/_test/fortran.test -L $WORK/_/home/martisch/go/misc/cgo/fortran/_test -L $WORK -w -extld=clang -buildmode=exe $WORK/_/home/martisch/go/misc/cgo/fortran/_test/main.a\r\n$WORK/_/home/martisch/go/misc/cgo/fortran/_test/fortran.test\r\nPASS\r\nok  \t_/home/martisch/go/misc/cgo/fortran\t0.003s\r\n+ exit\r\n```",
	"user": {
		"login": "martisch",
		"id": 184995,
		"type": "User",
		"site_admin": false
	},
	"created_at": "2016-03-31T05:36:55Z",
	"updated_at": "2016-03-31T05:36:55Z"
}
