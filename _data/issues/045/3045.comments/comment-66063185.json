{
	"id": 66063185,
	"body": "\u003ca id=\"c3\"\u003e\u003c/a\u003eComment 3:\n\n\u003cpre\u003eI don't know what's going on.  Please try making these changes to\nsrc/pkg/net/smtp/smtp.go:\n\n\ndiff -r b984f2b4aa91 src/pkg/net/smtp/smtp.go\n--- a/src/pkg/net/smtp/smtp.go\tThu Feb 16 22:04:13 2012 -0500\n+++ b/src/pkg/net/smtp/smtp.go\tFri Feb 17 09:26:15 2012 -0500\n@@ -11,6 +11,7 @@\n package smtp\n\n import (\n+\"fmt\"\n \t\"crypto/tls\"\n \t\"encoding/base64\"\n \t\"io\"\n@@ -66,6 +67,7 @@\n\n // cmd is a convenience function that sends a command and returns the response\n func (c *Client) cmd(expectCode int, format string, args\n...interface{}) (int, string, error) {\n+fmt.Printf(\"\u0026gt; %s\\n\", fmt.Sprintf(format, args...))\n \tid, err := c.Text.Cmd(format, args...)\n \tif err != nil {\n \t\treturn 0, \"\", err\n@@ -73,6 +75,10 @@\n \tc.Text.StartResponse(id)\n \tdefer c.Text.EndResponse(id)\n \tcode, msg, err := c.Text.ReadResponse(expectCode)\n+fmt.Printf(\"\u0026lt; %d %s\\n\", code, msg)\n+if err != nil {\n+\tfmt.Printf(\"ERR: %v\\n\", err)\n+}\n \treturn code, msg, err\n }\n\nWhen I run this program with those changes:\n\n\npackage main\n\nimport (\n\t\"fmt\"\n\t\"net/smtp\"\n)\n\nfunc main() {\n\tauth := smtp.PlainAuth(\n\t\t\"\",\n\t\t\"fake@account\",\n\t\t\"password\",\n\t\t\"smtp.gmail.com\",\n\t)\n\terr := smtp.SendMail(\"smtp.gmail.com:587\",\n\t\tauth,\n\t\t\"rsc@rsc.swtch.com\",\n\t\t[]string{\"rsc@rsc.swtch.com\"},\n\t\t[]byte(\"Here is a message.\"),\n\t)\n\tfmt.Println(err)\n}\n\nI get this output:\n\n$ go run x.go\n\n\u0026lt; 250 mx.google.com at your service, [24.61.14.197]\nSIZE 35882577\n8BITMIME\nSTARTTLS\nENHANCEDSTATUSCODES\n\n\u0026lt; 220 2.0.0 Ready to start TLS\n\n\u0026lt; 250 mx.google.com at your service, [24.61.14.197]\nSIZE 35882577\n8BITMIME\nAUTH LOGIN PLAIN XOAUTH\nENHANCEDSTATUSCODES\n\n\u0026lt; 535 5.7.1 Username and Password not accepted. Learn more at\n5.7.1 \u003ca href=\"http://support.google.com/mail/bin/answer.py?answer=14257\"\u003ehttp://support.google.com/mail/bin/answer.py?answer=14257\u003c/a\u003e\nfj4sm6777173vdb.22\n\n\u0026lt; 530 5.5.1 Authentication Required. Learn more at\nERR: 530 5.5.1 Authentication Required. Learn more at\n530 5.5.1 Authentication Required. Learn more at\n$\n\nMaybe the trace you get will be enough to identify\nwhy AUTH is not being sent or being rejected.\n\nRuss\u003c/pre\u003e",
	"user": {
		"login": "rsc",
		"id": 104030,
		"type": "User",
		"site_admin": false
	},
	"created_at": "2012-02-17T14:27:55Z",
	"updated_at": "2014-12-22T06:10:04Z"
}
