{
	"id": 252303199,
	"body": "I wonder how compiler behaves if allocate is inside main?\n\n\nSent from my T-Mobile 4G LTE Device-------- Original message --------From: David Crawshaw \u003cnotifications@github.com\u003e Date: 10/7/2016  07:39  (GMT-08:00) To: golang/go \u003cgo@noreply.github.com\u003e Subject: [golang/go] cmd/compile: large arrays cause large binaries and\n  toolchain errors (#17378) \nOn tip, go version devel +0db9518 Fri Oct 7 03:46:50 2016 +0000 darwin/amd64:\n\n$ cat j.go \npackage main\n\nvar x = [1 \u003c\u003c 30]byte{0: 1}\n\nfunc main() {\n    println(x[0])\n}\n$ go build j.go\n$ ls -l j\n-rwxr-xr-x  1 crawshaw  eng  1074669392 Oct  7 10:34 j\n\n\nBumping 1\u003c\u003c30 to 1\u003c\u003c31 turns it into a linker error:\n\n~$ go build j.go \n# command-line-arguments\nmain.x: symbol too large (2147483648 bytes)\ntoo much data in section SNOPTRDATA (over 2000000000 bytes)\ntoo much data in section SDATA (over 2000000000 bytes)\ntoo much data in section SBSS (over 2000000000 bytes)\ntoo much data in section SNOPTRBSS (over 2000000000 bytes)\nmain.init: pc-relative relocation address for main.initdone· is too big: 0x800ad36a\nmain.init: pc-relative relocation address for main.initdone· is too big: 0x800ad355\nruntime.alginit: pc-relative relocation address for runtime.cpuid_ecx is too big: 0x800ac585\nruntime.alginit: pc-relative relocation address for runtime.hashkey is too big: 0x800ac72d\nruntime.alginit: pc-relative relocation address for runtime.hashkey is too big: 0x800ac70b\nruntime.alginit: pc-relative relocation address for runtime.hashkey is too big: 0x800ac700\nruntime.alginit: pc-relative relocation address for runtime.hashkey is too big: 0x800ac701\nruntime.alginit: pc-relative relocation address for runtime.hashkey is too big: 0x800ac6f6\nruntime.alginit: pc-relative relocation address for runtime.hashkey is too big: 0x800ac6f7\nruntime.alginit: pc-relative relocation address for runtime.hashkey is too big: 0x800ac6ec\nruntime.alginit: pc-relative relocation address for runtime.hashkey is too big: 0x800ac6ed\nruntime.alginit: pc-relative relocation address for runtime.hashkey is too big: 0x800ac6e2\nruntime.alginit: pc-relative relocation address for runtime.useAeshash is too big: 0x800ac4ea\nruntime.alginit: pc-relative relocation address for runtime.algarray is too big: 0x80091a0b\nruntime.alginit: pc-relative relocation address for runtime.algarray is too big: 0x80091a0d\nruntime.alginit: pc-relative relocation address for runtime.algarray is too big: 0x80091a1f\n/Users/crawshaw/go/pkg/tool/darwin_amd64/link: too many errors\n\n\n—\nYou are receiving this because you are subscribed to this thread.\nReply to this email directly, view it on GitHub, or mute the thread.\n\n\n  \n  \n\n\n\n\n{\"api_version\":\"1.0\",\"publisher\":{\"api_key\":\"05dde50f1d1a384dd78767c55493e4bb\",\"name\":\"GitHub\"},\"entity\":{\"external_key\":\"github/golang/go\",\"title\":\"golang/go\",\"subtitle\":\"GitHub repository\",\"main_image_url\":\"https://cloud.githubusercontent.com/assets/143418/17495839/a5054eac-5d88-11e6-95fc-7290892c7bb5.png\",\"avatar_image_url\":\"https://cloud.githubusercontent.com/assets/143418/15842166/7c72db34-2c0b-11e6-9aed-b52498112777.png\",\"action\":{\"name\":\"Open in GitHub\",\"url\":\"https://github.com/golang/go\"}},\"updates\":{\"snippets\":[{\"icon\":\"DESCRIPTION\",\"message\":\"cmd/compile: large arrays cause large binaries and toolchain errors (#17378)\"}],\"action\":{\"name\":\"View Issue\",\"url\":\"https://github.com/golang/go/issues/17378\"}}}",
	"user": {
		"login": "mrjrieke",
		"id": 20530495,
		"type": "User",
		"site_admin": false
	},
	"created_at": "2016-10-07T16:49:09Z",
	"updated_at": "2016-10-07T16:49:09Z"
}
