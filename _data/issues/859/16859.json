{
	"id": 172866828,
	"number": 16859,
	"state": "closed",
	"title": "x/tools/go: inconsistent  import panic",
	"body": "Please answer these questions before submitting your issue. Thanks!\r\n\r\n1. What version of Go are you using (`go version`)?\r\n\r\n`go version devel +00b779a Wed Aug 17 03:12:29 2016 +0000 linux/amd64`\r\n\r\n2. What operating system and processor architecture are you using (`go env`)?\r\n\r\n```\r\nGOARCH=\"amd64\"\r\nGOBIN=\"\"\r\nGOEXE=\"\"\r\nGOHOSTARCH=\"amd64\"\r\nGOHOSTOS=\"linux\"\r\nGOOS=\"linux\"\r\nGOPATH=\"/home/tw/golib\"\r\nGORACE=\"\"\r\nGOROOT=\"/home/tw/goroot\"\r\nGOTOOLDIR=\"/home/tw/goroot/pkg/tool/linux_amd64\"\r\nCC=\"gcc\"\r\nGOGCCFLAGS=\"-fPIC -m64 -pthread -fmessage-length=0 -fdebug-prefix-map=/tmp/go-build623787547=/tmp/go-build -gno-record-gcc-switches\"\r\nCXX=\"g++\"\r\nCGO_ENABLED=\"1\"\r\n```\r\n\r\n3. What did you do?\r\n\r\n`golint github.com/mholt/caddy/caddyhttp/proxy`\r\n\r\n\r\n4. What did you expect to see?\r\n\r\nNo errors.\r\n\r\n5. What did you see instead?\r\n\r\nPanic sometimes:\r\n\r\n```\r\npanic: inconsistent import:\r\n        func errors.New(text string) error\r\npreviously imported as:\r\n        func errors.New(text string) error\r\n [recovered]\r\n        panic: inconsistent import:\r\n        func errors.New(text string) error\r\npreviously imported as:\r\n        func errors.New(text string) error\r\n\r\n\r\ngoroutine 1 [running]:\r\npanic(0x602c00, 0xc4203982b0)\r\n        /home/tw/goroot/src/runtime/panic.go:500 +0x1a0\r\ngo/types.(*Checker).handleBailout(0xc4201d6000, 0xc4200455d0)\r\n        /home/tw/goroot/src/go/types/check.go:213 +0xae\r\npanic(0x602c00, 0xc4203982b0)\r\n        /home/tw/goroot/src/runtime/panic.go:458 +0x241\r\ngolang.org/x/tools/go/gcimporter15.(*importer).declare(0xc4201d6380, 0x7400c0, 0xc420428460)\r\n        /home/tw/golib/src/golang.org/x/tools/go/gcimporter15/bimport.go:195 +0x17c\r\ngolang.org/x/tools/go/gcimporter15.(*importer).obj(0xc4201d6380, 0xfffffffffffffffb)\r\n        /home/tw/golib/src/golang.org/x/tools/go/gcimporter15/bimport.go:223 +0x4ca\r\ngolang.org/x/tools/go/gcimporter15.BImportData(0xc420203800, 0xc4201cd170, 0xc420159000, 0xb78, 0xe00, 0xc42015e9d9, 0x6, 0x6, 0xb82076f2ae5f2a8a, 0xa, ...)\r\n        /home/tw/golib/src/golang.org/x/tools/go/gcimporter15/bimport.go:108 +0x3dc\r\ngolang.org/x/tools/go/gcimporter15.Import(0xc4201cd170, 0xc42015e9d9, 0x6, 0xc4200bc730, 0x39, 0xc4202b5400, 0x0, 0x0)\r\n        /home/tw/golib/src/golang.org/x/tools/go/gcimporter15/gcimporter.go:178 +0x5d7\r\ngithub.com/golang/lint.importer.ImportFrom(0x66be98, 0xc4201cd170, 0xc42015e9d9, 0x6, 0xc4200bc730, 0x39, 0x0, 0x628bc0, 0x73d001, 0x7ff82c67f0f0)\r\n        /home/tw/golib/src/github.com/golang/lint/lint16.go:16 +0x58\r\ngithub.com/golang/lint.(*importer).ImportFrom(0xc4201d2070, 0xc42015e9d9, 0x6, 0xc4200bc730, 0x39, 0x0, 0x2, 0x4, 0x0)\r\n        \u003cautogenerated\u003e:5 +0x97\r\ngo/types.(*Checker).collectObjects(0xc4201d6000)\r\n        /home/tw/goroot/src/go/types/resolver.go:196 +0x825\r\ngo/types.(*Checker).checkFiles(0xc4201d6000, 0xc420181100, 0x9, 0x10, 0x0, 0x0)\r\n        /home/tw/goroot/src/go/types/check.go:225 +0xaa\r\ngo/types.(*Checker).Files(0xc4201d6000, 0xc420181100, 0x9, 0x10, 0xc4201cd260, 0xc420181100)\r\n        /home/tw/goroot/src/go/types/check.go:218 +0x49\r\ngo/types.(*Config).Check(0xc4201d4000, 0xc420013697, 0x5, 0xc420015880, 0xc420181100, 0x9, 0x10, 0xc4201c5b80, 0xc42017d010, 0xc42017cfa8, ...)\r\n        /home/tw/goroot/src/go/types/api.go:344 +0x1a3\r\ngithub.com/golang/lint.(*pkg).typeCheck(0xc4200bcaf0, 0x44f4b0, 0x8100000000000038)\r\n        /home/tw/golib/src/github.com/golang/lint/lint.go:274 +0x40a\r\ngithub.com/golang/lint.(*pkg).lint(0xc4200bcaf0, 0xc4200c0720, 0xc420101908, 0xc420101900)\r\n        /home/tw/golib/src/github.com/golang/lint/lint.go:130 +0x40\r\ngithub.com/golang/lint.(*Linter).LintFiles(0xc420045a30, 0xc420045ad0, 0xc42003daa8, 0xc42003dab8, 0x1a1e, 0x0, 0x0)\r\n        /home/tw/golib/src/github.com/golang/lint/lint.go:110 +0x6ef\r\nmain.lintFiles(0xc420017400, 0x9, 0xa)\r\n        /home/tw/golib/src/github.com/golang/lint/golint/golint.go:92 +0x23c\r\nmain.lintImportedPackage(0xc420072700, 0x0, 0x0)\r\n        /home/tw/golib/src/github.com/golang/lint/golint/golint.go:136 +0x363\r\nmain.lintPackage(0x7ffe8e47e406, 0x26)\r\n        /home/tw/golib/src/github.com/golang/lint/golint/golint.go:112 +0x75\r\nmain.main()\r\n        /home/tw/golib/src/github.com/golang/lint/golint/golint.go:57 +0x1c1\r\n\r\n```\r\n\r\n",
	"user": {
		"login": "tw4452852",
		"id": 587972,
		"type": "User",
		"site_admin": false
	},
	"labels": [
		{
			"name": "WaitingForInfo"
		}
	],
	"assignee": {
		"login": "griesemer",
		"id": 8528975,
		"type": "User",
		"site_admin": false
	},
	"comments": 4,
	"closed_at": "2016-08-26T21:12:21Z",
	"created_at": "2016-08-24T05:23:19Z",
	"updated_at": "2016-08-26T21:12:21Z",
	"milestone": {
		"id": 1709363,
		"number": 38,
		"title": "Go1.8"
	}
}
