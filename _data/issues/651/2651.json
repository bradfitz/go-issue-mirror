{
	"id": 51279516,
	"number": 2651,
	"state": "closed",
	"title": "net/http: TestStreamingGet timeout on Windows 7",
	"body": "by **reddooots**:\n\n\u003cpre\u003eWhat steps will reproduce the problem?\nrun \u0026quot;gotest -test.short -test.v -test.timeout=120 -test.run=TestStream\u0026quot; in\nnet/http\n\nWhat is the expected output?\nThe test to pass\n\nWhat do you see instead?\n$ gotest -test.short -test.v -test.timeout=120 -test.run=TestStream\nrm -f _test/net/http.a\nrm -f _test/net/http.a\ngopack grc _test/net/http.a _gotest_.8\n=== RUN http_test.TestStreamingGet\npanic: test timed out\n\ngoroutine 9 [running]:\ntesting.alarm()\n        c:/Users/Jared/MinGW/go/src/pkg/testing/testing.go:362 +0x43\ncreated by time.goFunc\n        c:/Users/Jared/MinGW/go/src/pkg/time/sleep.go:94 +0x41\n\ngoroutine 1 [chan receive]:\ntesting.RunTests(0x401000, 0x715450, 0x5e, 0x5e, 0x1b1701, ...)\n        c:/Users/Jared/MinGW/go/src/pkg/testing/testing.go:276 +0x663\ntesting.Main(0x401000, 0x715450, 0x5e, 0x5e, 0x704a84, ...)\n        c:/Users/Jared/MinGW/go/src/pkg/testing/testing.go:211 +0x48\nmain.main()\n        c:/Users/Jared/MinGW/go/src/pkg/net/http/_testmain.go:124 +0x50\n\ngoroutine 2 [timer goroutine (idle)]:\ncreated by addtimer\n        c:/Users/Jared/MinGW/go/src/pkg/runtime/ztime_386.c:68\n\ngoroutine 3 [chan receive]:\nnet/http.(*persistConn).roundTrip(0x124d44c0, 0x124df740, 0x0, 0x0, 0x0, ...)\n        c:/Users/Jared/MinGW/go/src/pkg/net/http/transport.go:642 +0x220\nnet/http.(*Transport).RoundTrip(0x124d1420, 0x124f8720, 0x16, 0x0, 0x0, ...)\n        c:/Users/Jared/MinGW/go/src/pkg/net/http/transport.go:158 +0x19f\nnet/http.send(0x124f8720, 0x124e2e40, 0x124d1420, 0x0, 0x0, ...)\n        c:/Users/Jared/MinGW/go/src/pkg/net/http/client.go:128 +0x19c\nnet/http.(*Client).doFollowingRedirects(0x124f9240, 0x124f8720, 0x0, 0x0, 0x0, .\n..)\n        c:/Users/Jared/MinGW/go/src/pkg/net/http/client.go:222 +0x43c\nnet/http.(*Client).Get(0x124f9240, 0x124f9200, 0x16, 0x124f90c0, 0x0, ...)\n        c:/Users/Jared/MinGW/go/src/pkg/net/http/client.go:171 +0x85\nc:/Users/Jared/MinGW/go/src/pkg/net/http/_xtest_.TestStreamingGet(0x124d4540, 0x\ne)\n        c:/Users/Jared/MinGW/go/src/pkg/net/http/client_test.go:251 +0x103\ntesting.tRunner(0x124d4540, 0x7154a4, 0x0)\n        c:/Users/Jared/MinGW/go/src/pkg/testing/testing.go:198 +0x45\ncreated by testing.RunTests\n        c:/Users/Jared/MinGW/go/src/pkg/testing/testing.go:275 +0x646\n\ngoroutine 4 [syscall]:\nsyscall.Syscall6(0x76ced38b, 0x5, 0xdc, 0x124d3a60, 0x124df7a8, ...)\n        c:/Users/Jared/MinGW/go/src/pkg/runtime/zsyscall_windows_386.c:96 +0x49\nsyscall.GetQueuedCompletionStatus(0xdc, 0x124d3a60, 0x124df7a8, 0x124df7a0, 0xff\nffffff, ...)\n        c:/Users/Jared/MinGW/go/src/pkg/syscall/zsyscall_windows_386.go:463 +0x7\n6\nnet.(*resultSrv).Run(0x124df6e0, 0x0)\n        c:/Users/Jared/MinGW/go/src/pkg/net/fd_windows.go:112 +0x86\ncreated by net.startServer\n        c:/Users/Jared/MinGW/go/src/pkg/net/fd_windows.go:209 +0xf1\n\ngoroutine 5 [select]:\nnet.(*ioSrv).ProcessRemoteIO(0x124df6e8, 0x0)\n        c:/Users/Jared/MinGW/go/src/pkg/net/fd_windows.go:143 +0x183\ncreated by net.startServer\n        c:/Users/Jared/MinGW/go/src/pkg/net/fd_windows.go:214 +0x171\n\ngoroutine 6 [chan receive]:\nnet.(*ioSrv).ExecIO(0x124df6e8, 0x124f9c20, 0x124e0360, 0x0, 0x0, ...)\n        c:/Users/Jared/MinGW/go/src/pkg/net/fd_windows.go:189 +0x349\nnet.(*netFD).accept(0x124e7c00, 0x4b79ed, 0x0, 0x0, 0x0, ...)\n        c:/Users/Jared/MinGW/go/src/pkg/net/fd_windows.go:523 +0x24a\nnet.(*TCPListener).AcceptTCP(0x124df708, 0x410f41, 0x0, 0x0)\n        c:/Users/Jared/MinGW/go/src/pkg/net/tcpsock_posix.go:268 +0x55\nnet.(*TCPListener).Accept(0x124df708, 0x0, 0x0, 0x0, 0x0, ...)\n        c:/Users/Jared/MinGW/go/src/pkg/net/tcpsock_posix.go:278 +0x38\nnet/http/httptest.(*historyListener).Accept(0x124f91c0, 0x0, 0x0, 0x0, 0x0, ...)\n\n        c:/Users/Jared/MinGW/go/src/pkg/net/http/httptest/server.go:38 +0x48\nnet/http.(*Server).Serve(0x124d17e0, 0x124f91e0, 0x124f91c0, 0x0, 0x0, ...)\n        c:/Users/Jared/MinGW/go/src/pkg/net/http/server.go:983 +0x56\ncreated by net/http/httptest.(*Server).Start\n        c:/Users/Jared/MinGW/go/src/pkg/net/http/httptest/server.go:96 +0x173\n\ngoroutine 7 [chan receive]:\nnet.(*ioSrv).ExecIO(0x124df6e8, 0x124f9660, 0x124d1b70, 0x0, 0x0, ...)\n        c:/Users/Jared/MinGW/go/src/pkg/net/fd_windows.go:189 +0x349\nnet.(*netFD).Read(0x124e7b80, 0x12501000, 0x1000, 0x1000, 0x0, ...)\n        c:/Users/Jared/MinGW/go/src/pkg/net/fd_windows.go:360 +0x15f\nnet.(*TCPConn).Read(0x124df768, 0x12501000, 0x1000, 0x1000, 0x124df598, ...)\n        c:/Users/Jared/MinGW/go/src/pkg/net/tcpsock_posix.go:74 +0x7a\nbufio.(*Reader).fill(0x124d1990, 0x415bdb)\n        c:/Users/Jared/MinGW/go/src/pkg/bufio/bufio.go:98 +0x114\nbufio.(*Reader).Peek(0x124d1990, 0x1, 0x0, 0x0)\n        c:/Users/Jared/MinGW/go/src/pkg/bufio/bufio.go:123 +0x8a\nnet/http.(*persistConn).readLoop(0x124d44c0, 0x0)\n        c:/Users/Jared/MinGW/go/src/pkg/net/http/transport.go:521 +0x77\ncreated by net/http.(*Transport).getConn\n        c:/Users/Jared/MinGW/go/src/pkg/net/http/transport.go:376 +0x417\n\ngoroutine 8 [chan receive]:\nc:/Users/Jared/MinGW/go/src/pkg/net/http/_xtest_._func_003(0x124df6c8, 0x4234d5,\n 0x124f99a0, 0x124fd150)\n        c:/Users/Jared/MinGW/go/src/pkg/net/http/client_test.go:243 +0x6f\nnet/http.HandlerFunc.ServeHTTP(0x124f90a0, 0x124f99a0, 0x124fd150, 0x12505000, 0\nx124fd150, ...)\n        c:/Users/Jared/MinGW/go/src/pkg/net/http/server.go:688 +0x34\nnet/http.(*conn).serve(0x124fd1b0, 0x0)\n        c:/Users/Jared/MinGW/go/src/pkg/net/http/server.go:654 +0x428\ncreated by net/http.(*Server).Serve\n        c:/Users/Jared/MinGW/go/src/pkg/net/http/server.go:1001 +0x216\ngotest: \u0026quot;./8.out.exe -test.short=true -test.v=true -test.timeout=120 -test.run=T\nestStream\u0026quot; failed: exit status 2\n\nWhich compiler are you using (5g, 6g, 8g, gccgo)?\n8g\n\nWhich operating system are you using?\nWindows 7 64-bit\n\nWhich revision are you using?  (hg identify)\n4a8268927758 weekly/weekly.2011-12-22\n\nPlease provide any additional information below.\nexport USE_GO_TOOL=false was used to build go if it matters.\u003c/pre\u003e",
	"user": {
		"login": "gopherbot",
		"id": 8566911,
		"type": "User",
		"site_admin": false
	},
	"labels": [
		{
			"name": "FrozenDueToAge"
		}
	],
	"comments": 20,
	"closed_at": "2014-12-08T10:14:07Z",
	"created_at": "2012-01-04T00:31:02Z",
	"updated_at": "2016-06-24T21:22:50Z",
	"milestone": {
		"id": 1061233,
		"number": 7,
		"title": "Go1"
	}
}
