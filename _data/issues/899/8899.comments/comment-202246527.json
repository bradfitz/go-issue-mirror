{
	"id": 202246527,
	"body": "That's really weird, on my system it is completely different :-/\n\nThank you nonetheless for taking the time to test it, might be my \"fake\"\natomic value / spinlock.\n\n➜ go test -bench=. -benchmem  -run NONE -cpu 1,4,8 -benchtime 10s\nBenchmarkLFChan         50000000               325 ns/op               8\nB/op          1 allocs/op\nBenchmarkLFChan-4       50000000               270 ns/op               8\nB/op          1 allocs/op\nBenchmarkLFChan-8       50000000               297 ns/op               8\nB/op          1 allocs/op\nBenchmarkChan           50000000               362 ns/op               8\nB/op          1 allocs/op\nBenchmarkChan-4         50000000               383 ns/op               8\nB/op          1 allocs/op\nBenchmarkChan-8         30000000               500 ns/op               8\nB/op          1 allocs/op\n\n\nOn 03/28/2016 07:52 AM, Jon Gjengset wrote:\n\u003e\n\u003e Seems to be doing worse for many cores now:\n\u003e\n\u003e 80core-intel $ perflock go test -bench=. -benchmem -cpu\n\u003e 1,2,4,8,16,32,48,64,72,80 -benchtime 10s\n\u003e PASS\n\u003e BenchmarkLFChan 30000000 624 ns/op 8 B/op 1 allocs/op\n\u003e BenchmarkLFChan-2 10000000 1266 ns/op 8 B/op 1 allocs/op\n\u003e BenchmarkLFChan-4 10000000 2400 ns/op 8 B/op 1 allocs/op\n\u003e BenchmarkLFChan-8 5000000 3423 ns/op 8 B/op 1 allocs/op\n\u003e BenchmarkLFChan-16 5000000 3536 ns/op 8 B/op 1 allocs/op\n\u003e BenchmarkLFChan-32 5000000 3305 ns/op 8 B/op 1 allocs/op\n\u003e BenchmarkLFChan-48 5000000 3674 ns/op 8 B/op 1 allocs/op\n\u003e BenchmarkLFChan-64 3000000 4078 ns/op 8 B/op 1 allocs/op\n\u003e BenchmarkLFChan-72 3000000 4473 ns/op 8 B/op 1 allocs/op\n\u003e BenchmarkLFChan-80 3000000 4539 ns/op 8 B/op 1 allocs/op\n\u003e BenchmarkChan 20000000 742 ns/op 8 B/op 1 allocs/op\n\u003e BenchmarkChan-2 20000000 1161 ns/op 8 B/op 1 allocs/op\n\u003e BenchmarkChan-4 5000000 2412 ns/op 8 B/op 1 allocs/op\n\u003e BenchmarkChan-8 10000000 1791 ns/op 8 B/op 1 allocs/op\n\u003e BenchmarkChan-16 10000000 1966 ns/op 8 B/op 1 allocs/op\n\u003e BenchmarkChan-32 10000000 2386 ns/op 8 B/op 1 allocs/op\n\u003e BenchmarkChan-48 10000000 2338 ns/op 8 B/op 1 allocs/op\n\u003e BenchmarkChan-64 10000000 2281 ns/op 8 B/op 1 allocs/op\n\u003e BenchmarkChan-72 10000000 2298 ns/op 8 B/op 1 allocs/op\n\u003e BenchmarkChan-80 10000000 2512 ns/op 8 B/op 1 allocs/op\n\u003e ok github.com/OneOfOne/lfchan 526.199s\n\u003e 48core-amd $ perflock go test -bench=. -benchmem -cpu 1,2,4,8,16,32,48\n\u003e -benchtime 10s\n\u003e PASS\n\u003e BenchmarkLFChan 20000000 863 ns/op 8 B/op 1 allocs/op\n\u003e BenchmarkLFChan-2 10000000 1345 ns/op 8 B/op 1 allocs/op\n\u003e BenchmarkLFChan-4 10000000 1257 ns/op 8 B/op 1 allocs/op\n\u003e BenchmarkLFChan-8 10000000 1373 ns/op 8 B/op 1 allocs/op\n\u003e BenchmarkLFChan-16 10000000 2270 ns/op 8 B/op 1 allocs/op\n\u003e BenchmarkLFChan-32 5000000 3315 ns/op 8 B/op 1 allocs/op\n\u003e BenchmarkLFChan-48 3000000 5026 ns/op 8 B/op 1 allocs/op\n\u003e BenchmarkChan 20000000 969 ns/op 8 B/op 1 allocs/op\n\u003e BenchmarkChan-2 20000000 1364 ns/op 8 B/op 1 allocs/op\n\u003e BenchmarkChan-4 10000000 1956 ns/op 8 B/op 1 allocs/op\n\u003e BenchmarkChan-8 5000000 2792 ns/op 8 B/op 1 allocs/op\n\u003e BenchmarkChan-16 5000000 2718 ns/op 8 B/op 1 allocs/op\n\u003e BenchmarkChan-32 5000000 2659 ns/op 8 B/op 1 allocs/op\n\u003e BenchmarkChan-48 5000000 3101 ns/op 8 B/op 1 allocs/op\n\u003e ok github.com/OneOfOne/lfchan 358.916s\n\u003e\n\u003e x\n\u003e \u003chttps://cloud.githubusercontent.com/assets/176295/14071848/8ec0d1ee-f487-11e5-9895-9f9fdc8e089b.png\u003e\n\u003e\n\u003e —\n\u003e You are receiving this because you were mentioned.\n\u003e Reply to this email directly or view it on GitHub\n\u003e \u003chttps://github.com/golang/go/issues/8899#issuecomment-202243944\u003e\n\u003e\n\n",
	"user": {
		"login": "OneOfOne",
		"id": 1080443,
		"type": "User",
		"site_admin": false
	},
	"created_at": "2016-03-28T05:59:55Z",
	"updated_at": "2016-03-28T05:59:55Z"
}
