{
	"id": 101798342,
	"number": 12192,
	"state": "closed",
	"title": "runtime: fatal error: stack not a power of 2 when using go 1.4.2",
	"body": "go test passes for Linux but crashes on FreeBSD:\r\n\r\n```\r\ntsgan@bsd:~/go/src/github.com/g3rk6/gopensslproxy % go test -a\r\nfatal error: stack not a power of 2\r\n\r\nruntime stack:\r\nruntime.throw(0xc44084)\r\n\t/home/tsgan/go1.4/src/runtime/panic.go:491 +0xad\r\nruntime.stackfree(0x802c83170, 0xc2080d6000)\r\n\t/home/tsgan/go1.4/src/runtime/stack.c:272 +0x55\r\ngfput(0xc208012000, 0xc2080018c0)\r\n\t/home/tsgan/go1.4/src/runtime/proc.c:2266 +0x84\r\ngoexit0(0xc2080018c0)\r\n\t/home/tsgan/go1.4/src/runtime/proc.c:1716 +0x169\r\nruntime.mcall(0x43d534)\r\n\t/home/tsgan/go1.4/src/runtime/asm_amd64.s:186 +0x5a\r\n\r\ngoroutine 1 [runnable]:\r\ntesting.RunTests(0x907040, 0xc31bc0, 0x18, 0x18, 0x1)\r\n\t/home/tsgan/go1.4/src/testing/testing.go:556 +0xad6\r\ntesting.(*M).Run(0xc20809a5a0, 0xc54a00)\r\n\t/home/tsgan/go1.4/src/testing/testing.go:485 +0x6c\r\nmain.main()\r\n\tgithub.com/g3rk6/gopensslproxy/_test/_testmain.go:100 +0x1d5\r\n\r\ngoroutine 5 [syscall]:\r\nos/signal.loop()\r\n\t/home/tsgan/go1.4/src/os/signal/signal_unix.go:21 +0x1f\r\ncreated by os/signal.initÂ·1\r\n\t/home/tsgan/go1.4/src/os/signal/signal_unix.go:27 +0x35\r\n\r\ngoroutine 11 [IO wait]:\r\nnet.(*pollDesc).Wait(0xc2080ac450, 0x72, 0x0, 0x0)\r\n\t/home/tsgan/go1.4/src/net/fd_poll_runtime.go:84 +0x47\r\nnet.(*pollDesc).WaitRead(0xc2080ac450, 0x0, 0x0)\r\n\t/home/tsgan/go1.4/src/net/fd_poll_runtime.go:89 +0x43\r\nnet.(*netFD).accept(0xc2080ac3f0, 0x0, 0x800c83de0, 0xc20800ba38)\r\n\t/home/tsgan/go1.4/src/net/fd_unix.go:419 +0x40b\r\nnet.(*TCPListener).AcceptTCP(0xc20804e018, 0x0, 0x0, 0x0)\r\n\t/home/tsgan/go1.4/src/net/tcpsock_posix.go:234 +0x4e\r\nnet.(*TCPListener).Accept(0xc20804e018, 0x0, 0x0, 0x0, 0x0)\r\n\t/home/tsgan/go1.4/src/net/tcpsock_posix.go:244 +0x4c\r\nnet/http/httptest.(*historyListener).Accept(0xc2080c5c50, 0x0, 0x0, 0x0, 0x0)\r\n\t/home/tsgan/go1.4/src/net/http/httptest/server.go:48 +0x7a\r\nnet/http.(*Server).Serve(0xc2080b5140, 0x800c85b68, 0xc2080c5c50, 0x0, 0x0)\r\n\t/home/tsgan/go1.4/src/net/http/server.go:1728 +0x92\r\ncreated by net/http/httptest.(*Server).Start\r\n\t/home/tsgan/go1.4/src/net/http/httptest/server.go:109 +0x35e\r\n\r\ngoroutine 10 [IO wait]:\r\nnet.(*pollDesc).Wait(0xc2080acd10, 0x72, 0x0, 0x0)\r\n\t/home/tsgan/go1.4/src/net/fd_poll_runtime.go:84 +0x47\r\nnet.(*pollDesc).WaitRead(0xc2080acd10, 0x0, 0x0)\r\n\t/home/tsgan/go1.4/src/net/fd_poll_runtime.go:89 +0x43\r\nnet.(*netFD).accept(0xc2080accb0, 0x0, 0x800c83de0, 0xc20800b9b8)\r\n\t/home/tsgan/go1.4/src/net/fd_unix.go:419 +0x40b\r\nnet.(*TCPListener).AcceptTCP(0xc20804e1d8, 0x0, 0x0, 0x0)\r\n\t/home/tsgan/go1.4/src/net/tcpsock_posix.go:234 +0x4e\r\nnet.(*TCPListener).Accept(0xc20804e1d8, 0x0, 0x0, 0x0, 0x0)\r\n\t/home/tsgan/go1.4/src/net/tcpsock_posix.go:244 +0x4c\r\ncrypto/tls.(*listener).Accept(0xc2080abd40, 0x0, 0x0, 0x0, 0x0)\r\n\t/home/tsgan/go1.4/src/crypto/tls/tls.go:46 +0x6b\r\nnet/http/httptest.(*historyListener).Accept(0xc2080c5bc0, 0x0, 0x0, 0x0, 0x0)\r\n\t/home/tsgan/go1.4/src/net/http/httptest/server.go:48 +0x7a\r\nnet/http.(*Server).Serve(0xc2080b5e60, 0x800c85b68, 0xc2080c5bc0, 0x0, 0x0)\r\n\t/home/tsgan/go1.4/src/net/http/server.go:1728 +0x92\r\ncreated by net/http/httptest.(*Server).StartTLS\r\n\t/home/tsgan/go1.4/src/net/http/httptest/server.go:142 +0x887\r\n\r\ngoroutine 17 [syscall, locked to thread]:\r\nruntime.goexit()\r\n\t/home/tsgan/go1.4/src/runtime/asm_amd64.s:2232 +0x1\r\n\r\ngoroutine 12 [IO wait]:\r\nnet.(*pollDesc).Wait(0xc2080ac4c0, 0x72, 0x0, 0x0)\r\n\t/home/tsgan/go1.4/src/net/fd_poll_runtime.go:84 +0x47\r\nnet.(*pollDesc).WaitRead(0xc2080ac4c0, 0x0, 0x0)\r\n\t/home/tsgan/go1.4/src/net/fd_poll_runtime.go:89 +0x43\r\nnet.(*netFD).accept(0xc2080ac460, 0x0, 0x800c83de0, 0xc20800ba68)\r\n\t/home/tsgan/go1.4/src/net/fd_unix.go:419 +0x40b\r\nnet.(*TCPListener).AcceptTCP(0xc20804e020, 0x0, 0x0, 0x0)\r\n\t/home/tsgan/go1.4/src/net/tcpsock_posix.go:234 +0x4e\r\nnet.(*TCPListener).Accept(0xc20804e020, 0x0, 0x0, 0x0, 0x0)\r\n\t/home/tsgan/go1.4/src/net/tcpsock_posix.go:244 +0x4c\r\nnet/http/httptest.(*historyListener).Accept(0xc2080c5ce0, 0x0, 0x0, 0x0, 0x0)\r\n\t/home/tsgan/go1.4/src/net/http/httptest/server.go:48 +0x7a\r\nnet/http.(*Server).Serve(0xc2080b51a0, 0x800c85b68, 0xc2080c5ce0, 0x0, 0x0)\r\n\t/home/tsgan/go1.4/src/net/http/server.go:1728 +0x92\r\ncreated by net/http/httptest.(*Server).Start\r\n\t/home/tsgan/go1.4/src/net/http/httptest/server.go:109 +0x35e\r\n\r\ngoroutine 14 [IO wait]:\r\nnet.(*pollDesc).Wait(0xc2080ac610, 0x72, 0x0, 0x0)\r\n\t/home/tsgan/go1.4/src/net/fd_poll_runtime.go:84 +0x47\r\nnet.(*pollDesc).WaitRead(0xc2080ac610, 0x0, 0x0)\r\n\t/home/tsgan/go1.4/src/net/fd_poll_runtime.go:89 +0x43\r\nnet.(*netFD).accept(0xc2080ac5b0, 0x0, 0x800c83de0, 0xc20800bc18)\r\n\t/home/tsgan/go1.4/src/net/fd_unix.go:419 +0x40b\r\nnet.(*TCPListener).AcceptTCP(0xc20804e210, 0xc2080b60e0, 0x0, 0x0)\r\n\t/home/tsgan/go1.4/src/net/tcpsock_posix.go:234 +0x4e\r\nnet.(*TCPListener).Accept(0xc20804e210, 0x0, 0x0, 0x0, 0x0)\r\n\t/home/tsgan/go1.4/src/net/tcpsock_posix.go:244 +0x4c\r\ngithub.com/g3rk6/openssl.(*listener).Accept(0xc2080abf00, 0x0, 0x0, 0x0, 0x0)\r\n\t/home/tsgan/go/src/github.com/g3rk6/openssl/net.go:28 +0x68\r\nnet/http.(*Server).Serve(0xc2080b5380, 0x800c85d78, 0xc2080abf00, 0x0, 0x0)\r\n\t/home/tsgan/go1.4/src/net/http/server.go:1728 +0x92\r\ncreated by github.com/g3rk6/gopensslproxy.TestSignerTLS\r\n\t/home/tsgan/go/src/github.com/g3rk6/gopensslproxy/signer_test.go:80 +0x596\r\nexit status 2\r\nFAIL\tgithub.com/g3rk6/gopensslproxy\t2.272s\r\ntsgan@bsd:~/go/src/github.com/g3rk6/gopensslproxy %\r\n```",
	"user": {
		"login": "tsgan",
		"id": 1160812,
		"type": "User",
		"site_admin": false
	},
	"comments": 13,
	"closed_at": "2015-11-05T17:20:40Z",
	"created_at": "2015-08-19T03:23:51Z",
	"updated_at": "2015-11-05T18:05:37Z",
	"milestone": {
		"id": 1096159,
		"number": 24,
		"title": "Go1.6"
	}
}
