{
	"id": 51280989,
	"number": 3683,
	"state": "closed",
	"title": "dashboard: mail being sent too eagerly",
	"body": "\u003cpre\u003eThe recent dashboard failure mail below was sent out without sufficient cause.\nI have attached a screen shot of build.golang.org shortly after the mail was received.\nYou can see that while there is a \u0026quot;fail\u0026quot; in the freebsd-amd64 column for\nchange fc75f13840b8, there is not an 'ok' in the row below it, and without that 'ok',\nthere is no proof that this change is the one that broke the build, only that something\ndid. The dashboard should only send mail for the specific case where a change has caused\na 'fail' _and_ the row below it was 'ok'. This mail was sent too early, and in fact a\nminute later we got the second mail below, which blamed cfa8a..., again without\nsufficient evidence (although this time correctly, it turns out).\n\nPlease make the spam stop.\n\n\n---------- Forwarded message ----------\nFrom:  \u0026lt;builder@golang.org\u0026gt;\nDate: Tue, May 29, 2012 at 1:48 PM\nSubject: [golang-dev] freebsd-amd64 broken by runtime: make go work on netbsd/386\nTo: golang-dev@googlegroups.com\n\n\nChange fc75f13840b8 broke the freebsd-amd64 build:\n\u003ca href=\"http://build.golang.org/log/7ce2247ca88a1cdb3e31fe6d5af41dc93f9ee5f6\"\u003ehttp://build.golang.org/log/7ce2247ca88a1cdb3e31fe6d5af41dc93f9ee5f6\u003c/a\u003e\n\nruntime: make go work on netbsd/386\n\nR=golang-dev, rsc\nCC=golang-dev\n\u003ca href=\"http://golang.org/cl/6254055\"\u003ehttp://golang.org/cl/6254055\u003c/a\u003e\n\n\u003ca href=\"http://code.google.com/p/go/source/detail?r=fc75f13840b8\"\u003ehttp://code.google.com/p/go/source/detail?r=fc75f13840b8\u003c/a\u003e\n\n$ tail -200 \u0026lt; log\nok      cmd/gofmt       0.133s\n?       cmd/vet [no test files]\n?       cmd/yacc        [no test files]\nok      archive/tar     0.005s\nok      archive/zip     0.038s\nok      bufio   0.050s\nok      bytes   0.030s\nok      compress/bzip2  0.052s\nok      compress/flate  0.537s\nok      compress/gzip   0.007s\nok      compress/lzw    0.096s\nok      compress/zlib   0.842s\nok      container/heap  0.005s\nok      container/list  0.004s\nok      container/ring  0.020s\n?       crypto  [no test files]\nok      crypto/aes      0.025s\nok      crypto/cipher   0.057s\nok      crypto/des      0.021s\nok      crypto/dsa      0.019s\nok      crypto/ecdsa    0.024s\nok      crypto/elliptic 0.012s\nok      crypto/hmac     0.005s\nok      crypto/md5      0.006s\nok      crypto/rand     0.062s\nok      crypto/rc4      0.011s\nok      crypto/rsa      0.080s\nok      crypto/sha1     0.012s\nok      crypto/sha256   0.007s\nok      crypto/sha512   0.063s\nok      crypto/subtle   0.013s\nok      crypto/tls      0.090s\nok      crypto/x509     0.460s\n?       crypto/x509/pkix        [no test files]\nok      database/sql    0.011s\nok      database/sql/driver     0.026s\nok      debug/dwarf     0.007s\nok      debug/elf       0.013s\nok      debug/gosym     0.005s\nok      debug/macho     0.010s\nok      debug/pe        0.006s\nok      encoding/ascii85        0.005s\nok      encoding/asn1   0.009s\nok      encoding/base32 0.006s\nok      encoding/base64 0.006s\nok      encoding/binary 0.517s\nok      encoding/csv    0.006s\nok      encoding/gob    0.029s\nok      encoding/hex    0.005s\nok      encoding/json   0.047s\nok      encoding/pem    0.007s\nok      encoding/xml    0.012s\nok      errors  0.009s\nok      exp/ebnf        0.005s\nok      exp/ebnflint    0.011s\nok      exp/gotype      0.181s\nok      exp/html        0.094s\nok      exp/locale/collate      0.017s\nok      exp/locale/collate/build        0.008s\nok      exp/norm        0.797s\nok      exp/proxy       0.006s\npanic: go/types internal error: assertion failed [recovered]\n       panic: interface conversion: interface is string, not types.importError\n[recovered]\n       panic: interface conversion: interface is string, not types.importError\n\ngoroutine 5 [running]:\ntesting._func_003(0x800802fa8, 0x800802100, 0x800802520, 0x8008023e0)\n       /usr/local/go/src/pkg/testing/testing.go:268 +0xf6\n----- stack segment boundary -----\nexp/types._func_002(0x8008028e8, 0x800802100, 0x800802fb8, 0x800802568)\n     \n /tmp/gobuilder/freebsd-amd64-fc75f13840b8/go/src/pkg/exp/types/gcimporter.go:99 +0x67\n----- stack segment boundary -----\nexp/types.assert(0x4ffe00, 0xf8401046e0)\n       /tmp/gobuilder/freebsd-amd64-fc75f13840b8/go/src/pkg/exp/types/const.go:37\n+0x4e\nexp/types.(*gcParser).declare(0xf8400b2580, 0xf84013b090, 0xf800000002, 0xf8401071f8,\n0x5, ...)\n     \n /tmp/gobuilder/freebsd-amd64-fc75f13840b8/go/src/pkg/exp/types/gcimporter.go:200 +0x92\nexp/types.(*gcParser).parseConstDecl(0xf8400b2580, 0x800000005)\n     \n /tmp/gobuilder/freebsd-amd64-fc75f13840b8/go/src/pkg/exp/types/gcimporter.go:703 +0xbc\nexp/types.(*gcParser).parseDecl(0xf8400b2580, 0xf840059820)\n     \n /tmp/gobuilder/freebsd-amd64-fc75f13840b8/go/src/pkg/exp/types/gcimporter.go:837 +0xaf\nexp/types.(*gcParser).parseExport(0xf8400b2580, 0xf84015c820, 0xf80000004b, 0xf840145850)\n     \n /tmp/gobuilder/freebsd-amd64-fc75f13840b8/go/src/pkg/exp/types/gcimporter.go:876 +0x217\nexp/types.GcImportData(0xf840059820, 0xf84015c820, 0x4b, 0xf840145850, 0xf80000000a, ...)\n     \n /tmp/gobuilder/freebsd-amd64-fc75f13840b8/go/src/pkg/exp/types/gcimporter.go:105 +0x207\nexp/types.GcImport(0xf840059820, 0xf840145850, 0xa0000000a, 0x0, 0x0, ...)\n     \n /tmp/gobuilder/freebsd-amd64-fc75f13840b8/go/src/pkg/exp/types/gcimporter.go:153 +0x398\nexp/types.testPath(0xf8400af1c0, 0xf840145850, 0xf80000000a, 0xf80000000a, 0x3, ...)\n     \n /tmp/gobuilder/freebsd-amd64-fc75f13840b8/go/src/pkg/exp/types/gcimporter_test.go:55\n+0x42\nexp/types.testDir(0xf8400af1c0, 0xf840132d58, 0xe00000006, 0xec75702aa, 0x33f05748, ...)\n     \n /tmp/gobuilder/freebsd-amd64-fc75f13840b8/go/src/pkg/exp/types/gcimporter_test.go:82\n+0x6ce\nexp/types.testDir(0xf8400af1c0, 0x5a7734, 0x0, 0xec75702aa, 0x33f05748, ...)\n     \n /tmp/gobuilder/freebsd-amd64-fc75f13840b8/go/src/pkg/exp/types/gcimporter_test.go:88\n+0x81c\nexp/types.TestGcImport(0xf8400af1c0, 0x3177bdf8)\n     \n /tmp/gobuilder/freebsd-amd64-fc75f13840b8/go/src/pkg/exp/types/gcimporter_test.go:108\n+0x1ec\ntesting.tRunner(0xf8400af1c0, 0x69e3e8, 0x0, 0x0)\n       /usr/local/go/src/pkg/testing/testing.go:273 +0x6f\ncreated by testing.RunTests\n       /usr/local/go/src/pkg/testing/testing.go:349 +0x784\n\ngoroutine 1 [chan receive]:\ntesting.RunTests(0x400c00, 0x69e3d0, 0x200000002, 0x430401, 0x8006e0f18, ...)\n       /usr/local/go/src/pkg/testing/testing.go:350 +0x7a7\ntesting.Main(0x400c00, 0x69e3d0, 0x200000002, 0x6a21e8, 0x0, ...)\n       /usr/local/go/src/pkg/testing/testing.go:285 +0x7a\nmain.main()\n       /tmp/go-build159262258/exp/types/_test/_testmain.go:45 +0x91\n\ngoroutine 2 [syscall]:\ncreated by runtime.main\n       /usr/local/go/src/pkg/runtime/proc.c:221\n\ngoroutine 3 [syscall]:\ncreated by addtimer\n       /usr/local/go/src/pkg/runtime/ztime_freebsd_amd64.c:69\n\ngoroutine 7 [finalizer wait]:\ncreated by runtime.gc\n       /usr/local/go/src/pkg/runtime/mgc0.c:849\nFAIL    exp/types       0.217s\nok      exp/utf8string  0.012s\nok      expvar  0.013s\nok      flag    0.008s\nok      fmt     0.061s\nok      go/ast  0.007s\nok      go/build        0.431s\nok      go/doc  0.147s\nok      go/parser       0.034s\nok      go/printer      0.273s\nok      go/scanner      0.006s\nok      go/token        0.047s\n?       hash    [no test files]\nok      hash/adler32    0.010s\nok      hash/crc32      0.011s\nok      hash/crc64      0.004s\nok      hash/fnv        0.007s\nok      html    0.010s\nok      html/template   0.062s\nok      image   0.071s\nok      image/color     0.013s\nok      image/draw      0.025s\n?       image/gif       [no test files]\nok      image/jpeg      0.056s\nok      image/png       0.044s\nok      index/suffixarray       0.012s\nok      io      0.231s\nok      io/ioutil       0.006s\nok      log     0.012s\nok      log/syslog      0.221s\nok      math    0.012s\nok      math/big        0.083s\nok      math/cmplx      0.005s\nok      math/rand       0.096s\nok      mime    0.006s\nok      mime/multipart  0.135s\nok      net     0.683s\nok      net/http        1.693s\nok      net/http/cgi    0.215s\nok      net/http/fcgi   0.010s\nok      net/http/httptest       0.010s\nok      net/http/httputil       0.073s\n?       net/http/pprof  [no test files]\nok      net/mail        0.007s\nok      net/rpc 0.065s\nok      net/rpc/jsonrpc 0.015s\nok      net/smtp        0.008s\nok      net/textproto   0.008s\nok      net/url 0.007s\nok      old/netchan     0.019s\nok      os      0.676s\nok      os/exec 0.122s\nok      os/signal       0.005s\nok      os/user 0.007s\nok      path    0.005s\nok      path/filepath   0.052s\nok      reflect 0.007s\nok      regexp  0.065s\nok      regexp/syntax   0.498s\nok      runtime 0.328s\n?       runtime/cgo     [no test files]\nok      runtime/debug   0.005s\nok      runtime/pprof   0.340s\nok      sort    0.059s\nok      strconv 0.374s\nok      strings 0.010s\nok      sync    0.031s\nok      sync/atomic     0.046s\n?       syscall [no test files]\n?       testing [no test files]\n?       testing/iotest  [no test files]\nok      testing/quick   0.027s\nok      text/scanner    0.013s\nok      text/tabwriter  0.011s\nok      text/template   0.016s\nok      text/template/parse     0.017s\nok      time    3.597s\nok      unicode 0.006s\nok      unicode/utf16   0.020s\nok      unicode/utf8    0.052s\n?       unsafe  [no test files]\n\n\n\n\n\n---------- Forwarded message ----------\nFrom:  \u0026lt;builder@golang.org\u0026gt;\nDate: Tue, May 29, 2012 at 1:52 PM\nSubject: [golang-dev] freebsd-amd64 broken by crypto: housekeeping\nTo: golang-dev@googlegroups.com\n\n\nChange cfa8a356dcc8 broke the freebsd-amd64 build:\n\u003ca href=\"http://build.golang.org/log/29c22d4868f5fabe4b9e051359ea3906d28a84c9\"\u003ehttp://build.golang.org/log/29c22d4868f5fabe4b9e051359ea3906d28a84c9\u003c/a\u003e\n\ncrypto: housekeeping\n\nRename _Block to block, don't bother making it compute count.\nAdd benchmarks.\n\nR=agl, agl\nCC=golang-dev\n\u003ca href=\"http://golang.org/cl/6243053\"\u003ehttp://golang.org/cl/6243053\u003c/a\u003e\n\n\u003ca href=\"http://code.google.com/p/go/source/detail?r=cfa8a356dcc8\"\u003ehttp://code.google.com/p/go/source/detail?r=cfa8a356dcc8\u003c/a\u003e\n\n$ tail -200 \u0026lt; log\nok      cmd/gofmt       0.376s\n?       cmd/vet [no test files]\n?       cmd/yacc        [no test files]\nok      archive/tar     0.007s\nok      archive/zip     0.039s\nok      bufio   0.052s\nok      bytes   0.025s\nok      compress/bzip2  0.049s\nok      compress/flate  0.460s\nok      compress/gzip   0.008s\nok      compress/lzw    0.089s\nok      compress/zlib   0.851s\nok      container/heap  0.005s\nok      container/list  0.005s\nok      container/ring  0.017s\n?       crypto  [no test files]\nok      crypto/aes      0.026s\nok      crypto/cipher   0.005s\nok      crypto/des      0.067s\nok      crypto/dsa      0.009s\nok      crypto/ecdsa    0.039s\nok      crypto/elliptic 0.011s\nok      crypto/hmac     0.008s\nok      crypto/md5      0.006s\nok      crypto/rand     0.015s\nok      crypto/rc4      0.005s\nok      crypto/rsa      0.084s\nok      crypto/sha1     0.010s\nok      crypto/sha256   0.007s\nok      crypto/sha512   0.007s\nok      crypto/subtle   0.012s\nok      crypto/tls      0.083s\nok      crypto/x509     0.471s\n?       crypto/x509/pkix        [no test files]\nok      database/sql    0.012s\nok      database/sql/driver     0.057s\nok      debug/dwarf     0.011s\nok      debug/elf       0.009s\nok      debug/gosym     0.009s\nok      debug/macho     0.007s\nok      debug/pe        0.007s\nok      encoding/ascii85        0.013s\nok      encoding/asn1   0.043s\nok      encoding/base32 0.009s\nok      encoding/base64 0.009s\nok      encoding/binary 0.043s\nok      encoding/csv    0.011s\nok      encoding/gob    0.030s\nok      encoding/hex    0.005s\nok      encoding/json   0.043s\nok      encoding/pem    0.008s\nok      encoding/xml    0.016s\nok      errors  0.006s\nok      exp/ebnf        0.005s\nok      exp/ebnflint    0.007s\nok      exp/gotype      0.182s\nok      exp/html        0.133s\nok      exp/locale/collate      0.020s\nok      exp/locale/collate/build        0.090s\nok      exp/norm        0.625s\nok      exp/proxy       0.343s\npanic: go/types internal error: assertion failed [recovered]\n       panic: interface conversion: interface is string, not types.importError\n[recovered]\n       panic: interface conversion: interface is string, not types.importError\n\ngoroutine 5 [running]:\ntesting._func_003(0x800962fa8, 0x800962100, 0x800962520, 0x8009623e0)\n       /usr/local/go/src/pkg/testing/testing.go:268 +0xf6\n----- stack segment boundary -----\nexp/types._func_002(0x8009628e8, 0x800962100, 0x800962fb8, 0x800962568)\n     \n /tmp/gobuilder/freebsd-amd64-cfa8a356dcc8/go/src/pkg/exp/types/gcimporter.go:99 +0x67\n----- stack segment boundary -----\nexp/types.assert(0x4ffe00, 0xf84015f520)\n       /tmp/gobuilder/freebsd-amd64-cfa8a356dcc8/go/src/pkg/exp/types/const.go:37\n+0x4e\nexp/types.(*gcParser).declare(0xf84018c000, 0xf8401ce7b0, 0xf800000002, 0xf8401c6590,\n0x5, ...)\n     \n /tmp/gobuilder/freebsd-amd64-cfa8a356dcc8/go/src/pkg/exp/types/gcimporter.go:200 +0x92\nexp/types.(*gcParser).parseConstDecl(0xf84018c000, 0x800000005)\n     \n /tmp/gobuilder/freebsd-amd64-cfa8a356dcc8/go/src/pkg/exp/types/gcimporter.go:703 +0xbc\nexp/types.(*gcParser).parseDecl(0xf84018c000, 0xf840059820)\n     \n /tmp/gobuilder/freebsd-amd64-cfa8a356dcc8/go/src/pkg/exp/types/gcimporter.go:837 +0xaf\nexp/types.(*gcParser).parseExport(0xf84018c000, 0xf840197c30, 0xf80000004b, 0xf8401ce170)\n     \n /tmp/gobuilder/freebsd-amd64-cfa8a356dcc8/go/src/pkg/exp/types/gcimporter.go:876 +0x217\nexp/types.GcImportData(0xf840059820, 0xf840197c30, 0x4b, 0xf8401ce170, 0xf80000000a, ...)\n     \n /tmp/gobuilder/freebsd-amd64-cfa8a356dcc8/go/src/pkg/exp/types/gcimporter.go:105 +0x207\nexp/types.GcImport(0xf840059820, 0xf8401ce170, 0xa0000000a, 0x0, 0x0, ...)\n     \n /tmp/gobuilder/freebsd-amd64-cfa8a356dcc8/go/src/pkg/exp/types/gcimporter.go:153 +0x398\nexp/types.testPath(0xf8400c01c0, 0xf8401ce170, 0xf80000000a, 0xf80000000a, 0x3, ...)\n     \n /tmp/gobuilder/freebsd-amd64-cfa8a356dcc8/go/src/pkg/exp/types/gcimporter_test.go:55\n+0x42\nexp/types.testDir(0xf8400c01c0, 0xf840144880, 0xe00000006, 0xec7570399, 0x3846a1a8, ...)\n     \n /tmp/gobuilder/freebsd-amd64-cfa8a356dcc8/go/src/pkg/exp/types/gcimporter_test.go:82\n+0x6ce\nexp/types.testDir(0xf8400c01c0, 0x5a7734, 0x0, 0xec7570399, 0x3846a1a8, ...)\n     \n /tmp/gobuilder/freebsd-amd64-cfa8a356dcc8/go/src/pkg/exp/types/gcimporter_test.go:88\n+0x81c\nexp/types.TestGcImport(0xf8400c01c0, 0x368f3960)\n     \n /tmp/gobuilder/freebsd-amd64-cfa8a356dcc8/go/src/pkg/exp/types/gcimporter_test.go:108\n+0x1ec\ntesting.tRunner(0xf8400c01c0, 0x69e3e8, 0x0, 0x0)\n       /usr/local/go/src/pkg/testing/testing.go:273 +0x6f\ncreated by testing.RunTests\n       /usr/local/go/src/pkg/testing/testing.go:349 +0x784\n\ngoroutine 1 [chan receive]:\ntesting.RunTests(0x400c00, 0x69e3d0, 0x200000002, 0x430401, 0x8006e0f18, ...)\n       /usr/local/go/src/pkg/testing/testing.go:350 +0x7a7\ntesting.Main(0x400c00, 0x69e3d0, 0x200000002, 0x6a21e8, 0x0, ...)\n       /usr/local/go/src/pkg/testing/testing.go:285 +0x7a\nmain.main()\n       /tmp/go-build096326926/exp/types/_test/_testmain.go:45 +0x91\n\ngoroutine 2 [syscall]:\ncreated by runtime.main\n       /usr/local/go/src/pkg/runtime/proc.c:221\n\ngoroutine 3 [syscall]:\ncreated by addtimer\n       /usr/local/go/src/pkg/runtime/ztime_freebsd_amd64.c:69\n\ngoroutine 7 [finalizer wait]:\ncreated by runtime.gc\n       /usr/local/go/src/pkg/runtime/mgc0.c:849\nFAIL    exp/types       0.060s\nok      exp/utf8string  0.005s\nok      expvar  0.008s\nok      flag    0.005s\nok      fmt     0.086s\nok      go/ast  0.081s\nok      go/build        0.160s\nok      go/doc  0.048s\nok      go/parser       0.036s\nok      go/printer      0.244s\nok      go/scanner      0.007s\nok      go/token        0.033s\n?       hash    [no test files]\nok      hash/adler32    0.011s\nok      hash/crc32      0.008s\nok      hash/crc64      0.009s\nok      hash/fnv        0.005s\nok      html    0.006s\nok      html/template   0.041s\nok      image   0.082s\nok      image/color     0.014s\nok      image/draw      0.068s\n?       image/gif       [no test files]\nok      image/jpeg      0.099s\nok      image/png       0.060s\nok      index/suffixarray       0.011s\nok      io      0.248s\nok      io/ioutil       0.064s\nok      log     0.006s\nok      log/syslog      0.224s\nok      math    0.009s\nok      math/big        0.239s\nok      math/cmplx      0.008s\nok      math/rand       0.129s\nok      mime    0.007s\nok      mime/multipart  0.143s\nok      net     0.661s\nok      net/http        1.570s\nok      net/http/cgi    0.274s\nok      net/http/fcgi   0.009s\nok      net/http/httptest       0.021s\nok      net/http/httputil       0.019s\n?       net/http/pprof  [no test files]\nok      net/mail        0.006s\nok      net/rpc 0.063s\nok      net/rpc/jsonrpc 0.013s\nok      net/smtp        0.008s\nok      net/textproto   0.015s\nok      net/url 0.006s\nok      old/netchan     0.014s\nok      os      0.663s\nok      os/exec 0.108s\nok      os/signal       0.005s\nok      os/user 0.014s\nok      path    0.006s\nok      path/filepath   0.053s\nok      reflect 0.009s\nok      regexp  0.060s\nok      regexp/syntax   0.534s\nok      runtime 0.248s\n?       runtime/cgo     [no test files]\nok      runtime/debug   0.011s\nok      runtime/pprof   0.858s\nok      sort    0.070s\nok      strconv 0.406s\nok      strings 0.010s\nok      sync    0.060s\nok      sync/atomic     0.059s\n?       syscall [no test files]\n?       testing [no test files]\n?       testing/iotest  [no test files]\nok      testing/quick   0.063s\nok      text/scanner    0.007s\nok      text/tabwriter  0.016s\nok      text/template   0.051s\nok      text/template/parse     0.014s\nok      time    3.700s\nok      unicode 0.006s\nok      unicode/utf16   0.005s\nok      unicode/utf8    0.007s\n?       unsafe  [no test files]\u003c/pre\u003e\n\n\n\n\n\nAttachments:\n\n1. \u003ca href=\"https://storage.googleapis.com/go-attachment/3683/0/Screen%20Shot%202012-05-29%20at%201.51.42%20PM.png\"\u003eScreen Shot 2012-05-29 at 1.51.42 PM.png\u003c/a\u003e (74749 bytes)",
	"user": {
		"login": "rsc",
		"id": 104030,
		"type": "User",
		"site_admin": false
	},
	"labels": [
		{
			"name": "FrozenDueToAge"
		}
	],
	"assignee": {
		"login": "adg",
		"id": 8446613,
		"type": "User",
		"site_admin": false
	},
	"comments": 6,
	"closed_at": "2014-12-08T10:19:26Z",
	"created_at": "2012-05-29T17:55:03Z",
	"updated_at": "2016-06-24T22:19:44Z"
}
