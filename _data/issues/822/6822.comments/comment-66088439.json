{
	"id": 66088439,
	"body": "\u003ca id=\"c14\"\u003e\u003c/a\u003eComment 14 by **aidanphs**:\n\n\u003cpre\u003eWas doing some investigation by adding logging in places in the lib/pq driver and then\nrunning the run/bench/check-for-crash cycle in a loop (if it doesn't crash by the 8th\nrequest, it seemingly never does).\n\nAnyway, saw this:\n*** glibc detected *** /tmp/go-build754824623/command-line-arguments/_obj/exe/bug:\nfree(): invalid pointer: 0x000000c2000a26f8 ***\n======= Backtrace: =========\n/lib/x86_64-linux-gnu/libc.so.6(+0x7eb96)[0x7fc6f6e3fb96]\n/lib/x86_64-linux-gnu/libc.so.6(freeaddrinfo+0x20)[0x7fc6f6e90b50]\n/tmp/go-build754824623/command-line-arguments/_obj/exe/bug[0x4f3e55]\n/tmp/go-build754824623/command-line-arguments/_obj/exe/bug(__go_undefer+0x5d)[0x4bee2d]\n/tmp/go-build754824623/command-line-arguments/_obj/exe/bug[0x4fb403]\n/tmp/go-build754824623/command-line-arguments/_obj/exe/bug[0x50b789]\n/tmp/go-build754824623/command-line-arguments/_obj/exe/bug[0x50c015]\n/tmp/go-build754824623/command-line-arguments/_obj/exe/bug[0x50c8d8]\n/tmp/go-build754824623/command-line-arguments/_obj/exe/bug(net.Dial.pN10_net.Dialer+0xbe)[0x50997e]\n/tmp/go-build754824623/command-line-arguments/_obj/exe/bug(net.Dial+0x47)[0x509f47]\n/tmp/go-build754824623/command-line-arguments/_obj/exe/bug(github.com_aidanhs_pq.Open+0x11a7)[0x4bdec7]\n/tmp/go-build754824623/command-line-arguments/_obj/exe/bug(github.com_aidanhs_pq.Open.pN25_github.com_aidanhs_pq.drv+0x21)[0x4be2c1]\n/tmp/go-build754824623/command-line-arguments/_obj/exe/bug(database_sql.conn.pN15_database_sql.DB+0x127)[0x58a047]\n/tmp/go-build754824623/command-line-arguments/_obj/exe/bug(database_sql.connStmt.pN17_database_sql.Stmt+0x2eb)[0x58f1fb]\n/tmp/go-build754824623/command-line-arguments/_obj/exe/bug(database_sql.Query.pN17_database_sql.Stmt+0x85)[0x58f6c5]\n/tmp/go-build754824623/command-line-arguments/_obj/exe/bug(database_sql.QueryRow.pN17_database_sql.Stmt+0x41)[0x58f951]\n/tmp/go-build754824623/command-line-arguments/_obj/exe/bug[0x4b2f40]\n/tmp/go-build754824623/command-line-arguments/_obj/exe/bug(net_http.ServeHTTP.pN17_net_http.ServeMux+0x6d)[0x5bbead]\n/tmp/go-build754824623/command-line-arguments/_obj/exe/bug(net_http.serve.pN13_net_http.conn+0x1ca)[0x5c904a]\n/tmp/go-build754824623/command-line-arguments/_obj/exe/bug[0x4c81bf]\n/lib/x86_64-linux-gnu/libc.so.6(+0x48650)[0x7fc6f6e09650]\n======= Memory map: ========\n00400000-00771000 r-xp 00000000 fd:00 667778                            \n/tmp/go-build754824623/command-line-arguments/_obj/exe/bug\n00971000-009cb000 rw-p 00371000 fd:00 667778                            \n/tmp/go-build754824623/command-line-arguments/_obj/exe/bug\n009cb000-009f4000 rw-p 00000000 00:00 0 \n025b1000-025d2000 rw-p 00000000 00:00 0                                  [heap]\nc1fffe0000-c200200000 rw-p 00000000 00:00 0 \n7fc6c8000000-7fc6c8021000 rw-p 00000000 00:00 0 \n7fc6c8021000-7fc6cc000000 ---p 00000000 00:00 0 \n7fc6d0000000-7fc6d0021000 rw-p 00000000 00:00 0 \n7fc6d0021000-7fc6d4000000 ---p 00000000 00:00 0 \n7fc6d4000000-7fc6d4021000 rw-p 00000000 00:00 0 \n7fc6d4021000-7fc6d8000000 ---p 00000000 00:00 0 \n7fc6d8000000-7fc6d8022000 rw-p 00000000 00:00 0 \n7fc6d8022000-7fc6dc000000 ---p 00000000 00:00 0 \n7fc6dc000000-7fc6dc021000 rw-p 00000000 00:00 0 \n7fc6dc021000-7fc6e0000000 ---p 00000000 00:00 0 \n7fc6e0000000-7fc6e0021000 rw-p 00000000 00:00 0 \n7fc6e0021000-7fc6e4000000 ---p 00000000 00:00 0 \n7fc6e44cd000-7fc6e44ce000 ---p 00000000 00:00 0 \n7fc6e44ce000-7fc6e465a000 rw-p 00000000 00:00 0                          [stack:7197]\n7fc6e465a000-7fc6e465b000 ---p 00000000 00:00 0 \n7fc6e465b000-7fc6e4688000 rw-p 00000000 00:00 0                          [stack:6817]\n7fc6e4688000-7fc6e4689000 ---p 00000000 00:00 0 \n7fc6e4689000-7fc6e5b26000 rw-p 00000000 00:00 0                          [stack:6672]\n7fc6e5b26000-7fc6e5b32000 r-xp 00000000 fd:00 919746                    \n/lib/x86_64-linux-gnu/libnss_files-2.15.so\n7fc6e5b32000-7fc6e5d31000 ---p 0000c000 fd:00 919746                    \n/lib/x86_64-linux-gnu/libnss_files-2.15.so\n7fc6e5d31000-7fc6e5d32000 r--p 0000b000 fd:00 919746                    \n/lib/x86_64-linux-gnu/libnss_files-2.15.so\n7fc6e5d32000-7fc6e5d33000 rw-p 0000c000 fd:00 919746                    \n/lib/x86_64-linux-gnu/libnss_files-2.15.so\n7fc6e5d33000-7fc6e5e3b000 rw-p 00000000 00:00 0 \n7fc6e5e42000-7fc6e61d1000 rw-p 00000000 00:00 0                          [stack:6668]\n7fc6e61d1000-7fc6e61d2000 ---p 00000000 00:00 0 \n7fc6e61d2000-7fc6e6837000 rw-p 00000000 00:00 0                          [stack:6669]\n7fc6e6837000-7fc6e683e000 r--p 00010000 fd:00 919761                    \n/lib/x86_64-linux-gnu/libc-2.15.so\n7fc6e683e000-7fc6e6853000 rw-p 00000000 00:00 0 \n7fc6e6853000-7fc6e6858000 r--p 0001d000 fd:00 919744                    \n/lib/x86_64-linux-gnu/libpthread-2.15.so\n7fc6e6859000-7fc6e685b000 r--p 00003000 fd:00 919757                    \n/lib/x86_64-linux-gnu/libm-2.15.so\n7fc6e685b000-7fc6e685c000 r--p 00001000 fd:00 919743                    \n/lib/x86_64-linux-gnu/libgcc_s.so.1\n7fc6e685c000-7fc6e685d000 r--p 00000000 fd:00 919749                    \n/lib/x86_64-linux-gnu/ld-2.15.so\n7fc6e685d000-7fc6e68f7000 rw-p 00000000 00:00 0 \n7fc6e68f7000-7fc6e6db6000 r--p 00447000 fd:00 667778                    \n/tmp/go-build754824623/command-line-arguments/_obj/exe/bug\n7fc6e6db6000-7fc6f6dc1000 rw-p 00000000 00:00 0 \n7fc6f6dc1000-7fc6f6f76000 r-xp 00000000 fd:00 919761                    \n/lib/x86_64-linux-gnu/libc-2.15.so\n7fc6f6f76000-7fc6f7176000 ---p 001b5000 fd:00 919761                    \n/lib/x86_64-linux-gnu/libc-2.15.so\n7fc6f7176000-7fc6f717a000 r--p 001b5000 fd:00 919761                    \n/lib/x86_64-linux-gnu/libc-2.15.so\n7fc6f717a000-7fc6f717c000 rw-p 001b9000 fd:00 919761                    \n/lib/x86_64-linux-gnu/libc-2.15.so\n7fc6f717c000-7fc6f7181000 rw-p 00000000 00:00 0 \n7fc6f7181000-7fc6f7196000 r-xp 00000000 fd:00 919743                    \n/lib/x86_64-linux-gnu/libgcc_s.so.1\n7fc6f7196000-7fc6f7395000 ---p 00015000 fd:00 919743                    \n/lib/x86_64-linux-gnu/libgcc_s.so.1\n7fc6f7395000-7fc6f7396000 r--p 00014000 fd:00 919743                    \n/lib/x86_64-linux-gnu/libgcc_s.so.1\n7fc6f7396000-7fc6f7397000 rw-p 00015000 fd:00 919743                    \n/lib/x86_64-linux-gnu/libgcc_s.so.1\n7fc6f7397000-7fc6f7492000 r-xp 00000000 fd:00 919757                    \n/lib/x86_64-linux-gnu/libm-2.15.so\n7fc6f7492000-7fc6f7691000 ---p 000fb000 fd:00 919757                    \n/lib/x86_64-linux-gnu/libm-2.15.so\n7fc6f7691000-7fc6f7692000 r--p 000fa000 fd:00 919757                    \n/lib/x86_64-linux-gnu/libm-2.15.so\n7fc6f7692000-7fc6f7693000 rw-p 000fb000 fd:00 919757                    \n/lib/x86_64-linux-gnu/libm-2.15.so\n7fc6f7693000-7fc6f76ab000 r-xp 00000000 fd:00 919744                    \n/lib/x86_64-linux-gnu/libpthread-2.15.so\n7fc6f76ab000-7fc6f78aa000 ---p 00018000 fd:00 919744                    \n/lib/x86_64-linux-gnu/libpthread-2.15.so\n7fc6f78aa000-7fc6f78ab000 r--p 00017000 fd:00 919744                    \n/lib/x86_64-linux-gnu/libpthread-2.15.so\n7fc6f78ab000-7fc6f78ac000 rw-p 00018000 fd:00 919744                    \n/lib/x86_64-linux-gnu/libpthread-2.15.so\n7fc6f78ac000-7fc6f78b0000 rw-p 00000000 00:00 0 \n7fc6f78b0000-7fc6f78d2000 r-xp 00000000 fd:00 919749                    \n/lib/x86_64-linux-gnu/ld-2.15.so\n7fc6f78d5000-7fc6f78f1000 rw-p 00000000 00:00 0 \n7fc6f78f1000-7fc6f7968000 r--p 009e7000 fd:00 667778                    \n/tmp/go-build754824623/command-line-arguments/_obj/exe/bug\n7fc6f796c000-7fc6f7a3f000 rw-p 00000000 00:00 0 \n7fc6f7a3f000-7fc6f7a40000 ---p 00000000 00:00 0 \n7fc6f7a40000-7fc6f7ac2000 rw-p 00000000 00:00 0                          [stack:6671]\n7fc6f7ac2000-7fc6f7ac3000 ---p 00000000 00:00 0 \n7fc6f7ac3000-7fc6f7ac7000 rw-p 00000000 00:00 0 \n7fc6f7ac7000-7fc6f7ad2000 rw-p 00000000 00:00 0 \n7fc6f7ad2000-7fc6f7ad3000 r--p 00022000 fd:00 919749                    \n/lib/x86_64-linux-gnu/ld-2.15.so\n7fc6f7ad3000-7fc6f7ad5000 rw-p 00023000 fd:00 919749                    \n/lib/x86_64-linux-gnu/ld-2.15.so\n7fffec3b4000-7fffec3d5000 rw-p 00000000 00:00 0 \n7fffec3ff000-7fffec400000 r-xp 00000000 00:00 0                          [vdso]\nffffffffff600000-ffffffffff601000 r-xp 00000000 00:00 0                  [vsyscall]\n\nI can only assume I'm getting information like this because I'm exporting GOTRACEBACK\ninstead of just setting it.\u003c/pre\u003e",
	"user": {
		"login": "gopherbot",
		"id": 8566911,
		"type": "User",
		"site_admin": false
	},
	"created_at": "2013-11-30T01:05:57Z",
	"updated_at": "2014-12-08T10:37:57Z"
}
