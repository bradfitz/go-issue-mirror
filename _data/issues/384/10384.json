{
	"id": 67188611,
	"number": 10384,
	"state": "closed",
	"title": "x/image/webp: invalid memory address or nil pointer dereference",
	"body": "Run the following program on the following file:\r\n\r\n```go\r\npackage main\r\n\r\nimport (\r\n    \"bytes\"\r\n    \"golang.org/x/image/webp\"\r\n    \"io/ioutil\"\r\n    \"os\"\r\n)\r\n\r\nfunc main() {\r\n    data, _ := ioutil.ReadFile(os.Args[1])\r\n    webp.Decode(bytes.NewReader(data))\r\n}\r\n```\r\nhttps://drive.google.com/file/d/0B20Uwp8Hs1oCdDNyc2x5eWtvVUU/view?usp=sharing\r\n\r\nCrashes with:\r\n\r\n```\r\nruntime.sigpanic()\r\n\tsrc/runtime/sigpanic_unix.go:24 +0x2bf fp=0xc208041a10 sp=0xc2080419c0\r\ngolang.org/x/image/riff.(*chunkReader).Read(0x0, 0xc208076000, 0x2000, 0x2000, 0x1, 0x0, 0x0)\r\n\tgolang.org/x/image/riff/riff.go:151 +0x44 fp=0xc208041aa8 sp=0xc208041a10\r\nio/ioutil.devNull.ReadFrom(0x0, 0x7f0b7195f1e8, 0x0, 0x0, 0x0, 0x0)\r\n\tsrc/io/ioutil/ioutil.go:151 +0xa1 fp=0xc208041b00 sp=0xc208041aa8\r\nio/ioutil.(*devNull).ReadFrom(0xc20800e550, 0x7f0b7195f1e8, 0x0, 0xc208041bb8, 0x0, 0x0)\r\n\t\u003cautogenerated\u003e:9 +0xb4 fp=0xc208041b38 sp=0xc208041b00\r\nio.Copy(0x7f0b7195f120, 0xc20800e550, 0x7f0b7195f1e8, 0x0, 0x0, 0x0, 0x0)\r\n\tsrc/io/io.go:358 +0x183 fp=0xc208041c10 sp=0xc208041b38\r\ngolang.org/x/image/riff.(*Reader).Next(0xc2080104c0, 0x0, 0x0, 0x0, 0x0, 0x0)\r\n\tgolang.org/x/image/riff/riff.go:103 +0x123 fp=0xc208041cb8 sp=0xc208041c10\r\ngolang.org/x/image/webp.decode(0x7f0b7195f1c0, 0xc2080143f0, 0x401e00, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, ...)\r\n\tgolang.org/x/image/webp/decode.go:52 +0x1c7 fp=0xc208041ea8 sp=0xc208041cb8\r\ngolang.org/x/image/webp.Decode(0x7f0b7195f1c0, 0xc2080143f0, 0x0, 0x0, 0x0, 0x0)\r\n\tgolang.org/x/image/webp/decode.go:256 +0x55 fp=0xc208041f08 sp=0xc208041ea8\r\nmain.main()\r\n\twebp.go:12 +0x10b fp=0xc208041f90 sp=0xc208041f08\r\n```\r\n\r\nMy repository is on commit 65a798f031fd31a65574938bed2ec44c2bcba496.\r\n",
	"user": {
		"login": "dvyukov",
		"id": 1095328,
		"type": "User",
		"site_admin": false
	},
	"labels": [
		{
			"name": "FrozenDueToAge"
		}
	],
	"assignee": {
		"login": "nigeltao",
		"id": 8565232,
		"type": "User",
		"site_admin": false
	},
	"comments": 1,
	"closed_at": "2015-05-11T19:36:27Z",
	"created_at": "2015-04-08T18:21:07Z",
	"updated_at": "2016-06-25T02:05:04Z",
	"milestone": {
		"id": 1067491,
		"number": 22,
		"title": "Unreleased"
	}
}
