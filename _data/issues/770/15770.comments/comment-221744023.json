{
	"id": 221744023,
	"body": "I can't reproduce this (with the go 1.6.2 that's on yakkety):\n\n```\n(yakkety-ppc64el)root@diamond:~/kubernetes# git diff\ndiff --git a/hack/lib/golang.sh b/hack/lib/golang.sh\nindex 0ff6e97..2e766e7 100755\n--- a/hack/lib/golang.sh\n+++ b/hack/lib/golang.sh\n@@ -454,7 +454,7 @@ kube::golang::build_binaries_for_platform() {\n   else\n     # Use go install.\n     if [[ \"${#nonstatics[@]}\" != 0 ]]; then\n-      go install \"${goflags[@]:+${goflags[@]}}\" \\\n+      go install -buildmode=shared -linkshared\n\"${goflags[@]:+${goflags[@]}}\" \\\n         -ldflags \"${goldflags}\" \\\n         \"${nonstatics[@]:+${nonstatics[@]}}\"\n     fi\n(yakkety-ppc64el)root@diamond:~/kubernetes# make\nhack/build-go.sh\nGo version: go version go1.6.2 linux/ppc64le\n+++ [0526 00:04:29] Building the toolchain targets:\n    k8s.io/kubernetes/hack/cmd/teststale\n+++ [0526 00:04:31] Building go targets for linux/ppc64le:\n    cmd/kube-dns\n    cmd/kube-proxy\n    cmd/kube-apiserver\n    cmd/kube-controller-manager\n    cmd/kubelet\n    cmd/kubemark\n    cmd/hyperkube\n    federation/cmd/federation-apiserver\n    federation/cmd/federation-controller-manager\n    plugin/cmd/kube-scheduler\n    cmd/kubectl\n    cmd/integration\n    cmd/gendocs\n    cmd/genkubedocs\n    cmd/genman\n    cmd/genyaml\n    cmd/mungedocs\n    cmd/genbashcomp\n    cmd/genswaggertypedocs\n    cmd/linkcheck\n    examples/k8petstore/web-server/src\n    vendor/github.com/onsi/ginkgo/ginkgo\n    test/e2e/e2e.test\n    test/e2e_node/e2e_node.test\n+++ [0526 00:07:45] Placing binaries\n(yakkety-ppc64el)root@diamond:~/kubernetes# echo $?\n0\n```\n\nI doubt something between 1.6.1 and 1.6.2 fixed this but who knows.\n\n\n\nOn 26 May 2016 at 09:35, Michael Hudson-Doyle \u003cmichael.hudson@canonical.com\u003e\nwrote:\n\n\u003e It should work, but hasn't been deeply tested.  I suspect that it's the -X\n\u003e arguments that are causing the problems you initially reported.\n\u003e\n\u003e I don't understand that second link failure, it seems to be trying to link\n\u003e runtime/cgo only, which makes no real sense. What commands are you running?\n\u003e\n\u003e On 26 May 2016 at 06:33, Lynn Boger \u003cnotifications@github.com\u003e wrote:\n\u003e\n\u003e\u003e How much of the -buildmode=shared -linkshared options should work with\n\u003e\u003e ppc64le? I see it is mentioned in the Go 1.6 release notes as being\n\u003e\u003e supported for ppc64le but I have not used it before.\n\u003e\u003e\n\u003e\u003e I've been trying various ways to use it but can't make it work.\n\u003e\u003e\n\u003e\u003e From looking through various documentation I need to make sure I have\n\u003e\u003e libstd.so, and possibly libcmd.so. When I try to build using\n\u003e\u003e -buildmode=shared I am getting errors like this:\n\u003e\u003e\n\u003e\u003e /home/boger/golang/ibm-go1.6/go/pkg/tool/linux_ppc64le/link -o\n\u003e\u003e $WORK/lib.so -L $WORK -installsuffix dynlink -buildmode=shared -X\n\u003e\u003e k8s.io/kubernetes/pkg/version.buildDate=2016-05-25T18:15:36Z -X\n\u003e\u003e k8s.io/kubernetes/pkg/version.gitCommit=025b0172774770f0d5eee3e9604c1a2d938976e0\n\u003e\u003e -X k8s.io/kubernetes/pkg/version.gitTreeState=dirty -X\n\u003e\u003e k8s.io/kubernetes/pkg/version.gitVersion=v1.3.0-alpha.4.474+025b0172774770-dirty\n\u003e\u003e -X k8s.io/kubernetes/pkg/version.gitMajor=1 -X\n\u003e\u003e k8s.io/kubernetes/pkg/version.gitMinor=3+ -v -extldflags -Wl,--print-map\n\u003e\u003e -extld=powerpc64le-linux-gnu-gcc\n\u003e\u003e runtime/cgo=/home/boger/golang/ibm-go1.6/go/pkg/linux_ppc64le_dynlink/runtime/cgo.a\n\u003e\u003e\n\u003e\u003e\n\u003e\u003e sync/atomic.StorePointer: sync/atomic.StoreUintptr: not defined\n\u003e\u003e\n\u003e\u003e sync/atomic.SwapPointer: sync/atomic.SwapUintptr: not defined\n\u003e\u003e\n\u003e\u003e sync/atomic.CompareAndSwapPointer: sync/atomic.CompareAndSwapUintptr: not\n\u003e\u003e defined\n\u003e\u003e\n\u003e\u003e runtime.sync_atomic_CompareAndSwapUintptrÂ·f:\n\u003e\u003e sync/atomic.CompareAndSwapUintptr: not defined\n\u003e\u003e\n\u003e\u003e runtime.sync_atomic_StoreUintptrÂ·f: sync/atomic.StoreUintptr: not defined\n\u003e\u003e\n\u003e\u003e runtime.sync_atomic_SwapUintptrÂ·f: sync/atomic.SwapUintptr: not defined\n\u003e\u003e\n\u003e\u003e I can see that the symbol sync/atomic.StoreUintptr is in my libstd.so,\n\u003e\u003e but it is not finding it, unless I need to do something to get it to find\n\u003e\u003e it.\n\u003e\u003e\n\u003e\u003e —\n\u003e\u003e You are receiving this because you are subscribed to this thread.\n\u003e\u003e Reply to this email directly or view it on GitHub\n\u003e\u003e \u003chttps://github.com/golang/go/issues/15770#issuecomment-221665360\u003e\n\u003e\u003e\n\u003e\n\u003e\n",
	"user": {
		"login": "mwhudson",
		"id": 672022,
		"type": "User",
		"site_admin": false
	},
	"created_at": "2016-05-26T00:10:30Z",
	"updated_at": "2016-05-26T00:10:30Z"
}
