{
	"id": 51280588,
	"number": 3425,
	"state": "closed",
	"title": "tests: math/rand and sync/atomic fail on ARM in Go 1",
	"body": "by **freny877@student.liu.se**:\n\n\u003cpre\u003enfa@b3:~$ hg clone -u release \u003ca href=\"https://code.google.com/p/go\"\u003ehttps://code.google.com/p/go\u003c/a\u003e\nwarning: code.google.com certificate with fingerprint\ne2:9e:46:29:a0:fd:3c:57:a0:68:30:c5:0a:45:97:63:bf:8d:75:fc not verified (check\nhostfingerprints or web.cacerts config setting)\ndestination directory: go\nrequesting all changes\nadding changesets\nadding manifests\nadding file changes\nadded 12873 changesets with 49167 changes to 7114 files (+5 heads)\nupdating to branch release-branch.go1\n3205 files updated, 0 files merged, 0 files removed, 0 files unresolved\nnfa@b3:~$ cd go/src\nnfa@b3:~/go/src$ ./all.bash\n# Building C bootstrap tool.\ncmd/dist\n\n# Building compilers and Go bootstrap tool for host, linux/arm.\nlib9\nlibbio\nlibmach\nmisc/pprof\ncmd/addr2line\ncmd/cov\ncmd/nm\ncmd/objdump\ncmd/pack\ncmd/prof\ncmd/cc\ncmd/gc\ncmd/5l\ncmd/5a\ncmd/5c\ncmd/5g\npkg/runtime\npkg/errors\npkg/sync/atomic\npkg/sync\npkg/io\npkg/unicode\npkg/unicode/utf8\npkg/unicode/utf16\npkg/bytes\npkg/math\npkg/strings\npkg/strconv\npkg/bufio\npkg/sort\npkg/container/heap\npkg/encoding/base64\npkg/syscall\npkg/time\npkg/os\npkg/reflect\npkg/fmt\npkg/encoding/json\npkg/flag\npkg/path/filepath\npkg/path\npkg/io/ioutil\npkg/log\npkg/regexp/syntax\npkg/regexp\npkg/go/token\npkg/go/scanner\npkg/go/ast\npkg/go/parser\npkg/os/exec\npkg/net/url\npkg/text/template/parse\npkg/text/template\npkg/go/doc\npkg/go/build\ncmd/go\n\n# Building packages and commands for linux/arm.\nruntime\nerrors\nsync/atomic\nsync\nio\nunicode\nunicode/utf8\nbytes\nbufio\nmath\nsyscall\ntime\nos\nstrconv\nreflect\nfmt\nsort\nflag\ngo/token\nstrings\npath/filepath\ngo/scanner\ngo/ast\nregexp/syntax\nregexp\nio/ioutil\nnet/url\ntext/template/parse\ntext/template\ngo/doc\ngo/parser\nlog\npath\ngo/build\ntext/tabwriter\ngo/printer\nos/exec\ncmd/api\nhash\ncrypto\ncrypto/md5\nencoding/binary\ndebug/dwarf\ndebug/elf\ndebug/macho\ndebug/pe\ncmd/cgo\ncmd/fix\ncontainer/heap\nencoding/base64\nunicode/utf16\nencoding/json\nencoding/xml\ncompress/flate\nhash/crc32\ncompress/gzip\ncrypto/cipher\ncrypto/aes\ncrypto/des\nmath/rand\nmath/big\ncrypto/elliptic\ncrypto/hmac\ncrypto/rand\ncrypto/rc4\ncrypto/subtle\ncrypto/rsa\ncrypto/sha1\ncrypto/dsa\nencoding/asn1\ncrypto/x509/pkix\nencoding/pem\ncrypto/x509\nnet\ncrypto/tls\nmime\nnet/textproto\nmime/multipart\nruntime/debug\nnet/http\ncmd/go\narchive/zip\nencoding/gob\nexpvar\nindex/suffixarray\nhtml\nhtml/template\nruntime/pprof\nnet/http/pprof\ntext/scanner\ncmd/godoc\ncmd/gofmt\ncmd/vet\ncmd/yacc\narchive/tar\ncompress/bzip2\ncompress/lzw\nhash/adler32\ncompress/zlib\ncontainer/list\ncontainer/ring\ncrypto/ecdsa\ncrypto/sha256\ncrypto/sha512\ndatabase/sql/driver\ndatabase/sql\ndebug/gosym\nencoding/ascii85\nencoding/base32\nencoding/csv\nencoding/hex\nhash/crc64\nhash/fnv\nimage/color\nimage\nimage/draw\nimage/gif\nimage/jpeg\nimage/png\nlog/syslog\nmath/cmplx\nnet/http/cgi\nnet/http/fcgi\nnet/http/httptest\nnet/http/httputil\nnet/mail\nnet/rpc\nnet/rpc/jsonrpc\nnet/smtp\nos/signal\nos/user\ntesting\ntesting/iotest\ntesting/quick\n\n# Testing packages.\nok  \tcmd/api\t0.496s\n?   \tcmd/cgo\t[no test files]\nok  \tcmd/fix\t26.493s\nok  \tcmd/go\t0.259s\n?   \tcmd/godoc\t[no test files]\nok  \tcmd/gofmt\t1.092s\n?   \tcmd/vet\t[no test files]\n?   \tcmd/yacc\t[no test files]\nok  \tarchive/tar\t0.197s\nok  \tarchive/zip\t1.775s\nok  \tbufio\t9.001s\nok  \tbytes\t3.662s\nok  \tcompress/bzip2\t1.426s\nok  \tcompress/flate\t7.919s\nok  \tcompress/gzip\t0.772s\nok  \tcompress/lzw\t0.698s\nok  \tcompress/zlib\t6.301s\nok  \tcontainer/heap\t0.186s\nok  \tcontainer/list\t0.153s\nok  \tcontainer/ring\t0.358s\n?   \tcrypto\t[no test files]\nok  \tcrypto/aes\t0.290s\nok  \tcrypto/cipher\t0.159s\nok  \tcrypto/des\t0.656s\nok  \tcrypto/dsa\t0.709s\nok  \tcrypto/ecdsa\t0.703s\nok  \tcrypto/elliptic\t0.357s\nok  \tcrypto/hmac\t0.260s\nok  \tcrypto/md5\t0.259s\nok  \tcrypto/rand\t1.215s\nok  \tcrypto/rc4\t0.149s\nok  \tcrypto/rsa\t10.328s\nok  \tcrypto/sha1\t0.192s\nok  \tcrypto/sha256\t0.170s\nok  \tcrypto/sha512\t0.379s\nok  \tcrypto/subtle\t0.356s\nok  \tcrypto/tls\t24.265s\nok  \tcrypto/x509\t31.260s\n?   \tcrypto/x509/pkix\t[no test files]\nok  \tdatabase/sql\t0.441s\nok  \tdatabase/sql/driver\t0.152s\nok  \tdebug/dwarf\t0.551s\nok  \tdebug/elf\t0.457s\nok  \tdebug/gosym\t0.157s\nok  \tdebug/macho\t0.206s\nok  \tdebug/pe\t0.335s\nok  \tencoding/ascii85\t0.285s\nok  \tencoding/asn1\t0.183s\nok  \tencoding/base32\t0.297s\nok  \tencoding/base64\t0.265s\nok  \tencoding/binary\t0.275s\nok  \tencoding/csv\t0.293s\nok  \tencoding/gob\t1.054s\nok  \tencoding/hex\t0.158s\nok  \tencoding/json\t2.306s\nok  \tencoding/pem\t0.280s\nok  \tencoding/xml\t0.579s\nok  \terrors\t0.151s\nok  \texpvar\t0.271s\nok  \tflag\t0.155s\nok  \tfmt\t1.402s\nok  \tgo/ast\t0.183s\nok  \tgo/build\t37.577s\nok  \tgo/doc\t1.730s\nok  \tgo/parser\t1.342s\nok  \tgo/printer\t8.732s\nok  \tgo/scanner\t0.515s\nok  \tgo/token\t1.375s\n?   \thash\t[no test files]\nok  \thash/adler32\t0.175s\nok  \thash/crc32\t0.151s\nok  \thash/crc64\t0.150s\nok  \thash/fnv\t0.156s\nok  \thtml\t0.330s\nok  \thtml/template\t1.406s\nok  \timage\t1.766s\nok  \timage/color\t0.202s\nok  \timage/draw\t0.926s\n?   \timage/gif\t[no test files]\nok  \timage/jpeg\t1.197s\nok  \timage/png\t1.668s\nok  \tindex/suffixarray\t0.575s\nok  \tio\t0.283s\nok  \tio/ioutil\t0.173s\nok  \tlog\t0.289s\nok  \tlog/syslog\t0.397s\nok  \tmath\t0.733s\nok  \tmath/big\t8.071s\nok  \tmath/cmplx\t0.250s\npanic: test timed out\n\ngoroutine 8 [running]:\ntesting.alarm()\n\t/home/nfa/go/src/pkg/testing/testing.go:436 +0x5c\ncreated by time.goFunc\n\t/home/nfa/go/src/pkg/time/sleep.go:94 +0x5c\n\ngoroutine 1 [chan receive]:\ntesting.RunTests(0x10c00, 0x17a7e0, 0x6, 0x6, 0xffffff01, ...)\n\t/home/nfa/go/src/pkg/testing/testing.go:350 +0x8b4\ntesting.Main(0x10c00, 0x17a7e0, 0x6, 0x6, 0x17a720, ...)\n\t/home/nfa/go/src/pkg/testing/testing.go:285 +0x70\nmain.main()\n\t/tmp/go-build770188874/math/rand/_test/_testmain.go:63 +0x88\n\ngoroutine 2 [syscall]:\ncreated by runtime.main\n\t/home/nfa/go/src/pkg/runtime/proc.c:221\n\ngoroutine 3 [timer goroutine (idle)]:\ncreated by addtimer\n\t/home/nfa/go/src/pkg/runtime/ztime_arm.c:69\n\ngoroutine 9 [runnable]:\ntesting.tRunner(0x1061eac0, 0x17a810, 0x0)\n\t/home/nfa/go/src/pkg/testing/testing.go:256\ncreated by testing.RunTests\n\t/home/nfa/go/src/pkg/testing/testing.go:349 +0x894\nFAIL\tmath/rand\t129.866s\nok  \tmime\t0.180s\nok  \tmime/multipart\t3.571s\nok  \tnet\t2.680s\nok  \tnet/http\t30.493s\nok  \tnet/http/cgi\t3.718s\nok  \tnet/http/fcgi\t0.415s\nok  \tnet/http/httptest\t0.315s\nok  \tnet/http/httputil\t0.362s\n?   \tnet/http/pprof\t[no test files]\nok  \tnet/mail\t0.270s\nok  \tnet/rpc\t0.662s\nok  \tnet/rpc/jsonrpc\t0.240s\nok  \tnet/smtp\t0.180s\nok  \tnet/textproto\t0.274s\nok  \tnet/url\t0.375s\nok  \tos\t0.789s\nok  \tos/exec\t6.158s\nok  \tos/signal\t0.152s\nok  \tos/user\t0.158s\nok  \tpath\t0.162s\nok  \tpath/filepath\t0.319s\nok  \treflect\t0.324s\nok  \tregexp\t4.495s\nok  \tregexp/syntax\t16.072s\nok  \truntime\t61.095s\nok  \truntime/debug\t0.281s\nok  \truntime/pprof\t4.174s\nok  \tsort\t1.104s\nok  \tstrconv\t11.263s\nok  \tstrings\t0.401s\nok  \tsync\t0.604s\nSIGILL: illegal instruction\nPC=0xc233c\n\nsync/atomic.armAddUint64(0x106001a8, 0x1, 0x0, 0x10600198, 0x54c34, ...)\n\t/home/nfa/go/src/pkg/sync/atomic/asm_arm.s:66 +0x8\nsync/atomic_test._func_008(0x0, 0x0)\n\t/home/nfa/go/src/pkg/sync/atomic/atomic_test.go:37 +0x84\nsync/atomic_test.init()\n\t/home/nfa/go/src/pkg/sync/atomic/atomic_test.go:39 +0x78\nmain.init()\n\t/tmp/go-build770188874/sync/atomic/_test/_testmain.go:102 +0x70\n\ngoroutine 2 [runnable]:\ncreated by runtime.main\n\t/home/nfa/go/src/pkg/runtime/proc.c:221\n\ntrap    0x6\nerror   0x0\noldmask 0x0\nr0      0x0\nr1      0xa\nr2      0x106001a8\nr3      0x594ba8\nr4      0x4cdd0\nr5      0x401a9f70\nr6      0xa\nr7      0x10620520\nr8      0xefc0a940\nr9      0x186c64\nr10     0x10624000\nfp      0xfffffff8\nip      0xcafebabe\nsp      0x401a9f6c\nlr      0xc2384\npc      0xc233c\ncpsr    0x60000010\nfault   0x0\nFAIL\tsync/atomic\t0.155s\n?   \tsyscall\t[no test files]\n?   \ttesting\t[no test files]\n?   \ttesting/iotest\t[no test files]\nok  \ttesting/quick\t0.904s\nok  \ttext/scanner\t0.296s\nok  \ttext/tabwriter\t0.289s\nok  \ttext/template\t0.573s\nok  \ttext/template/parse\t0.306s\nok  \ttime\t20.035s\nok  \tunicode\t0.160s\nok  \tunicode/utf16\t0.151s\nok  \tunicode/utf8\t0.281s\n?   \tunsafe\t[no test files]\nnfa@b3:~/go/src$\u003c/pre\u003e",
	"user": {
		"login": "gopherbot",
		"id": 8566911,
		"type": "User",
		"site_admin": false
	},
	"labels": [
		{
			"name": "FrozenDueToAge"
		}
	],
	"comments": 3,
	"closed_at": "2014-12-08T10:17:54Z",
	"created_at": "2012-03-29T08:15:45Z",
	"updated_at": "2016-06-24T22:16:42Z"
}
