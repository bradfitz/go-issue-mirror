{
	"id": 51281252,
	"number": 3854,
	"state": "closed",
	"title": "redhat  6.0 go test failure while centos 6.0 tested  fine",
	"body": "\u003cpre\u003eI can not figure out why go 1.0.2 test failed on RHEL 6.0 but not centos 6.0.\n\nWhat steps will reproduce the problem?\nIf possible, include a link to a program on play.golang.org.\n1. cd go/src;./all.bash\n\n\nWhat is the expected output?\n\n\n# Checking API compatibility.\nGo version is \u0026quot;go1.0.2\u0026quot;, ignoring -next /home/gobuild/go/api/next.txt\n\nALL TESTS PASSED\n\n---\nInstalled Go for linux/amd64 in /home/gobuild/go\nInstalled commands in /home/gobuild/go/bin\n*** You need to add /home/gobuild/go/bin to your PATH.\n[gobuild@b-rhel6-64 src]$ \n\nWhat do you see instead?\n\n\u0026lt;snipped\u0026gt;\nok      math    0.017s\nok      math/big        0.235s\nok      math/cmplx      0.009s\nok      math/rand       0.238s\nok      mime    0.009s\nok      mime/multipart  0.360s\n--- FAIL: TestDialTimeout (0.00 seconds)\n        dial_test.go:22: listen tcp6 [::1]:0: cannot assign requested address\n--- FAIL: TestSelfConnect (0.00 seconds)\n        dial_test.go:117: listen tcp 127.0.0.1:0: cannot assign requested address\n--- FAIL: TestFileListener (0.00 seconds)\n        file_test.go:36: Listen failed: listen tcp 127.0.0.1:0: cannot assign requested address\n--- FAIL: TestFilePacketConn (0.00 seconds)\n        file_test.go:140: ListenPacket failed: listen udp 127.0.0.1:0: cannot assign requested address\n--- FAIL: TestShutdown (0.00 seconds)\n        net_test.go:22: ListenTCP on :0: listen tcp6 [::1]:0: cannot assign requested address\n--- FAIL: TestTCPListenClose (0.00 seconds)\n        net_test.go:64: Listen failed: listen tcp 127.0.0.1:0: cannot assign requested address\n--- FAIL: TestUDPListenClose (0.00 seconds)\n        net_test.go:91: Listen failed: listen udp 127.0.0.1:0: cannot assign requested address\n--- FAIL: TestStreamConnServer (0.00 seconds)\n        server_test.go:175: Listen(\u0026quot;tcp\u0026quot;, \u0026quot;127.0.0.1:0\u0026quot;) failed: listen tcp 127.0.0.1:0: cannot assign requested address\n        server_test.go:116: SplitHostPort(\u0026quot;\u0026lt;nil\u0026gt;\u0026quot;) failed: missing port in address \u0026lt;nil\u0026gt;\n--- FAIL: TestTimeoutUDP (0.00 seconds)\n        server_test.go:362: ListenPacket(\u0026quot;udp\u0026quot;, \u0026quot;127.0.0.1:0\u0026quot;) failed: listen udp 127.0.0.1:0: cannot assign requested address\n        timeout_test.go:17: Dial(\u0026quot;udp\u0026quot;, \u0026quot;\u0026lt;nil\u0026gt;\u0026quot;) failed: missing port in address \u0026lt;nil\u0026gt;\n        timeout_test.go:17: Dial(\u0026quot;udp\u0026quot;, \u0026quot;\u0026lt;nil\u0026gt;\u0026quot;) failed: missing port in address \u0026lt;nil\u0026gt;\n--- FAIL: TestTimeoutTCP (0.00 seconds)\n        server_test.go:175: Listen(\u0026quot;tcp\u0026quot;, \u0026quot;127.0.0.1:0\u0026quot;) failed: listen tcp 127.0.0.1:0: cannot assign requested address\n        timeout_test.go:17: Dial(\u0026quot;tcp\u0026quot;, \u0026quot;\u0026lt;nil\u0026gt;\u0026quot;) failed: missing port in address \u0026lt;nil\u0026gt;\n--- FAIL: TestDeadlineReset (0.00 seconds)\n        timeout_test.go:102: listen tcp 127.0.0.1:0: cannot assign requested address\n--- FAIL: TestWriteToUDP (0.00 seconds)\n        udp_test.go:21: Listen failed: listen udp 127.0.0.1:0: cannot assign requested address\n--- FAIL: TestTCPListener (0.00 seconds)\n        unicast_test.go:328: Probe Listen(\u0026quot;tcp\u0026quot;, \u0026quot;127.0.0.1\u0026quot;) failed: listen tcp 127.0.0.1:0: cannot assign requested address\n--- FAIL: TestUDPListener (0.00 seconds)\n        unicast_test.go:348: Probe ListenPacket(\u0026quot;udp\u0026quot;, \u0026quot;127.0.0.1\u0026quot;) failed: listen udp 127.0.0.1:0: cannot assign requested address\n--- FAIL: TestSimpleTCPListener (0.00 seconds)\n        unicast_test.go:328: Probe Listen(\u0026quot;tcp\u0026quot;, \u0026quot;127.0.0.1\u0026quot;) failed: listen tcp 127.0.0.1:0: cannot assign requested address\n--- FAIL: TestSimpleUDPListener (0.00 seconds)\n        unicast_test.go:348: Probe ListenPacket(\u0026quot;udp\u0026quot;, \u0026quot;127.0.0.1\u0026quot;) failed: listen udp 127.0.0.1:0: cannot assign requested address\nFAIL\nFAIL    net     0.296s\npanic: httptest: failed to listen on a port: listen tcp6 [::1]:0: cannot assign\nrequested address [recovered]\n        panic: httptest: failed to listen on a port: listen tcp6 [::1]:0: cannot assign requested address\n\ngoroutine 23 [running]:\ntesting._func_003(0x7f47d205ffa8, 0x7f47d205f100, 0x7f47d205ffb8, 0x7f47d205fd20)\n        /home/gobuild/go/src/pkg/testing/testing.go:268 +0xf3\n----- stack segment boundary -----\nnet/http/httptest.newLocalListener(0x200410088, 0x408b7a)\n        /home/gobuild/go/src/pkg/net/http/httptest/server.go:61 +0x344\nnet/http/httptest.NewUnstartedServer(0xf840373d80, 0x478ddb, 0x7f47d205fea8,\n0x7f47d205fea0, 0x4516b3, ...)\n        /home/gobuild/go/src/pkg/net/http/httptest/server.go:89 +0x1c\nnet/http/httptest.NewServer(0xf840373d80, 0x478ddb, 0x478ddb, 0xf840373d80, 0x478ddb,\n...)\n        /home/gobuild/go/src/pkg/net/http/httptest/server.go:76 +0x31\nnet/http_test.TestClient(0xf840081a80, 0x6eded0)\n        /home/gobuild/go/src/pkg/net/http/client_test.go:56 +0x54\ntesting.tRunner(0xf840081a80, 0x7c6010, 0x0, 0x0)\n        /home/gobuild/go/src/pkg/testing/testing.go:273 +0x6f\ncreated by testing.RunTests\n        /home/gobuild/go/src/pkg/testing/testing.go:349 +0x782\n\ngoroutine 1 [chan receive]:\ntesting.RunTests(0x400c00, 0x7c5e48, 0x6c0000006c, 0x6c3c01, 0xf8400c2c78, ...)\n        /home/gobuild/go/src/pkg/testing/testing.go:350 +0x7a5\ntesting.Main(0x400c00, 0x7c5e48, 0x6c0000006c, 0x7bd658, 0x100000001, ...)\n        /home/gobuild/go/src/pkg/testing/testing.go:285 +0x7a\nmain.main()\n        /tmp/go-build033930354/net/http/_test/_testmain.go:261 +0x91\n\ngoroutine 2 [syscall]:\ncreated by runtime.main\n        /home/gobuild/go/src/pkg/runtime/proc.c:221\n\ngoroutine 3 [syscall]:\ncreated by addtimer\n        /home/gobuild/go/src/pkg/runtime/ztime_amd64.c:72\nFAIL    net/http        0.393s\npanic: httptest: failed to listen on a port: listen tcp6 [::1]:0: cannot assign\nrequested address [recovered]\n        panic: httptest: failed to listen on a port: listen tcp6 [::1]:0: cannot assign requested address\n\ngoroutine 18 [running]:\ntesting._func_003(0x7f604f6d9fa8, 0x7f604f6d9100, 0x7f604f6d9fb8, 0x7f604f6d9c90)\n        /home/gobuild/go/src/pkg/testing/testing.go:268 +0xf3\n----- stack segment boundary -----\nnet/http/httptest.newLocalListener(0x200000000, 0x407954)\n        /home/gobuild/go/src/pkg/net/http/httptest/server.go:61 +0x344\nnet/http/httptest.NewUnstartedServer(0xf8400c5840, 0xf8400be980, 0x7f604f6d9e18,\n0x7f604f6d9e10, 0x42bf4d, ...)\n        /home/gobuild/go/src/pkg/net/http/httptest/server.go:89 +0x1c\nnet/http/httptest.NewServer(0xf8400c5840, 0xf8400be980, 0xf8400be980, 0xf8400c5840,\n0xf8400be980, ...)\n        /home/gobuild/go/src/pkg/net/http/httptest/server.go:76 +0x31\nnet/http/cgi.TestCopyError(0xf840000850, 0x15222418)\n        /home/gobuild/go/src/pkg/net/http/cgi/host_test.go:322 +0xb2\ntesting.tRunner(0xf840000850, 0x72d218, 0x0, 0x0)\n        /home/gobuild/go/src/pkg/testing/testing.go:273 +0x6f\ncreated by testing.RunTests\n        /home/gobuild/go/src/pkg/testing/testing.go:349 +0x782\n\ngoroutine 1 [chan receive]:\ntesting.RunTests(0x400c00, 0x72d0f8, 0x1300000013, 0x499101, 0xf84009f310, ...)\n        /home/gobuild/go/src/pkg/testing/testing.go:350 +0x7a5\ntesting.Main(0x400c00, 0x72d0f8, 0x1300000013, 0x72fe18, 0x0, ...)\n        /home/gobuild/go/src/pkg/testing/testing.go:285 +0x7a\nmain.main()\n        /tmp/go-build033930354/net/http/cgi/_test/_testmain.go:79 +0x91\n\ngoroutine 2 [syscall]:\ncreated by runtime.main\n        /home/gobuild/go/src/pkg/runtime/proc.c:221\n\ngoroutine 3 [syscall]:\ncreated by addtimer\n        /home/gobuild/go/src/pkg/runtime/ztime_amd64.c:72\n\ngoroutine 11 [finalizer wait]:\ncreated by runtime.gc\n        /home/gobuild/go/src/pkg/runtime/mgc0.c:882\nFAIL    net/http/cgi    0.669s\nok      net/http/fcgi   0.020s\npanic: httptest: failed to listen on a port: listen tcp6 [::1]:0: cannot assign\nrequested address [recovered]\n        panic: httptest: failed to listen on a port: listen tcp6 [::1]:0: cannot assign requested address\n\ngoroutine 4 [running]:\ntesting._func_003(0x7f5ffbed0fa8, 0x7f5ffbed0100, 0x7f5ffbed0fb8, 0x7f5ffbed0d38)\n        /home/gobuild/go/src/pkg/testing/testing.go:268 +0xf3\n----- stack segment boundary -----\nnet/http/httptest.newLocalListener(0x202725780, 0x40786a)\n        /home/gobuild/go/src/pkg/net/http/httptest/server.go:61 +0x344\nnet/http/httptest.NewUnstartedServer(0xf84005f990, 0x425468, 0x7f5ffbed0ec0,\n0x7f5ffbed0eb8, 0x425085, ...)\n        /home/gobuild/go/src/pkg/net/http/httptest/server.go:89 +0x1c\nnet/http/httptest.NewServer(0xf84005f990, 0x425468, 0x425468, 0xf84005f990, 0x425468,\n...)\n        /home/gobuild/go/src/pkg/net/http/httptest/server.go:76 +0x31\nnet/http/httptest.TestServer(0xf84006c1c0, 0x234a5128)\n        /home/gobuild/go/src/pkg/net/http/httptest/server_test.go:16 +0x51\ntesting.tRunner(0xf84006c1c0, 0x7065d0, 0x0, 0x0)\n        /home/gobuild/go/src/pkg/testing/testing.go:273 +0x6f\ncreated by testing.RunTests\n        /home/gobuild/go/src/pkg/testing/testing.go:349 +0x782\n\ngoroutine 1 [chan receive]:\ntesting.RunTests(0x400c00, 0x7065d0, 0x100000001, 0x1, 0x6f6840, ...)\n        /home/gobuild/go/src/pkg/testing/testing.go:350 +0x7a5\ntesting.Main(0x400c00, 0x7065d0, 0x100000001, 0x70bc70, 0x0, ...)\n        /home/gobuild/go/src/pkg/testing/testing.go:285 +0x7a\nmain.main()\n        /tmp/go-build033930354/net/http/httptest/_test/_testmain.go:43 +0x91\n\ngoroutine 2 [syscall]:\ncreated by runtime.main\n        /home/gobuild/go/src/pkg/runtime/proc.c:221\n\ngoroutine 3 [syscall]:\ncreated by addtimer\n        /home/gobuild/go/src/pkg/runtime/ztime_amd64.c:72\nFAIL    net/http/httptest       0.065s\npanic: httptest: failed to listen on a port: listen tcp6 [::1]:0: cannot assign\nrequested address [recovered]\n        panic: httptest: failed to listen on a port: listen tcp6 [::1]:0: cannot assign requested address\n\ngoroutine 10 [running]:\ntesting._func_003(0x7f3d92332fa8, 0x7f3d92332100, 0x7f3d92332fb8, 0x7f3d92332be8)\n        /home/gobuild/go/src/pkg/testing/testing.go:268 +0xf3\n----- stack segment boundary -----\nnet/http/httptest.newLocalListener(0x2400b3570, 0x4085d5)\n        /home/gobuild/go/src/pkg/net/http/httptest/server.go:61 +0x344\nnet/http/httptest.NewUnstartedServer(0xf8400ca060, 0xf8400b3540, 0x7f3d92332d70,\n0x7f3d92332d68, 0x428cad, ...)\n        /home/gobuild/go/src/pkg/net/http/httptest/server.go:89 +0x1c\nnet/http/httptest.NewServer(0xf8400ca060, 0xf8400b3540, 0xf8400b3540, 0xf8400ca060,\n0xf8400b3540, ...)\n        /home/gobuild/go/src/pkg/net/http/httptest/server.go:76 +0x31\nnet/http/httputil.TestReverseProxy(0xf8400d0000, 0xb7edb18)\n        /home/gobuild/go/src/pkg/net/http/httputil/reverseproxy_test.go:37 +0x94\ntesting.tRunner(0xf8400d0000, 0x71b150, 0x0, 0x0)\n        /home/gobuild/go/src/pkg/testing/testing.go:273 +0x6f\ncreated by testing.RunTests\n        /home/gobuild/go/src/pkg/testing/testing.go:349 +0x782\n\ngoroutine 1 [chan receive]:\ntesting.RunTests(0x400c00, 0x71b120, 0x400000004, 0x1, 0x709840, ...)\n        /home/gobuild/go/src/pkg/testing/testing.go:350 +0x7a5\ntesting.Main(0x400c00, 0x71b120, 0x400000004, 0x71f1b0, 0x0, ...)\n        /home/gobuild/go/src/pkg/testing/testing.go:285 +0x7a\nmain.main()\n        /tmp/go-build033930354/net/http/httputil/_test/_testmain.go:49 +0x91\n\ngoroutine 2 [syscall]:\ncreated by runtime.main\n        /home/gobuild/go/src/pkg/runtime/proc.c:221\n\ngoroutine 3 [syscall]:\ncreated by addtimer\n        /home/gobuild/go/src/pkg/runtime/ztime_amd64.c:72\n\ngoroutine 7 [chan receive]:\nnet/http.(*persistConn).readLoop(0xf8400c4060, 0x0)\n        /home/gobuild/go/src/pkg/net/http/transport.go:539 +0x26e\ncreated by net/http.(*Transport).getConn\n        /home/gobuild/go/src/pkg/net/http/transport.go:382 +0x5df\n\ngoroutine 9 [chan receive]:\nnet/http.(*persistConn).readLoop(0xf8400c4360, 0x0)\n        /home/gobuild/go/src/pkg/net/http/transport.go:539 +0x26e\ncreated by net/http.(*Transport).getConn\n        /home/gobuild/go/src/pkg/net/http/transport.go:382 +0x5df\nFAIL    net/http/httputil       0.065s\n?       net/http/pprof  [no test files]\nok      net/mail        0.053s\n2012/07/23 10:56:04 net.Listen tcp :0: listen tcp 127.0.0.1:0: cannot assign requested\naddress\nFAIL    net/rpc 0.044s\nok      net/rpc/jsonrpc 0.021s\nok      net/smtp        0.016s\nok      net/textproto   0.022s\nok      net/url 0.059s\nok      os      0.341s\n--- FAIL: TestExtraFiles (0.00 seconds)\n        exec_test.go:166: listen tcp 127.0.0.1:0: cannot assign requested address\nFAIL\nFAIL    os/exec 0.081s\nok      os/signal       0.010s\nok      os/user 0.012s\nok      path    0.009s\nok      path/filepath   0.967s\nok      reflect 0.012s\nok      regexp  0.133s\nok      regexp/syntax   1.287s\nok      runtime 0.727s\n?       runtime/cgo     [no test files]\nok      runtime/debug   0.009s\nok      runtime/pprof   0.833s\nok      sort    0.213s\nok      strconv 0.856s\nok      strings 0.062s\nok      sync    0.086s\nok      sync/atomic     0.141s\n?       syscall [no test files]\n?       testing [no test files]\n?       testing/iotest  [no test files]\nok      testing/quick   0.079s\nok      text/scanner    0.011s\nok      text/tabwriter  0.080s\nok      text/template   0.031s\nok      text/template/parse     0.012s\nok      time    2.573s\nok      unicode 0.047s\nok      unicode/utf16   0.009s\nok      unicode/utf8    0.011s\n?       unsafe  [no test files]\n[gobuild@b-rhel6-64 src]$\n\n\n\n\nWhich operating system are you using?\n\n[gobuild@b-rhel6-64 src]$ cat /etc/redhat-release\nRed Hat Enterprise Linux Server release 6.0 (Santiago)\n[gobuild@b-rhel6-64 src]$\n\n\nWhich version are you using?  (run 'go version')\n\n[gobuild@b-rhel6-64 src]$ ../bin/go version\ngo version go1.0.2\n[gobuild@b-rhel6-64 src]$\n\n\nPlease provide any additional information below.\n\nselinux is disabled.\n\n[gobuild@b-rhel6-64 src]$ grep disabled /etc/selinux/config\n#     disabled - No SELinux policy is loaded.\nSELINUX=disabled\n[gobuild@b-rhel6-64 src]$\n\nfirewall is disabled.\n[gobuild@b-rhel6-64 src]$ sudo /etc/init.d/iptables status\niptables: Firewall is not running.\n[gobuild@b-rhel6-64 src]$ sudo /etc/init.d/ip6tables status\nip6tables: Firewall is not running.\n[gobuild@b-rhel6-64 src]$\u003c/pre\u003e",
	"user": {
		"login": "tjyang",
		"id": 378638,
		"type": "User",
		"site_admin": false
	},
	"labels": [
		{
			"name": "FrozenDueToAge"
		}
	],
	"comments": 3,
	"closed_at": "2014-12-08T10:20:21Z",
	"created_at": "2012-07-23T16:10:01Z",
	"updated_at": "2016-06-24T22:21:55Z"
}
