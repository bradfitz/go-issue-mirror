{
	"id": 53114182,
	"number": 9472,
	"state": "closed",
	"title": "lib9: build failure on mingw32",
	"body": "```\r\n##### Building C bootstrap tool.\r\ncmd/dist\r\n\r\n##### Building compilers and Go bootstrap tool.\r\nIn file included from C:\\Users\\mattn\\dev\\go\\src\\lib9\\_exits.c:29:0:\r\nC:\\Users\\mattn\\dev\\go\\include/libc.h:313:8: error: redefinition of 'struct timespec'\r\n struct timespec {\r\n        ^\r\nIn file included from c:\\mingw\\include\\unistd.h:95:0,\r\n                 from C:\\Users\\mattn\\dev\\go\\include/u.h:62,\r\n                 from C:\\Users\\mattn\\dev\\go\\src\\lib9\\_exits.c:28:\r\nc:\\mingw\\include\\parts\\time.h:65:8: note: originally defined here\r\n struct timespec\r\n        ^\r\nIn file included from C:\\Users\\mattn\\dev\\go\\src\\lib9\\_exits.c:29:0:\r\nC:\\Users\\mattn\\dev\\go\\include/libc.h:321:12: error: conflicting types for 'nanosleep'\r\n extern int nanosleep(const struct timespec *rqtp, struct timespec *rmtp);\r\n            ^\r\nIn file included from C:\\Users\\mattn\\dev\\go\\include/u.h:62:0,\r\n                 from C:\\Users\\mattn\\dev\\go\\src\\lib9\\_exits.c:28:\r\nc:\\mingw\\include\\unistd.h:109:5: note: previous definition of 'nanosleep' was here\r\n int nanosleep( const struct timespec *period, struct timespec *residual )\r\n     ^\r\nIn file included from C:\\Users\\mattn\\dev\\go\\src\\lib9\\_p9dir.c:30:0:\r\nC:\\Users\\mattn\\dev\\go\\include/libc.h:313:8: error: redefinition of 'struct timespec'\r\n struct timespec {\r\n        ^\r\nIn file included from c:\\mingw\\include\\unistd.h:95:0,\r\n                 from C:\\Users\\mattn\\dev\\go\\include/u.h:62,\r\n                 from C:\\Users\\mattn\\dev\\go\\src\\lib9\\_p9dir.c:28:\r\nc:\\mingw\\include\\parts\\time.h:65:8: note: originally defined here\r\n struct timespec\r\n        ^\r\nIn file included from C:\\Users\\mattn\\dev\\go\\src\\lib9\\_p9dir.c:30:0:\r\nC:\\Users\\mattn\\dev\\go\\include/libc.h:321:12: error: conflicting types for 'nanosleep'\r\n extern int nanosleep(const struct timespec *rqtp, struct timespec *rmtp);\r\n            ^\r\nIn file included from C:\\Users\\mattn\\dev\\go\\include/u.h:62:0,\r\n                 from C:\\Users\\mattn\\dev\\go\\src\\lib9\\_p9dir.c:28:\r\nc:\\mingw\\include\\unistd.h:109:5: note: previous definition of 'nanosleep' was here\r\n int nanosleep( const struct timespec *period, struct timespec *residual )\r\n     ^\r\nIn file included from C:\\Users\\mattn\\dev\\go\\src\\lib9\\atoi.c:29:0:\r\nC:\\Users\\mattn\\dev\\go\\include/libc.h:313:8: error: redefinition of 'struct timespec'\r\n struct timespec {\r\n        ^\r\nIn file included from c:\\mingw\\include\\unistd.h:95:0,\r\n                 from C:\\Users\\mattn\\dev\\go\\include/u.h:62,\r\n                 from C:\\Users\\mattn\\dev\\go\\src\\lib9\\atoi.c:28:\r\nc:\\mingw\\include\\parts\\time.h:65:8: note: originally defined here\r\n struct timespec\r\n        ^\r\nIn file included from C:\\Users\\mattn\\dev\\go\\src\\lib9\\atoi.c:29:0:\r\nC:\\Users\\mattn\\dev\\go\\include/libc.h:321:12: error: conflicting types for 'nanosleep'\r\n extern int nanosleep(const struct timespec *rqtp, struct timespec *rmtp);\r\n            ^\r\nIn file included from C:\\Users\\mattn\\dev\\go\\include/u.h:62:0,\r\n                 from C:\\Users\\mattn\\dev\\go\\src\\lib9\\atoi.c:28:\r\nc:\\mingw\\include\\unistd.h:109:5: note: previous definition of 'nanosleep' was here\r\n int nanosleep( const struct timespec *period, struct timespec *residual )\r\n     ^\r\nIn file included from C:\\Users\\mattn\\dev\\go\\src\\lib9\\cleanname.c:30:0:\r\nC:\\Users\\mattn\\dev\\go\\include/libc.h:313:8: error: redefinition of 'struct timespec'\r\n struct timespec {\r\n        ^\r\nIn file included from c:\\mingw\\include\\unistd.h:95:0,\r\n                 from C:\\Users\\mattn\\dev\\go\\include/u.h:62,\r\n                 from C:\\Users\\mattn\\dev\\go\\src\\lib9\\cleanname.c:29:\r\nc:\\mingw\\include\\parts\\time.h:65:8: note: originally defined here\r\n struct timespec\r\n        ^\r\nIn file included from C:\\Users\\mattn\\dev\\go\\src\\lib9\\cleanname.c:30:0:\r\nC:\\Users\\mattn\\dev\\go\\include/libc.h:321:12: error: conflicting types for 'nanosleep'\r\n extern int nanosleep(const struct timespec *rqtp, struct timespec *rmtp);\r\n            ^\r\nIn file included from C:\\Users\\mattn\\dev\\go\\include/u.h:62:0,\r\n                 from C:\\Users\\mattn\\dev\\go\\src\\lib9\\cleanname.c:29:\r\nc:\\mingw\\include\\unistd.h:109:5: note: previous definition of 'nanosleep' was here\r\n int nanosleep( const struct timespec *period, struct timespec *residual )\r\n     ^\r\nlib9\r\ngo tool dist: FAILED: gcc -Wall -Wstrict-prototypes -Wextra -Wunused -Wno-sign-compare -Wno-missing-braces -Wno-parentheses -Wno-unknown-pragmas -Wno-switch -Wno-comment -Wno-missing-field-initializers -Werror -fno-common -ggdb -pipe -Wuninitialized -O2 -fmessage-length=0 -c -m32 -I C:\\Users\\mattn\\dev\\go\\include -DPLAN9PORT -I C:\\Users\\mattn\\dev\\go\\src\\lib9 -o C:\\Users\\mattn\\AppData\\Local\\Temp\\go7AEA.tmp\\_exits.o C:\\Users\\mattn\\dev\\go\\src\\lib9\\_exits.c\r\ngo tool dist: FAILED: gcc -Wall -Wstrict-prototypes -Wextra -Wunused -Wno-sign-compare -Wno-missing-braces -Wno-parentheses -Wno-unknown-pragmas -Wno-switch -Wno-comment -Wno-missing-field-initializers -Werror -fno-common -ggdb -pipe -Wuninitialized -O2 -fmessage-length=0 -c -m32 -I C:\\Users\\mattn\\dev\\go\\include -DPLAN9PORT -I C:\\Users\\mattn\\dev\\go\\src\\lib9 -o C:\\Users\\mattn\\AppData\\Local\\Temp\\go7AEA.tmp\\_p9dir.o C:\\Users\\mattn\\dev\\go\\src\\lib9\\_p9dir.c\r\ngo tool dist: FAILED: gcc -Wall -Wstrict-prototypes -Wextra -Wunused -Wno-sign-compare -Wno-missing-braces -Wno-parentheses -Wno-unknown-pragmas -Wno-switch -Wno-comment -Wno-missing-field-initializers -Werror -fno-common -ggdb -pipe -Wuninitialized -O2 -fmessage-length=0 -c -m32 -I C:\\Users\\mattn\\dev\\go\\include -DPLAN9PORT -I C:\\Users\\mattn\\dev\\go\\src\\lib9 -o C:\\Users\\mattn\\AppData\\Local\\Temp\\go7AEA.tmp\\atoi.o C:\\Users\\mattn\\dev\\go\\src\\lib9\\atoi.c\r\ngo tool dist: FAILED: gcc -Wall -Wstrict-prototypes -Wextra -Wunused -Wno-sign-compare -Wno-missing-braces -Wno-parentheses -Wno-unknown-pragmas -Wno-switch -Wno-comment -Wno-missing-field-initializers -Werror -fno-common -ggdb -pipe -Wuninitialized -O2 -fmessage-length=0 -c -m32 -I C:\\Users\\mattn\\dev\\go\\include -DPLAN9PORT -I C:\\Users\\mattn\\dev\\go\\src\\lib9 -o C:\\Users\\mattn\\AppData\\Local\\Temp\\go7AEA.tmp\\cleanname.o C:\\Users\\mattn\\dev\\go\\src\\lib9\\cleanname.c\r\n```",
	"user": {
		"login": "mattn",
		"id": 10111,
		"type": "User",
		"site_admin": false
	},
	"labels": [
		{
			"name": "FrozenDueToAge"
		}
	],
	"comments": 10,
	"closed_at": "2015-01-02T03:39:10Z",
	"created_at": "2014-12-30T13:02:31Z",
	"updated_at": "2016-06-25T01:57:32Z"
}
