{
	"id": 51279040,
	"number": 2316,
	"state": "closed",
	"title": "runtime: crash during signal handler",
	"body": "\u003cpre\u003eMy memcache proxy run very stable, then I add a http interface (using template) and a\nbackground goroutine to update stats, built with recent release r60.1 and recent weekly\nrelease weekly.2011-09-21, \nit crash after several hours.\n\nIt core dump: \n\nGNU gdb (Gentoo 7.2 p1) 7.2\nReading symbols from /home2/davies/shire/extmods/beansdb/go/proxy...done.\n[New Thread 16351]\n[New Thread 12958]\n[New Thread 12956]\n[New Thread 13284]\n[New Thread 12960]\n[New Thread 12957]\n[New Thread 12961]\n[New Thread 12962]\n[New Thread 12963]\n[New Thread 13346]\n[New Thread 868]\n[New Thread 10060]\n[New Thread 12035]\n[New Thread 12959]\n[New Thread 28161]\n[New Thread 13345]\n[New Thread 30716]\n[New Thread 13393]\n[New Thread 6920]\n[New Thread 6921]\n[New Thread 13392]\n[New Thread 27136]\n[New Thread 22800]\n[New Thread 13169]\nReading symbols from /lib64/ld-linux-x86-64.so.2...(no debugging symbols found)...done.\nLoaded symbols for /lib64/ld-linux-x86-64.so.2\nCore was generated by `./proxy -conf doubanfs.ini'.\nProgram terminated with signal 11, Segmentation fault.\n#0  0x0000000000418667 in runtime.sighandler (sig=void, info=void, context=void, gp=void)\n    at /home2/davies/go/src/pkg/runtime/linux/amd64/signal.c:87\n87                              *--sp = r-\u0026gt;rip;\nLoading Go Runtime support.\n(gdb) bt\n#0  0x0000000000418667 in runtime.sighandler (sig=void, info=void, context=void, gp=void)\n    at /home2/davies/go/src/pkg/runtime/linux/amd64/signal.c:87\n#1  0x000000000041ace6 in runtime.sigtramp () at\n/home2/davies/go/src/pkg/runtime/linux/amd64/sys.s:119\n#2  0x000000000041acfa in runtime.sigignore () at\n/home2/davies/go/src/pkg/runtime/linux/amd64/sys.s:128\n#3  0x0000000000000000 in ?? ()\n(gdb) \n\nWhich compiler are you using (5g, 6g, 8g, gccgo)?\n\n6g\n\nWhich operating system are you using?\n\nGentoo Linux x64\n\nWhich revision are you using?  (hg identify)\n\nfd30c132d1bd (release-branch.r60) release/release.r60.1\nand\nd7322ae4d055 weekly/weekly.2011-09-21\u003c/pre\u003e",
	"user": {
		"login": "davies",
		"id": 40902,
		"type": "User",
		"site_admin": false
	},
	"labels": [
		{
			"name": "FrozenDueToAge"
		}
	],
	"comments": 8,
	"closed_at": "2014-12-08T10:12:27Z",
	"created_at": "2011-09-29T06:50:49Z",
	"updated_at": "2016-06-24T19:35:30Z"
}
