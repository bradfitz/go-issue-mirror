{
	"id": 51279558,
	"number": 2681,
	"state": "closed",
	"title": "go build fails to build mattn/go-sqlite3 on os x",
	"body": "\u003cpre\u003eWhen building \u003ca href=\"https://github.com/mattn/go-sqlite3\"\u003ehttps://github.com/mattn/go-sqlite3\u003c/a\u003e ,\n\nMakefile works.\ngo build doesn't work:\n\nbradmac:go bradfitz$ hg log | head\nchangeset:   11182:c6318b5115e5\ntag:         tip\nuser:        Robert Griesemer \u0026lt;gri@golang.org\u0026gt;\ndate:        Wed Jan 11 08:32:03 2012 -0800\nsummary:     go/printer: don't crash if AST contains BadXXX nodes\n\nbradmac:go-sqlite3 bradfitz$ make\nCGOPKGPATH=github.com/mattn cgo --  sqlite3.go\ntouch _obj/_cgo_run\n6g   -p github.com/mattn/go-sqlite3 -o _go_.6  _obj/sqlite3.cgo1.go _obj/_cgo_gotypes.go\n6c -FVw -I/Users/bradfitz/go/pkg/darwin_amd64 -I . -o \u0026quot;_cgo_defun.6\u0026quot;\n_obj/_cgo_defun.c\ngcc -m64 -I . -g -fPIC -O2 -o _cgo_main.o -c  -I/usr/local/Cellar/sqlite/3.7.9/include\n_obj/_cgo_main.c\ngcc -m64 -I . -g -fPIC -O2 -o sqlite3.cgo2.o -c \n-I/usr/local/Cellar/sqlite/3.7.9/include _obj/sqlite3.cgo2.c\nsqlite3.go: In function '_cgo_e368048bac8c_Cfunc_sqlite3_prepare_v2':\nsqlite3.go:109: warning: passing argument 5 of 'sqlite3_prepare_v2' from incompatible\npointer type\ngcc -m64 -I . -g -fPIC -O2 -o _cgo_export.o -c  -I/usr/local/Cellar/sqlite/3.7.9/include\n_obj/_cgo_export.c\ngcc -m64 -g -fPIC -O2 -o _cgo1_.o _cgo_main.o sqlite3.cgo2.o _cgo_export.o \n-L/usr/local/Cellar/sqlite/3.7.9/lib -lsqlite3\ncgo -dynimport _cgo1_.o \u0026gt;_obj/_cgo_import.c_ \u0026amp;\u0026amp; mv -f _obj/_cgo_import.c_\n_obj/_cgo_import.c\n6c -FVw -I . -o \u0026quot;_cgo_import.6\u0026quot; _obj/_cgo_import.c\nrm -f _obj/github.com/mattn/go-sqlite3.a\ngopack grc _obj/github.com/mattn/go-sqlite3.a _go_.6  _cgo_defun.6 _cgo_import.6\nsqlite3.cgo2.o _cgo_export.o\n\n\nbradmac:go-sqlite3 bradfitz$ pwd\n/Users/bradfitz/hack/go-sql-test/src/github.com/mattn/go-sqlite3\n\n\nbradmac:go-sqlite3 bradfitz$ go build .\n# github.com/mattn/go-sqlite3\nsqlite3.go: In function ‘_cgo_e368048bac8c_Cfunc_sqlite3_prepare_v2’:\nsqlite3.go:360: warning: passing argument 5 of ‘sqlite3_prepare_v2’ from\nincompatible pointer type\n# github.com/mattn/go-sqlite3\nUndefined symbols for architecture x86_64:\n  \u0026quot;_sqlite3_bind_int64\u0026quot;, referenced from:\n      __cgo_e368048bac8c_Cfunc_sqlite3_bind_int64 in sqlite3.cgo2.o\n     (maybe you meant: __cgo_e368048bac8c_Cfunc_sqlite3_bind_int64)\n  \u0026quot;_sqlite3_column_count\u0026quot;, referenced from:\n      __cgo_e368048bac8c_Cfunc_sqlite3_column_count in sqlite3.cgo2.o\n     (maybe you meant: __cgo_e368048bac8c_Cfunc_sqlite3_column_count)\n  \u0026quot;_sqlite3_last_insert_rowid\u0026quot;, referenced from:\n      __cgo_e368048bac8c_Cfunc_sqlite3_last_insert_rowid in sqlite3.cgo2.o\n     (maybe you meant: __cgo_e368048bac8c_Cfunc_sqlite3_last_insert_rowid)\n  \u0026quot;_sqlite3_threadsafe\u0026quot;, referenced from:\n      __cgo_e368048bac8c_Cfunc_sqlite3_threadsafe in sqlite3.cgo2.o\n     (maybe you meant: __cgo_e368048bac8c_Cfunc_sqlite3_threadsafe)\n  \u0026quot;_sqlite3_prepare_v2\u0026quot;, referenced from:\n      __cgo_e368048bac8c_Cfunc_sqlite3_prepare_v2 in sqlite3.cgo2.o\n     (maybe you meant: __cgo_e368048bac8c_Cfunc_sqlite3_prepare_v2)\n  \u0026quot;_sqlite3_bind_int\u0026quot;, referenced from:\n      __cgo_e368048bac8c_Cfunc_sqlite3_bind_int in sqlite3.cgo2.o\n     (maybe you meant: __cgo_e368048bac8c_Cfunc_sqlite3_bind_int, __cgo_e368048bac8c_Cfunc_sqlite3_bind_int64 )\n  \u0026quot;_sqlite3_column_int64\u0026quot;, referenced from:\n      __cgo_e368048bac8c_Cfunc_sqlite3_column_int64 in sqlite3.cgo2.o\n     (maybe you meant: __cgo_e368048bac8c_Cfunc_sqlite3_column_int64)\n  \u0026quot;_sqlite3_finalize\u0026quot;, referenced from:\n      __cgo_e368048bac8c_Cfunc_sqlite3_finalize in sqlite3.cgo2.o\n     (maybe you meant: __cgo_e368048bac8c_Cfunc_sqlite3_finalize)\n  \u0026quot;_sqlite3_column_text\u0026quot;, referenced from:\n      __cgo_e368048bac8c_Cfunc_sqlite3_column_text in sqlite3.cgo2.o\n     (maybe you meant: __cgo_e368048bac8c_Cfunc_sqlite3_column_text)\n  \u0026quot;_sqlite3_open_v2\u0026quot;, referenced from:\n      __cgo_e368048bac8c_Cfunc_sqlite3_open_v2 in sqlite3.cgo2.o\n     (maybe you meant: __cgo_e368048bac8c_Cfunc_sqlite3_open_v2)\n  \u0026quot;_sqlite3_bind_null\u0026quot;, referenced from:\n      __cgo_e368048bac8c_Cfunc_sqlite3_bind_null in sqlite3.cgo2.o\n     (maybe you meant: __cgo_e368048bac8c_Cfunc_sqlite3_bind_null)\n  \u0026quot;_sqlite3_column_blob\u0026quot;, referenced from:\n      __cgo_e368048bac8c_Cfunc_sqlite3_column_blob in sqlite3.cgo2.o\n     (maybe you meant: __cgo_e368048bac8c_Cfunc_sqlite3_column_blob)\n  \u0026quot;_sqlite3_next_stmt\u0026quot;, referenced from:\n      __cgo_e368048bac8c_Cfunc_sqlite3_next_stmt in sqlite3.cgo2.o\n     (maybe you meant: __cgo_e368048bac8c_Cfunc_sqlite3_next_stmt)\n  \u0026quot;_sqlite3_close\u0026quot;, referenced from:\n      __cgo_e368048bac8c_Cfunc_sqlite3_close in sqlite3.cgo2.o\n     (maybe you meant: __cgo_e368048bac8c_Cfunc_sqlite3_close)\n  \u0026quot;_sqlite3_reset\u0026quot;, referenced from:\n      __cgo_e368048bac8c_Cfunc_sqlite3_reset in sqlite3.cgo2.o\n     (maybe you meant: __cgo_e368048bac8c_Cfunc_sqlite3_reset)\n  \u0026quot;_sqlite3_bind_blob\u0026quot;, referenced from:\n      __cgo_e368048bac8c_Cfunc__sqlite3_bind_blob in sqlite3.cgo2.o\n     (maybe you meant: __cgo_e368048bac8c_Cfunc__sqlite3_bind_blob)\n  \u0026quot;_sqlite3_errmsg\u0026quot;, referenced from:\n      __cgo_e368048bac8c_Cfunc_sqlite3_errmsg in sqlite3.cgo2.o\n     (maybe you meant: __cgo_e368048bac8c_Cfunc_sqlite3_errmsg)\n  \u0026quot;_sqlite3_column_type\u0026quot;, referenced from:\n      __cgo_e368048bac8c_Cfunc_sqlite3_column_type in sqlite3.cgo2.o\n     (maybe you meant: __cgo_e368048bac8c_Cfunc_sqlite3_column_type)\n  \u0026quot;_sqlite3_column_name\u0026quot;, referenced from:\n      __cgo_e368048bac8c_Cfunc_sqlite3_column_name in sqlite3.cgo2.o\n     (maybe you meant: __cgo_e368048bac8c_Cfunc_sqlite3_column_name)\n  \u0026quot;_sqlite3_column_double\u0026quot;, referenced from:\n      __cgo_e368048bac8c_Cfunc_sqlite3_column_double in sqlite3.cgo2.o\n     (maybe you meant: __cgo_e368048bac8c_Cfunc_sqlite3_column_double)\n  \u0026quot;_sqlite3_exec\u0026quot;, referenced from:\n      __cgo_e368048bac8c_Cfunc_sqlite3_exec in sqlite3.cgo2.o\n     (maybe you meant: __cgo_e368048bac8c_Cfunc_sqlite3_exec)\n  \u0026quot;_sqlite3_bind_text\u0026quot;, referenced from:\n      __cgo_e368048bac8c_Cfunc__sqlite3_bind_text in sqlite3.cgo2.o\n     (maybe you meant: __cgo_e368048bac8c_Cfunc__sqlite3_bind_text)\n  \u0026quot;_sqlite3_changes\u0026quot;, referenced from:\n      __cgo_e368048bac8c_Cfunc_sqlite3_changes in sqlite3.cgo2.o\n     (maybe you meant: __cgo_e368048bac8c_Cfunc_sqlite3_changes)\n  \u0026quot;_sqlite3_column_bytes\u0026quot;, referenced from:\n      __cgo_e368048bac8c_Cfunc_sqlite3_column_bytes in sqlite3.cgo2.o\n     (maybe you meant: __cgo_e368048bac8c_Cfunc_sqlite3_column_bytes)\n  \u0026quot;_sqlite3_bind_double\u0026quot;, referenced from:\n      __cgo_e368048bac8c_Cfunc_sqlite3_bind_double in sqlite3.cgo2.o\n     (maybe you meant: __cgo_e368048bac8c_Cfunc_sqlite3_bind_double)\n  \u0026quot;_sqlite3_step\u0026quot;, referenced from:\n      __cgo_e368048bac8c_Cfunc_sqlite3_step in sqlite3.cgo2.o\n     (maybe you meant: __cgo_e368048bac8c_Cfunc_sqlite3_step)\n  \u0026quot;_sqlite3_bind_parameter_count\u0026quot;, referenced from:\n      __cgo_e368048bac8c_Cfunc_sqlite3_bind_parameter_count in sqlite3.cgo2.o\n     (maybe you meant: __cgo_e368048bac8c_Cfunc_sqlite3_bind_parameter_count)\nld: symbol(s) not found for architecture x86_64\ncollect2: ld returned 1 exit status\u003c/pre\u003e",
	"user": {
		"login": "bradfitz",
		"id": 2621,
		"type": "User",
		"site_admin": false
	},
	"labels": [
		{
			"name": "FrozenDueToAge"
		}
	],
	"assignee": {
		"login": "rsc",
		"id": 104030,
		"type": "User",
		"site_admin": false
	},
	"comments": 4,
	"closed_at": "2014-12-08T10:14:17Z",
	"created_at": "2012-01-11T19:26:16Z",
	"updated_at": "2016-06-24T21:23:14Z",
	"milestone": {
		"id": 1061233,
		"number": 7,
		"title": "Go1"
	}
}
