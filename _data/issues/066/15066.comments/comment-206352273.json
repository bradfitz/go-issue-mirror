{
	"id": 206352273,
	"body": "For example, here is some output from `go test`:\r\n```\r\n--- FAIL: TestHostKeyCert (0.10s)\r\n\tcerts_test.go:208: NewClientConn(\"hostname\"): ssh: handshake failed: ssh: unexpected message type 21 (expected 6)\r\n--- FAIL: TestClientAuthPublicKey (0.11s)\r\n\tclient_auth_test.go:97: unable to dial remote side: ssh: handshake failed: ssh: unexpected message type 21 (expected 6)\r\n--- FAIL: TestAuthMethodPassword (0.10s)\r\n\tclient_auth_test.go:110: unable to dial remote side: ssh: handshake failed: ssh: unexpected message type 21 (expected 6)\r\n--- FAIL: TestAuthMethodFallback (0.10s)\r\n\tclient_auth_test.go:129: unable to dial remote side: ssh: handshake failed: ssh: unexpected message type 21 (expected 6)\r\n--- FAIL: TestAuthMethodWrongPassword (0.10s)\r\n\tclient_auth_test.go:147: unable to dial remote side: ssh: handshake failed: ssh: unexpected message type 21 (expected 6)\r\n--- FAIL: TestAuthMethodKeyboardInteractive (0.10s)\r\n\tclient_auth_test.go:164: unable to dial remote side: ssh: handshake failed: ssh: unexpected message type 21 (expected 6)\r\n--- FAIL: TestAuthMethodRSAandDSA (0.10s)\r\n\tclient_auth_test.go:208: client could not authenticate with rsa key: ssh: handshake failed: ssh: unexpected message type 21 (expected 6)\r\n--- FAIL: TestClientHMAC (0.10s)\r\n\tclient_auth_test.go:224: client could not authenticate with mac algo hmac-sha2-256: ssh: handshake failed: ssh: unexpected message type 21 (expected 6)\r\n--- FAIL: TestClientLoginCert (1.04s)\r\n\tclient_auth_test.go:277: should succeed\r\n\tclient_auth_test.go:279: cert login failed: ssh: handshake failed: ssh: unexpected message type 21 (expected 6)\r\n\tclient_auth_test.go:282: corrupted signature\r\n\tclient_auth_test.go:288: revoked\r\n\tclient_auth_test.go:296: sign with wrong key\r\n\tclient_auth_test.go:302: host cert\r\n\tclient_auth_test.go:310: principal specified\r\n\tclient_auth_test.go:314: cert login failed: ssh: handshake failed: ssh: unexpected message type 21 (expected 6)\r\n\tclient_auth_test.go:317: wrong principal specified\r\n\tclient_auth_test.go:325: added critical option\r\n\tclient_auth_test.go:332: allowed source address\r\n\tclient_auth_test.go:336: cert login with source-address failed: ssh: handshake failed: ssh: unexpected message type 21 (expected 6)\r\n\tclient_auth_test.go:339: disallowed source address\r\n--- FAIL: TestPermissionsPassing (0.10s)\r\n\tclient_auth_test.go:380: ssh: unexpected message type 21 (expected 50)\r\n--- FAIL: TestNoPermissionsPassing (0.10s)\r\n\tclient_auth_test.go:380: ssh: unexpected message type 21 (expected 50)\r\n--- FAIL: TestSessionShell (0.10s)\r\n\tsession_test.go:67: unable to dial remote side: ssh: handshake failed: ssh: unexpected message type 21 (expected 6)\r\n--- FAIL: TestSessionStdoutPipe (0.10s)\r\n\tsession_test.go:67: unable to dial remote side: ssh: handshake failed: ssh: unexpected message type 21 (expected 6)\r\n--- FAIL: TestSessionOutput (0.10s)\r\n\tsession_test.go:67: unable to dial remote side: ssh: handshake failed: ssh: unexpected message type 21 (expected 6)\r\n--- FAIL: TestSessionCombinedOutput (0.10s)\r\n\tsession_test.go:67: unable to dial remote side: ssh: handshake failed: ssh: unexpected message type 21 (expected 6)\r\n--- FAIL: TestExitStatusNonZero (0.10s)\r\n\tsession_test.go:67: unable to dial remote side: ssh: handshake failed: ssh: unexpected message type 21 (expected 6)\r\n--- FAIL: TestExitStatusZero (0.10s)\r\n\tsession_test.go:67: unable to dial remote side: ssh: handshake failed: ssh: unexpected message type 21 (expected 6)\r\n--- FAIL: TestExitSignalAndStatus (0.10s)\r\n\tsession_test.go:67: unable to dial remote side: ssh: handshake failed: ssh: unexpected message type 21 (expected 6)\r\n--- FAIL: TestKnownExitSignalOnly (0.10s)\r\n\tsession_test.go:67: unable to dial remote side: ssh: handshake failed: ssh: unexpected message type 21 (expected 6)\r\n--- FAIL: TestUnknownExitSignal (0.10s)\r\n\tsession_test.go:67: unable to dial remote side: ssh: handshake failed: ssh: unexpected message type 21 (expected 6)\r\n--- FAIL: TestExitWithoutStatusOrSignal (0.10s)\r\n\tsession_test.go:67: unable to dial remote side: ssh: handshake failed: ssh: unexpected message type 21 (expected 6)\r\n--- FAIL: TestServerWindow (0.38s)\r\n\tsession_test.go:67: unable to dial remote side: ssh: handshake failed: ssh: unexpected message type 21 (expected 6)\r\n--- FAIL: TestClientHandlesKeepalives (0.10s)\r\n\tsession_test.go:67: unable to dial remote side: ssh: handshake failed: ssh: unexpected message type 21 (expected 6)\r\n--- FAIL: TestClientWriteEOF (0.10s)\r\n\tsession_test.go:67: unable to dial remote side: ssh: handshake failed: ssh: unexpected message type 21 (expected 6)\r\n\tsession_test.go:40: Unable to handshake: ssh: unexpected message type 21 (expected 50)\r\n```\r\n\r\nWith this diff:\r\n```\r\ndiff --git a/ssh/server.go b/ssh/server.go\r\nindex 4781eb7..605cfe8 100644\r\n--- a/ssh/server.go\r\n+++ b/ssh/server.go\r\n@@ -10,6 +10,7 @@ import (\r\n        \"fmt\"\r\n        \"io\"\r\n        \"net\"\r\n+       \"time\"\r\n )\r\n \r\n // The Permissions type holds fine-grained permissions that are\r\n@@ -188,6 +189,8 @@ func (s *connection) serverHandshake(config *ServerConfig) (*Permissions, error)\r\n        tr := newTransport(s.sshConn.conn, config.Rand, false /* not client */)\r\n        s.transport = newServerTransport(tr, s.clientVersion, s.serverVersion, config)\r\n \r\n+       time.Sleep(100 * time.Millisecond)\r\n+\r\n        if err := s.transport.requestKeyChange(); err != nil {\r\n                return nil, err\r\n        }\r\n```",
	"user": {
		"login": "jfmyers9",
		"id": 1035246,
		"type": "User",
		"site_admin": false
	},
	"created_at": "2016-04-06T12:41:14Z",
	"updated_at": "2016-04-06T12:41:14Z"
}
