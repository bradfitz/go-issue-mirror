{
	"id": 170022917,
	"number": 16640,
	"state": "closed",
	"title": "Crosscompiling LXD for ppc64 (big endian)",
	"body": "\r\n1. What version of Go are you using (`go version`)?\r\n\r\ngo version go1.6.3 linux/amd64\r\n\r\n2. What operating system and processor architecture are you using (`go env`)?\r\n\r\nUbuntu 14.04 with the following kernel:\r\n\r\nLinux ubuntu 3.13.0-91-generic #138-Ubuntu SMP Fri Jun 24 17:00:34 UTC 2016 x86_64 x86_64 x86_64 GNU/Linux\r\n\r\n3. What did you do?\r\n\r\nMy goal is to crosscompile lxd for a ppc64 Embedded target.\r\n\r\nSet the following Environment variables:\r\n GOARCH=\"ppc64\"\r\nGOOS=\"linux\"\r\nGOPATH=\"/home/gcordon/Downloads/GIT/XL/lxd/.gopath\"\r\nCGO_ENABLED=\"1\"\r\nPATH=\"/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/usr/loca/go/bin:/usr/local/go/bin\"\r\n\r\n4. What did you expect to see?\r\nI expect to see similar results as when I set the GOARCH=\"amd64\".\r\nResult:\r\n\r\n# Must a few times due to go get race\r\ngo get -t -v -d ./...\r\ngo get -t -v -d ./...\r\ngo get -t -v -d ./...\r\ngo install -v  ./...\r\n#go build -v  ./...\r\nLXD built successfully\r\n\r\n\r\n5. What did you see instead?\r\n\r\nWith  GOARCH=\"ppc64\"\r\nIssuing a \"Make\" and I get the following errors:\r\n\r\n/usr/local/go/src/runtime/cgo/gcc_ppc64x.S: Assembler messages:\r\n/usr/local/go/src/runtime/cgo/gcc_ppc64x.S:26: Error: no such instruction: `mflr %r0'\r\n/usr/local/go/src/runtime/cgo/gcc_ppc64x.S:27: Error: bad register name `%r0'\r\n/usr/local/go/src/runtime/cgo/gcc_ppc64x.S:28: Error: bad register name `%r2'\r\n/usr/local/go/src/runtime/cgo/gcc_ppc64x.S:29: Error: no such instruction: `bl saveregs'\r\n/usr/local/go/src/runtime/cgo/gcc_ppc64x.S:30: Error: no such instruction: `stdu %r1,-296(%r1)'\r\n/usr/local/go/src/runtime/cgo/gcc_ppc64x.S:33: Error: no such instruction: `bl _cgo_reginit'\r\n/usr/local/go/src/runtime/cgo/gcc_ppc64x.S:37: Error: no such instruction: `mr %r30,%r4'\r\n/usr/local/go/src/runtime/cgo/gcc_ppc64x.S:40: Error: no such instruction: `mr %r12,%r3'\r\n/usr/local/go/src/runtime/cgo/gcc_ppc64x.S:41: Error: no such instruction: `mtctr %r3'\r\n/usr/local/go/src/runtime/cgo/gcc_ppc64x.S:42: Error: no such instruction: `bctrl'\r\n/usr/local/go/src/runtime/cgo/gcc_ppc64x.S:44: Error: no such instruction: `addi %r1,%r1,296'\r\n/usr/local/go/src/runtime/cgo/gcc_ppc64x.S:45: Error: no such instruction: `bl restoreregs'\r\n/usr/local/go/src/runtime/cgo/gcc_ppc64x.S:46: Error: no such instruction: `ld %r2,24(%r1)'\r\n/usr/local/go/src/runtime/cgo/gcc_ppc64x.S:47: Error: no such instruction: `ld %r0,16(%r1)'\r\n/usr/local/go/src/runtime/cgo/gcc_ppc64x.S:48: Error: no such instruction: `mtlr %r0'\r\n/usr/local/go/src/runtime/cgo/gcc_ppc64x.S:49: Error: no such instruction: `blr'\r\n/usr/local/go/src/runtime/cgo/gcc_ppc64x.S:54: Error: bad register name `%r1)'\r\n/usr/local/go/src/runtime/cgo/gcc_ppc64x.S:55: Error: bad register name `%r1)'\r\n/usr/local/go/src/runtime/cgo/gcc_ppc64x.S:56: Error: bad register name `%r16'\r\n/usr/local/go/src/runtime/cgo/gcc_ppc64x.S:57: Error: bad register name `%r17'\r\n/usr/local/go/src/runtime/cgo/gcc_ppc64x.S:58: Error: bad register name `%r18'\r\n/usr/local/go/src/runtime/cgo/gcc_ppc64x.S:59: Error: bad register name `%r19'\r\n/usr/local/go/src/runtime/cgo/gcc_ppc64x.S:60: Error: bad register name `%r20'\r\n/usr/local/go/src/runtime/cgo/gcc_ppc64x.S:61: Error: bad register name `%r21'\r\n/usr/local/go/src/runtime/cgo/gcc_ppc64x.S:62: Error: bad register name `%r22'\r\n/usr/local/go/src/runtime/cgo/gcc_ppc64x.S:63: Error: bad register name `%r23'\r\n/usr/local/go/src/runtime/cgo/gcc_ppc64x.S:64: Error: bad register name `%r24'\r\n/usr/local/go/src/runtime/cgo/gcc_ppc64x.S:65: Error: bad register name `%r25'\r\n/usr/local/go/src/runtime/cgo/gcc_ppc64x.S:66: Error: bad register name `%r26'\r\n/usr/local/go/src/runtime/cgo/gcc_ppc64x.S:67: Error: bad register name `%r27'\r\n/usr/local/go/src/runtime/cgo/gcc_ppc64x.S:68: Error: bad register name `%r28'\r\n/usr/local/go/src/runtime/cgo/gcc_ppc64x.S:69: Error: bad register name `%r29'\r\n/usr/local/go/src/runtime/cgo/gcc_ppc64x.S:70: Error: bad register name `%r30'\r\n/usr/local/go/src/runtime/cgo/gcc_ppc64x.S:71: Error: bad register name `%r31'\r\n/usr/local/go/src/runtime/cgo/gcc_ppc64x.S:72: Error: no such instruction: `stfd %f14,-144(%r1)'\r\n/usr/local/go/src/runtime/cgo/gcc_ppc64x.S:73: Error: no such instruction: `stfd %f15,-136(%r1)'\r\n/usr/local/go/src/runtime/cgo/gcc_ppc64x.S:74: Error: no such instruction: `stfd %f16,-128(%r1)'\r\n/usr/local/go/src/runtime/cgo/gcc_ppc64x.S:75: Error: no such instruction: `stfd %f17,-120(%r1)'\r\n/usr/local/go/src/runtime/cgo/gcc_ppc64x.S:76: Error: no such instruction: `stfd %f18,-112(%r1)'\r\n/usr/local/go/src/runtime/cgo/gcc_ppc64x.S:77: Error: no such instruction: `stfd %f19,-104(%r1)'\r\n/usr/local/go/src/runtime/cgo/gcc_ppc64x.S:78: Error: no such instruction: `stfd %f20,-96(%r1)'\r\n/usr/local/go/src/runtime/cgo/gcc_ppc64x.S:79: Error: no such instruction: `stfd %f21,-88(%r1)'\r\n/usr/local/go/src/runtime/cgo/gcc_ppc64x.S:80: Error: no such instruction: `stfd %f22,-80(%r1)'\r\n/usr/local/go/src/runtime/cgo/gcc_ppc64x.S:81: Error: no such instruction: `stfd %f23,-72(%r1)'\r\n/usr/local/go/src/runtime/cgo/gcc_ppc64x.S:82: Error: no such instruction: `stfd %f24,-64(%r1)'\r\n/usr/local/go/src/runtime/cgo/gcc_ppc64x.S:83: Error: no such instruction: `stfd %f25,-56(%r1)'\r\n/usr/local/go/src/runtime/cgo/gcc_ppc64x.S:84: Error: no such instruction: `stfd %f26,-48(%r1)'\r\n/usr/local/go/src/runtime/cgo/gcc_ppc64x.S:85: Error: no such instruction: `stfd %f27,-40(%r1)'\r\n/usr/local/go/src/runtime/cgo/gcc_ppc64x.S:86: Error: no such instruction: `stfd %f28,-32(%r1)'\r\n/usr/local/go/src/runtime/cgo/gcc_ppc64x.S:87: Error: no such instruction: `stfd %f29,-24(%r1)'\r\n/usr/local/go/src/runtime/cgo/gcc_ppc64x.S:88: Error: no such instruction: `stfd %f30,-16(%r1)'\r\n/usr/local/go/src/runtime/cgo/gcc_ppc64x.S:89: Error: no such instruction: `stfd %f31,-8(%r1)'\r\n/usr/local/go/src/runtime/cgo/gcc_ppc64x.S:91: Error: no such instruction: `blr'\r\n\r\n\r\nNOTE this issue is similar to another post: cmd/link: ppc64 (big endian) cgo errors \r\nhttps://github.com/golang/go/issues/13192\r\n",
	"user": {
		"login": "cordong2956",
		"id": 20913648,
		"type": "User",
		"site_admin": false
	},
	"comments": 2,
	"closed_at": "2016-08-08T22:27:56Z",
	"created_at": "2016-08-08T20:53:53Z",
	"updated_at": "2016-08-09T19:17:35Z"
}
