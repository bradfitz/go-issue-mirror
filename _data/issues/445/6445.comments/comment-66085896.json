{
	"id": 66085896,
	"body": "\u003ca id=\"c2\"\u003e\u003c/a\u003eComment 2:\n\n\u003cpre\u003eSorry for the miss leading, I was not talking about the performance of gofmt.\nI was trying to say the performance of misc/vim/ftplugin/fmt.vim or\nmisc/vim/syntax/go.vim.\n\n\nFor better reproducing, Let's forget about gofmt first.\n\n1. create a large go file, take y.go for example, y.go contains more than 2000 lines.\n2. open y.go with vim\n3. in the vim command mode, type `%! cat y.go`, and you can see the prompt\n\n``\nxxxx lines filtered\n``\n\nin less than 1 second. Try the second time, it will take more than 2 seconds to wait the\nappearance of the the prompt\n\n```\nxxxx lines filtered\n```\n\n\nNOTE: this happens when open an existing go file, if you type the above command when you\ncreate the go file from empty content, it won't happen. \n\n\nHere is the live video for the issue.\n\n\u003ca href=\"http://screencast.com/t/ERA6EDSBu\"\u003ehttp://screencast.com/t/ERA6EDSBu\u003c/a\u003e\n\n\n\nI know the cause of this issue,\n(\u003ca href=\"https://code.google.com/p/go/source/browse/misc/vim/syntax/go.vim#205)\"\u003ehttps://code.google.com/p/go/source/browse/misc/vim/syntax/go.vim#205)\u003c/a\u003e\nbut I don't know why. \n\nMaybe it's a bug of my MacVim and I should report it to the MacVim group?\n\n\nHere is my vim version:\n\n```\nâžœ  tmp  vim --version\nVIM - Vi IMproved 7.4 (2013 Aug 10, compiled Sep 20 2013 23:34:52)\nMacOS X (unix) version\nIncluded patches: 1-22\nCompiled by yeer@yeerkunths-MacBook-Pro.local\nHuge version with MacVim GUI.  Features included (+) or not (-):\n+acl             +file_in_path    +mouse_sgr       +tag_binary\n+arabic          +find_in_path    -mouse_sysmouse  +tag_old_static\n+autocmd         +float           +mouse_urxvt     -tag_any_white\n+balloon_eval    +folding         +mouse_xterm     -tcl\n+browse          -footer          +multi_byte      +terminfo\n++builtin_terms  +fork()          +multi_lang      +termresponse\n+byte_offset     +fullscreen      -mzscheme        +textobjects\n+cindent         -gettext         +netbeans_intg   +title\n+clientserver    -hangul_input    +odbeditor       +toolbar\n+clipboard       +iconv           +path_extra      +transparency\n+cmdline_compl   +insert_expand   +perl            +user_commands\n+cmdline_hist    +jumplist        +persistent_undo +vertsplit\n+cmdline_info    +keymap          +postscript      +virtualedit\n+comments        +langmap         +printer         +visual\n+conceal         +libcall         +profile         +visualextra\n+cryptv          +linebreak       +python          +viminfo\n+cscope          +lispindent      -python3         +vreplace\n+cursorbind      +listcmds        +quickfix        +wildignore\n+cursorshape     +localmap        +reltime         +wildmenu\n+dialog_con_gui  -lua             +rightleft       +windows\n+diff            +menu            +ruby            +writebackup\n+digraphs        +mksession       +scrollbind      -X11\n+dnd             +modify_fname    +signs           -xfontset\n-ebcdic          +mouse           +smartindent     +xim\n+emacs_tags      +mouseshape      -sniff           -xsmp\n+eval            +mouse_dec       +startuptime     -xterm_clipboard\n+ex_extra        -mouse_gpm       +statusline      -xterm_save\n+extra_search    -mouse_jsbterm   -sun_workshop    -xpm\n+farsi           +mouse_netterm   +syntax\n   system vimrc file: \"$VIM/vimrc\"\n     user vimrc file: \"$HOME/.vimrc\"\n 2nd user vimrc file: \"~/.vim/vimrc\"\n      user exrc file: \"$HOME/.exrc\"\n  system gvimrc file: \"$VIM/gvimrc\"\n    user gvimrc file: \"$HOME/.gvimrc\"\n2nd user gvimrc file: \"~/.vim/gvimrc\"\n    system menu file: \"$VIMRUNTIME/menu.vim\"\n  fall-back for $VIM: \"/Applications/MacVim.app/Contents/Resources/vim\"\nCompilation: gcc -c -I. -Iproto -DHAVE_CONFIG_H -DFEAT_GUI_MACVIM -Wall\n-Wno-unknown-pragmas -pipe  -DMACOS_X_UNIX -no-cpp-precomp  -g -O2 -U_FORTIFY_SOURCE\n-D_FORTIFY_SOURCE=1\nLinking: gcc   -L. -fstack-protector -L/usr/local/lib -L/usr/local/opt/libyaml/lib\n-L/usr/local/opt/readline/lib -L/usr/local/opt/libksba/lib -L/usr/local/opt/openssl/lib \n-L. -fstack-protector -L/usr/local/lib -L/usr/local/opt/libyaml/lib\n-L/usr/local/opt/readline/lib -L/usr/local/opt/libksba/lib -L/usr/local/opt/openssl/lib \n -L/usr/local/lib -o Vim -framework Cocoa -framework Carbon       -lncurses  -liconv\n-framework Cocoa   -fstack-protector -L/usr/local/lib \n-L/System/Library/Perl/5.12/darwin-thread-multi-2level/CORE -lperl -lm -lutil -lc\n-framework Python   -lruby.2.0.0 -lobjc -L/Users/yeer/.rvm/rubies/ruby-2.0.0-p247/lib\n```\u003c/pre\u003e",
	"user": {
		"login": "athom",
		"id": 85204,
		"type": "User",
		"site_admin": false
	},
	"created_at": "2013-09-23T07:49:24Z",
	"updated_at": "2014-12-08T10:35:33Z"
}
