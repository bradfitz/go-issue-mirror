{
	"id": 113452032,
	"body": "\u003e I had been thinking we would just do the release barrier at the end of mallocgc for both scan and noscan objects\r\n\r\nI don't see any point in making malloc slower.\r\n\r\n\u003e even though this means two barriers on scan allocations that also allocate a span\r\n\r\nI don't think it is any important performance-wise.\r\n\r\n\u003e I'm not convinced that this part is necessary.\r\n\r\nYour scheme works too.\r\nMy idea was to ensure the invariant that if GC sees a valid pointer then it always recognizes it as a valid pointer.",
	"user": {
		"login": "dvyukov",
		"id": 1095328,
		"type": "User",
		"site_admin": false
	},
	"created_at": "2015-06-19T09:54:29Z",
	"updated_at": "2015-06-19T09:54:29Z"
}
