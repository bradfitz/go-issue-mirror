{
	"id": 55775623,
	"number": 9711,
	"state": "open",
	"title": "net/http: ptrace protections result in hung sendfile test",
	"body": "On this revision:\r\n\r\n    commit 886b02d705ffb1be8b4974ac4c355d480a24e3ec\r\n    Author: Andrew Gerrand \u003cadg@golang.org\u003e\r\n    Date:   Thu Jan 15 15:21:14 2015 +1100\r\n\r\n        [release-branch.go1.4] go1.4.1\r\n    \r\n        Change-Id: If275a5caa07cfd16b7052ad50709e1d0f1258223\r\n        Reviewed-on: https://go-review.googlesource.com/2856\r\n        Reviewed-by: Rob Pike \u003cr@golang.org\u003e\r\n\r\nRun `all.bash`, one of the testcases failed:\r\n\r\n    panic: test timed out after 2m0s\r\n\r\n    goroutine 264 [running]:\r\n    testing.funcÂ·008()\r\n        /home/david/go-git/src/testing/testing.go:681 +0x12f\r\n    created by time.goFunc\r\n        /home/david/go-git/src/time/sleep.go:129 +0x4b\r\n\r\n    goroutine 1 [chan receive]:\r\n    testing.RunTests(0x8fcff8, 0xa371e0, 0xd2, 0xd2, 0xc20804c001)\r\n        /home/david/go-git/src/testing/testing.go:556 +0xad6\r\n    testing.(*M).Run(0xc20804c0f0, 0x0)\r\n        /home/david/go-git/src/testing/testing.go:485 +0x6c\r\n    net/http_test.TestMain(0xc20804c0f0)\r\n        /home/david/go-git/src/net/http/main_test.go:19 +0x28\r\n    main.main()\r\n        net/http/_test/_testmain.go:510 +0x1d1\r\n\r\n    goroutine 262 [IO wait]:\r\n    net.(*pollDesc).Wait(0xc20821d790, 0x72, 0x0, 0x0)\r\n        /home/david/go-git/src/net/fd_poll_runtime.go:84 +0x47\r\n    net.(*pollDesc).WaitRead(0xc20821d790, 0x0, 0x0)\r\n        /home/david/go-git/src/net/fd_poll_runtime.go:89 +0x43\r\n    net.(*netFD).Read(0xc20821d730, 0xc2080c2000, 0x1000, 0x1000, 0x0, 0x7ff8d880c070, 0xc20819e4b8)\r\n        /home/david/go-git/src/net/fd_unix.go:242 +0x40f\r\n    net.(*conn).Read(0xc208032248, 0xc2080c2000, 0x1000, 0x1000, 0x0, 0x0, 0x0)\r\n        /home/david/go-git/src/net/net.go:121 +0xdc\r\n    net/http.noteEOFReader.Read(0x7ff8d880f2e0, 0xc208032248, 0xc20817a7e8, 0xc2080c2000, 0x1000, 0x1000, 0x7ff8d87fa010, 0x0, 0x0)\r\n        /home/david/go-git/src/net/http/transport.go:1270 +0x6e\r\n    net/http.(*noteEOFReader).Read(0xc208181f80, 0xc2080c2000, 0x1000, 0x1000, 0xc207ffcdda, 0x0, 0x0)\r\n        \u003cautogenerated\u003e:125 +0xd4\r\n    bufio.(*Reader).fill(0xc2080a1980)\r\n        /home/david/go-git/src/bufio/bufio.go:97 +0x1ce\r\n    bufio.(*Reader).Peek(0xc2080a1980, 0x1, 0x0, 0x0, 0x0, 0x0, 0x0)\r\n        /home/david/go-git/src/bufio/bufio.go:132 +0xf0\r\n    net/http.(*persistConn).readLoop(0xc20817a790)\r\n        /home/david/go-git/src/net/http/transport.go:842 +0xa4\r\n    created by net/http.(*Transport).dialConn\r\n        /home/david/go-git/src/net/http/transport.go:660 +0xc9f\r\n\r\n    goroutine 259 [select]:\r\n    net/http.(*persistConn).roundTrip(0xc20817a790, 0xc20819e420, 0x0, 0x0, 0x0)\r\n        /home/david/go-git/src/net/http/transport.go:1082 +0x7ad\r\n    net/http.(*Transport).RoundTrip(0xc208076000, 0xc2081fd1e0, 0xc208181e60, 0x0, 0x0)\r\n        /home/david/go-git/src/net/http/transport.go:235 +0x558\r\n    net/http.send(0xc2081fd1e0, 0x7ff8d880c468, 0xc208076000, 0x17, 0x0, 0x0)\r\n        /home/david/go-git/src/net/http/client.go:219 +0x4fc\r\n    net/http.(*Client).send(0xa395a0, 0xc2081fd1e0, 0x17, 0x0, 0x0)\r\n        /home/david/go-git/src/net/http/client.go:142 +0x15b\r\n    net/http.(*Client).doFollowingRedirects(0xa395a0, 0xc2081fd1e0, 0x8fd318, 0x0, 0x0, 0x0)\r\n        /home/david/go-git/src/net/http/client.go:367 +0xb25\r\n    net/http.(*Client).Get(0xa395a0, 0xc208181e00, 0x17, 0xc2081fc0d0, 0x0, 0x0)\r\n        /home/david/go-git/src/net/http/client.go:299 +0xba\r\n    net/http.Get(0xc208181e00, 0x17, 0xc20805be58, 0x0, 0x0)\r\n        /home/david/go-git/src/net/http/client.go:276 +0x50\r\n    net/http_test.TestLinuxSendfile(0xc2080774d0)\r\n        /home/david/go-git/src/net/http/fs_test.go:822 +0xb14\r\n    testing.tRunner(0xc2080774d0, 0xa378a0)\r\n        /home/david/go-git/src/testing/testing.go:447 +0xbf\r\n    created by testing.RunTests\r\n        /home/david/go-git/src/testing/testing.go:555 +0xa8b\r\n\r\n    goroutine 263 [select]:\r\n    net/http.(*persistConn).writeLoop(0xc20817a790)\r\n        /home/david/go-git/src/net/http/transport.go:945 +0x41d\r\n    created by net/http.(*Transport).dialConn\r\n        /home/david/go-git/src/net/http/transport.go:661 +0xcbc\r\n    FAIL\tnet/http\t120.018s",
	"user": {
		"login": "daviddengcn",
		"id": 565744,
		"type": "User",
		"site_admin": false
	},
	"comments": 7,
	"created_at": "2015-01-28T16:05:34Z",
	"updated_at": "2016-03-28T21:19:47Z",
	"milestone": {
		"id": 1055141,
		"number": 6,
		"title": "Unplanned"
	}
}
