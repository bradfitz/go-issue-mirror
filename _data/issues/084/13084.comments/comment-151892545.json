{
	"id": 151892545,
	"body": "Yes it's a lot to process. Everything is noted in the initial post.\r\n\r\n\u003e Please show exactly how the go tool is being run\r\n\r\nThe go tool is being ran by invoking the \"build\" branch of the switch command.\r\nIt's the equivalent of\r\n```\r\ncd /home/$USER/go/src/project\r\ngo get -u\r\ngo build -o $USER -a -tags netgo\r\n```\r\njust in Go, it's what you see as \"the build command:\"\r\n\r\n\r\nBasically it's on my personal cluster\r\n\r\nI create a user and a bare git repo, which serves as a push target and a source of a git clone into\r\n/home/$USER/go/src/project/\r\n\r\nI guess one could reproduce it with:\r\n\r\n```bash\r\ncd\r\nmkdir local\r\ngit init --bare repo.git\r\nmkdir -p ~/go/src/project/\r\ncat \u003c\u003cEOF \u003e local/main.go\r\npackage main\r\n\r\nimport \"fmt\"\r\n\r\nfunc main() {\r\nfmt.Println(\"Hello\")\r\n}\r\nEOF\r\ncat \u003c\u003cEOF \u003e repo.git/hooks/post-update\r\n#!/bin/bash\r\ngit clone /home/username/repo.git /home/username/go/src/project/\r\ncd /home/username/go/src/project/\r\ngo get -u\r\ngo build -o username -a --tags netgo\r\nEOF\r\ncd local\r\ngit init\r\ngit add .\r\ngit commit -m 'initial'\r\ngit remote add deploy /home/username/repo.git\r\ngit push -u deploy master\r\n```\r\n\r\nIn essence:\r\nthe remote.origin.url is /home/username/repo.git\r\nand go get -u for some reason prints this error message\r\n`remote: package project: unable to parse output of git config remote.origin.url`\r\n\r\nso that means that it, I assume the go tool, is unable to\r\nparse the output of the command\r\n`git config remote.origin.url`\r\nof the package `project`\r\n\r\nSo I'm su-ing as a user and cding into ~/go/src/project/\r\n\r\ngewicht.luketic.de is the username and see initial post for the git config of ~/go/src/project/ git repo (this is the destination of the clone from repo.git)\r\n\r\n```bash\r\ngewicht.luketic.de@s4 ~/go/src/project $ go get -u\r\npackage _/home/gewicht.luketic.de/go/src/project: unrecognized import path \"_/home/gewicht.luketic.de/go/src/project\"\r\n```\r\n\r\nthis is because the GOPATH isn't set\r\nso,\r\n`export GOPATH=/home/gewicht.luketic.de/go/`\r\n\r\nthen\r\n\r\n`go get`\r\n\r\nno errors (!)\r\n\r\n`go get -u`\r\n`package project: unable to parse output of git config remote.origin.url`\r\n\r\nso `go get -u` is giving us an error\r\n\r\n`go build -o gewicht.luketic.de -a`\r\nno errors\r\n\r\njust `go get -u` which fails because the remote is a local bare git repository",
	"user": {
		"login": "dalu",
		"id": 2694548,
		"type": "User",
		"site_admin": false
	},
	"created_at": "2015-10-28T16:00:37Z",
	"updated_at": "2015-10-28T16:27:17Z"
}
