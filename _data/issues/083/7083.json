{
	"id": 51286170,
	"number": 7083,
	"state": "closed",
	"title": "runtime: occasional crash in concatstring",
	"body": "\u003cpre\u003eVery occasionally builders are failing with a trace something like the ones below.  It\nlooks like a string that has been freed (its length=second word=0xdeaddead) is still\nreachable.\n\ndates:\n12/19/2013 darwin/amd64\n1/4/2014 darwin/386\n1/7/2014 linux/amd64/race\n1/8/2014 darwin/386\n\n\nfatal error: string concatenation too long\n\ngoroutine 7 [running]:\nruntime.throw(0x5ae0c0)\n        /Users/builder/workspace/darwin-amd64-race-cheney-acad7f360212/go/src/pkg/runtime/panic.c:462 +0x69 fp=0x119ca58\nconcatstring(0x119cae0, 0x2, 0x119cac0)\n        /Users/builder/workspace/darwin-amd64-race-cheney-acad7f360212/go/src/pkg/runtime/string.goc:161 +0x6c fp=0x119caa0\nruntime.concatstring2(0x282a40, 0x3, 0x0, 0xdeaddeaddeaddead, 0x281ca0, ...)\n        /Users/builder/workspace/darwin-amd64-race-cheney-acad7f360212/go/src/pkg/runtime/string.goc:185 +0x28 fp=0x119cac0\ngo/doc.synopsisFmt(0x0, 0xdeaddeaddeaddead, 0x0, 0x0)\n        /Users/builder/workspace/darwin-amd64-race-cheney-acad7f360212/go/src/pkg/go/doc/doc_test.go:56 +0x182 fp=0x119cb10\nruntime.call32(0x30b8d0, 0xc210137e80)\n        /Users/builder/workspace/darwin-amd64-race-cheney-acad7f360212/go/src/pkg/runtime/asm_amd64.s:339 +0x32 fp=0x119cb38\nreflect.Value.call(0x21ed40, 0x30b8d0, 0x130, 0x283660, 0x4, ...)\n        /Users/builder/workspace/darwin-amd64-race-cheney-acad7f360212/go/src/pkg/reflect/value.go:506 +0x1734 fp=0x119cf48\n----- stack segment boundary -----\nreflect.Value.Call(0x21ed40, 0x30b8d0, 0x130, 0xc210137e60, 0x1, ...)\n        /Users/builder/workspace/darwin-amd64-race-cheney-acad7f360212/go/src/pkg/reflect/value.go:345 +0xab fp=0x119d4e8\ntext/template.(*state).evalCall(0xc210185e40, 0x1e52e0, 0xc210184790, 0x166, 0x21ed40,\n...)\n        /Users/builder/workspace/darwin-amd64-race-cheney-acad7f360212/go/src/pkg/text/template/exec.go:555 +0xaf7 fp=0x119d6e0\ntext/template.(*state).evalFunction(0xc210185e40, 0x1e52e0, 0xc210184790, 0x166,\n0xc21000ac20, ...)\n        /Users/builder/workspace/darwin-amd64-race-cheney-acad7f360212/go/src/pkg/text/template/exec.go:447 +0x33c fp=0x119d808\ntext/template.(*state).evalCommand(0xc210185e40, 0x1e52e0, 0xc210184790, 0x166,\n0xc2100651e0, ...)\n        /Users/builder/workspace/darwin-amd64-race-cheney-acad7f360212/go/src/pkg/text/template/exec.go:351 +0x23d fp=0x119d938\ntext/template.(*state).evalPipeline(0xc210185e40, 0x1e52e0, 0xc210184790, 0x166,\n0xc210064370, ...)\n        /Users/builder/workspace/darwin-amd64-race-cheney-acad7f360212/go/src/pkg/text/template/exec.go:324 +0x1e9 fp=0x119da38\ntext/template.(*state).walk(0xc210185e40, 0x1e52e0, 0xc210184790, 0x166, 0x6a7378, ...)\n        /Users/builder/workspace/darwin-amd64-race-cheney-acad7f360212/go/src/pkg/text/template/exec.go:159 +0x17d fp=0x119db78\ntext/template.(*state).walk(0xc210185e40, 0x1e52e0, 0xc210184790, 0x166, 0x6a8040, ...)\n        /Users/builder/workspace/darwin-amd64-race-cheney-acad7f360212/go/src/pkg/text/template/exec.go:167 +0x978 fp=0x119dcb8\ntext/template.funcÂ·001(0x1f7700, 0x0, 0x20, 0x1e52e0, 0xc210184790, ...)\n        /Users/builder/workspace/darwin-amd64-race-cheney-acad7f360212/go/src/pkg/text/template/exec.go:249 +0x485 fp=0x119ddb0\n\n\nfatal error: string concatenation too long\n\ngoroutine 8 [running]:\nruntime.throw(0x381540)\n        /Users/builder/workspace/darwin-386-cheney-4a4c92c7a243/go/src/pkg/runtime/panic.c:462 +0x5f fp=0x30716fdc\nconcatstring(0x30717020, 0x2, 0x30717010)\n        /Users/builder/workspace/darwin-386-cheney-4a4c92c7a243/go/src/pkg/runtime/string.goc:161 +0x5b fp=0x30717000\nruntime.concatstring2(0x179e58, 0x3, 0x0, 0xdeaddead, 0x179b28, ...)\n        /Users/builder/workspace/darwin-386-cheney-4a4c92c7a243/go/src/pkg/runtime/string.goc:185 +0x20 fp=0x30717010\ngo/doc.synopsisFmt(0x0, 0xdeaddead, 0x0, 0x0)\n        /Users/builder/workspace/darwin-386-cheney-4a4c92c7a243/go/src/pkg/go/doc/doc_test.go:56 +0x124 fp=0x30717038\nruntime.call16(0x1c8fb8, 0x1072fd40, 0x10)\n        /Users/builder/workspace/darwin-386-cheney-4a4c92c7a243/go/src/pkg/runtime/asm_386.s:359 +0x32 fp=0x3071704c\nreflect.Value.call(0x142a80, 0x1c8fb8, 0x0, 0x130, 0x17bb48, ...)\n        /Users/builder/workspace/darwin-386-cheney-4a4c92c7a243/go/src/pkg/reflect/value.go:614 +0x1038 fp=0x307172e4\nreflect.Value.Call(0x142a80, 0x1c8fb8, 0x0, 0x130, 0x1072fd30, ...)\n        /Users/builder/workspace/darwin-386-cheney-4a4c92c7a243/go/src/pkg/reflect/value.go:451 +0x75 fp=0x30717318\ntext/template.(*state).evalCall(0x107391c0, 0x11f120, 0x106c7ec4, 0x0, 0x166, ...)\n        /Users/builder/workspace/darwin-386-cheney-4a4c92c7a243/go/src/pkg/text/template/exec.go:555 +0x688 fp=0x3071744c\ntext/template.(*state).evalFunction(0x107391c0, 0x11f120, 0x106c7ec4, 0x0, 0x166, ...)\n        /Users/builder/workspace/darwin-386-cheney-4a4c92c7a243/go/src/pkg/text/template/exec.go:447 +0x1e5 fp=0x307174fc\ntext/template.(*state).evalCommand(0x107391c0, 0x11f120, 0x106c7ec4, 0x0, 0x166, ...)\n        /Users/builder/workspace/darwin-386-cheney-4a4c92c7a243/go/src/pkg/text/template/exec.go:351 +0x139 fp=0x30717584\ntext/template.(*state).evalPipeline(0x107391c0, 0x11f120, 0x106c7ec4, 0x0, 0x166, ...)\n        /Users/builder/workspace/darwin-386-cheney-4a4c92c7a243/go/src/pkg/text/template/exec.go:324 +0xf9 fp=0x30717634\u003c/pre\u003e",
	"user": {
		"login": "randall77",
		"id": 6889504,
		"type": "User",
		"site_admin": false
	},
	"labels": [
		{
			"name": "FrozenDueToAge"
		}
	],
	"comments": 15,
	"closed_at": "2014-12-08T10:39:25Z",
	"created_at": "2014-01-09T00:15:09Z",
	"updated_at": "2016-06-25T01:25:13Z",
	"milestone": {
		"id": 1067211,
		"number": 17,
		"title": "Go1.3"
	}
}
