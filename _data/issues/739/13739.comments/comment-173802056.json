{
	"id": 173802056,
	"body": "hello, ExtraExtensions works, but lose the critical flag.\r\n```\r\npackage main\r\n\r\nimport (\r\n    \"bytes\"\r\n    \"crypto/rand\"\r\n    \"crypto/rsa\"\r\n    \"crypto/x509\"\r\n    \"crypto/x509/pkix\"\r\n    \"encoding/asn1\"\r\n    \"encoding/pem\"\r\n    \"fmt\"\r\n)\r\n\r\nfunc example() {\r\n    subject := pkix.Name{\r\n        Country:            []string{\"CN\"},\r\n        Organization:       []string{\"Test X509\"},\r\n        OrganizationalUnit: []string{\"Test X509 Unit\"},\r\n        CommonName:         \"testX509 Csr\",\r\n    }   \r\n    type basicConstraints struct {\r\n        IsCA       bool `asn1:\"optional\"`\r\n        MaxPathLen int  `asn1:\"optional,default:-1\"`\r\n    }   \r\n    var extensions []pkix.Extension\r\n    basicCon := basicConstraints{IsCA: true, MaxPathLen: -1} \r\n    bitstr, err := asn1.Marshal(basicCon)\r\n    if err != nil {\r\n        //  \r\n    }   \r\n    var oidExtensionBasicConstraints = []int{2, 5, 29, 19} //export from x509 package\r\n    //notice: i set Critical flag here\r\n    bcExt := pkix.Extension{Id: oidExtensionBasicConstraints, Critical: true, Value: bitstr}\r\n    extensions = append(extensions, bcExt)\r\n    csrTmpl := \u0026x509.CertificateRequest{\r\n        Subject:            subject,\r\n        SignatureAlgorithm: x509.SHA1WithRSA,\r\n        ExtraExtensions:    extensions,\r\n    }   \r\n    priv, err := rsa.GenerateKey(rand.Reader, 2048)\r\n    if err != nil {\r\n        //  \r\n    }   \r\n    csr, err := x509.CreateCertificateRequest(rand.Reader, csrTmpl, priv)\r\n    if err != nil {\r\n        //  \r\n    }   \r\n    //pem encode and output\r\n    block := \u0026pem.Block{\r\n        Type:  \"CERTIFICATE REQUEST\", \r\n        Bytes: csr,\r\n    }   \r\n    var buf bytes.Buffer\r\n    err = pem.Encode(\u0026buf, block)\r\n    if err != nil {\r\n        //\r\n    }\r\n    fmt.Println(buf.String())\r\n}\r\n\r\nfunc main() {\r\n    example()\r\n}\r\n```\r\n\r\n```\r\ntest \u003e myout.csr\r\nopenssl req -in myout.csr -text\r\n```\r\nI want to get the csr have the Attributes \r\n```\r\nAttributes:\r\nRequested Extensions:\r\n            X509v3 Basic Constraints: critical\r\n                CA:TRUE\r\n```\r\nbut what i get is\r\n```\r\nAttributes:\r\nRequested Extensions:\r\n            X509v3 Basic Constraints: \r\n                CA:TRUE\r\n```\r\nthe critical flag is lost",
	"user": {
		"login": "nejisama",
		"id": 16449274,
		"type": "User",
		"site_admin": false
	},
	"created_at": "2016-01-22T04:18:14Z",
	"updated_at": "2016-01-22T04:18:14Z"
}
